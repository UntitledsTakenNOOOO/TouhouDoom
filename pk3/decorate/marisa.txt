ACTOR Marisa 31310
{
//$Category "Touhou Characters"
  Tag "Marisa Kirisame"
  Speed 8
  MONSTER
  Health 2500
  Radius 24
  Height 64
  Scale 0.7
  Mass 10000
  MeleeThreshold 64
  MeleeRange 64
  DamageFactor "MarisaDamage", 0
  DamageFactor "PlayerSpellcard", 0.5
  MinMissileChance 160
  +MISSILEMORE
  +DONTHURTSPECIES
  +LOOKALLAROUND
  +FLOORCLIP
  +DONTRIP
  +NORADIUSDMG
  +BOSS
  +NEVERRESPAWN
  +DONTMORPH
  +AMBUSH
  +NOICEDEATH
  Painchance 2
  Seesound ""
  Deathsound "touhou/defeat"
  PainSound "touhou/pain"
  Obituary "%o failed to get out of Marisa's way."
  DropItem "MarisaOrreriesSun"
  States
  {
  Spawn:
	MARI A 0
	MARI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,20,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",4433),false)
	MARI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,20,60)
  Idle:
    MARI BCDEFGHIJA 2 A_Look
    Loop
  See:
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Pain:
	MARI A 0 A_SetTranslucent(1.0)
    MARI K 2 A_Pain
    MARI LMLK 2
    Goto See
  Melee:
	MARB A 0 A_Jump(64,"Melee2")
    MARB ABCDE 3
	MARB F 3 A_CustomMeleeAttack(70,"touhou/remi/hit","none")
	MARB HIJK 3
	Goto See
  Melee2:
    MARB LMNOPQR 3
	MARB S 3 A_CustomMeleeAttack(100,"touhou/remi/hit","none")
	MARB TUVWX 3
	Goto See
  Missile:
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto Missile1
  Missile1:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile1Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile1Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile1Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile1Lunatic")
	Goto Missile1Normal
  Missile1Easy:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1EasyR",0,0,0)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1EasyY",0,0,72)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1EasyG",0,0,144)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1EasyB",0,0,216)
	MAR1 F 3 A_CustomMissile("MarisaNSSpawner1EasyV",0,0,288)
	MAR1 GFGFGHIJKLM 3 A_FaceTarget
	Goto See
  Missile1Normal:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1NormalR",0,0,0)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1NormalY",0,0,72)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1NormalG",0,0,144)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1NormalB",0,0,216)
	MAR1 F 3 A_CustomMissile("MarisaNSSpawner1NormalV",0,0,288)
	MAR1 GFGFGHIJKLM 3 A_FaceTarget
	Goto See
  Missile1Hard:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1HardR",0,0,0)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1HardY",0,0,72)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1HardG",0,0,144)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1HardB",0,0,216)
	MAR1 F 3 A_CustomMissile("MarisaNSSpawner1HardV",0,0,288)
	MAR1 GFGFGHIJKLM 3 A_FaceTarget
	Goto See
  Missile1Lunatic:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1LunaticR",0,0,0)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1LunaticY",0,0,72)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1LunaticG",0,0,144)
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner1LunaticB",0,0,216)
	MAR1 F 3 A_CustomMissile("MarisaNSSpawner1LunaticV",0,0,288)
	MAR1 GFGFGHIJKLM 3 A_FaceTarget
	Goto See
  Missile2:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile2Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile2Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile2Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile2Lunatic")
	Goto Missile2Normal
  Missile2Easy:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2EasyR",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2EasyY",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2EasyG",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2EasyB",0,0,0)
	MAR1 S 3 A_CustomMissile("MarisaNSSpawner2EasyV",0,0,0)
	MAR1 TSTSTUVWXYZ 3 A_FaceTarget
	Goto See
  Missile2Normal:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2NormalR",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2NormalY",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2NormalG",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2NormalB",0,0,0)
	MAR1 S 3 A_CustomMissile("MarisaNSSpawner2NormalV",0,0,0)
	MAR1 TSTSTUVWXYZ 3 A_FaceTarget
	Goto See
  Missile2Hard:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2HardR",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2HardY",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2HardG",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2HardB",0,0,0)
	MAR1 S 3 A_CustomMissile("MarisaNSSpawner2HardV",0,0,0)
	MAR1 TSTSTUVWXYZ 3 A_FaceTarget
	Goto See
  Missile2Lunatic:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2LunaticR",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2LunaticY",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2LunaticG",0,0,0)
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner2LunaticB",0,0,0)
	MAR1 S 3 A_CustomMissile("MarisaNSSpawner2LunaticV",0,0,0)
	MAR1 TSTSTUVWXYZ 3 A_FaceTarget
	Goto See
  MagicMissile:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"MagicMissileEasy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"MagicMissileNormal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"MagicMissileHard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MagicMissileLunatic")
	Goto MagicMissileLunatic
  MagicMissileEasy:
	MAR1 A 0 A_Jump(128,"MagicMissileEasy2")
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,45)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileEasy2:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-45)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileNormal:
	MAR1 A 0 A_Jump(128,"MagicMissileNormal2")
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,45)
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileNormal2:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-45)
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileHard:
	MAR1 A 0 A_Jump(128,"MagicMissileHard2")
	MAR1 ABCD 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,45)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-27)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile3",32,0,-36)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile3",32,0,-45)
	MAR1 IJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileHard2:
	MAR1 ABCD 3 A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-45)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,27)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile3",32,0,36)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile3",32,0,45)
	MAR1 IJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileLunatic:
	MAR1 A 0 A_Jump(128,"MagicMissileLunatic2")
	MAR1 ABCD 3 Fast A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,45)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,-45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,-27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,-9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,9)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile4",32,0,18)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile4",32,0,27)
	MAR1 I 1 A_CustomMissile("MarisaMagicMissile4",32,0,36)
	MAR1 I 1 A_CustomMissile("MarisaMagicMissile4",32,0,45)
	MAR1 JKLM 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MagicMissileLunatic2:
	MAR1 ABCD 3 Fast A_FaceTarget
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile1",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile1",32,0,45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile2",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile2",32,0,-45)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,-27)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,-9)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,0)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,18)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile3",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile3",32,0,36)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,45)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,36)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,27)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,18)
	MAR1 F 1 A_CustomMissile("MarisaMagicMissile4",32,0,9)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,0)
	MAR1 G 1 A_CustomMissile("MarisaMagicMissile4",32,0,-9)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile4",32,0,-18)
	MAR1 H 1 A_CustomMissile("MarisaMagicMissile4",32,0,-27)
	MAR1 I 1 A_CustomMissile("MarisaMagicMissile4",32,0,-36)
	MAR1 I 1 A_CustomMissile("MarisaMagicMissile4",32,0,-45)
	MAR1 JKLM 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  IllusionLaser:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"IllusionLaserEasy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"IllusionLaserNormal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"IllusionLaserHard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"IllusionLaserLunatic")
	Goto IllusionLaserLunatic
  IllusionLaserEasy:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 A 0 A_PlaySound("touhou/charge2",0,1.0,0,1.0)
	MAR1 FFFGGGFFFGGGFFFGGGFFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  IllusionLaserNormal:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 A 0 A_PlaySound("touhou/charge2",0,1.0,0,1.0)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGGFFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGGFFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  IllusionLaserHard:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 A 0 A_PlaySound("touhou/charge2",0,1.0,0,1.0)
	MAR1 FFFGGGFFFGGGFFFGGGFFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  IllusionLaserLunatic:
	MAR1 A 0 A_PlaySound("touhou/charge2",0,1.0,0,1.0)
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 FFFGGGFFFGGGFFFGGG 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,1.0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",-8)
	MAR1 A 0 A_FaceTarget
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MeteonicDebris:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"MeteonicDebrisEasy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"MeteonicDebrisNormal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"MeteonicDebrisHard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MeteonicDebrisLunatic")
	Goto MeteonicDebrisLunatic
  MeteonicDebrisEasy:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 3 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 3 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-8,8),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 UVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MeteonicDebrisNormal:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 S 2 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 T 2 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-12,12),CMF_OFFSETPITCH,frandom(-4,4))
	MAR1 UVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MeteonicDebrisHard:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-18,18),CMF_OFFSETPITCH,frandom(-6,6))
	MAR1 UVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MeteonicDebrisLunatic:
	MAR1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_STATIC)
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 S 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile1",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile2",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 0 A_CustomMissile("MarisaMagicMissile3",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 T 1 A_CustomMissile("MarisaMagicMissile4",32,0,frandom(-27,27),CMF_OFFSETPITCH,frandom(-9,9))
	MAR1 UVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  RadialStrike:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"RadialStrikeEasy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"RadialStrikeNormal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"RadialStrikeHard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"RadialStrikeLunatic")
	Goto RadialStrikeLunatic
  RadialStrikeEasy:
	MARB LMNOPQR 3 A_FaceTarget
	MARB S 3 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB TUVWX 3 A_FaceTarget
	MARB A 0 A_Jump(128,"Missile")
	Goto See
  RadialStrikeNormal:
	MARB LMNOPQR 3 A_FaceTarget
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 2 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB TUVWX 3 A_FaceTarget
	MARB A 0 A_Jump(128,"Missile")
	Goto See
  RadialStrikeHard:
	MARB LMNOPQR 3 A_FaceTarget
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 0 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB TUVWX 3 A_FaceTarget
	MARB A 0 A_Jump(128,"Missile")
	Goto See
  RadialStrikeLunatic:
	MARB A 0 A_PlaySound("touhou/spellcard",0,1.0,0,1.0)
	MARB LMNOPQR 3 A_FaceTarget
	MARB S 0 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 0 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 0 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB S 1 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
	MARB TUVWX 3 A_FaceTarget
	MARB A 0 A_Jump(128,"Missile")
	Goto See
  Death:
	MARI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
    MARI K 0 A_NoBlocking
	MARI K 0 A_PlaySound("touhou/nuefire")
	MARI KKKLLLMMM 3 A_FadeOut(0.1)
	Stop
  }
}
ACTOR MarisaMagicMissile1
{
  Radius 4
  Speed 8
  Height 8
  damage (0)
  Scale 0.5
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  +FORCERADIUSDMG
  Alpha 0.8
  DeathSound "weapons/rocklx"
  States
  {
  Spawn:
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
    MSTR A 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    MSTR A 1 Bright A_ScaleVelocity(1.1)
  LoopState:
    MSTR A 1 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",0,0,0,0,0,0,0,0,0)
    Loop
  XDeath:
  Crash:
  Death:
    MSTR A 0 A_Explode(16,91,0)
    MSTR AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 Bright A_SpawnItemEx("MarisaMagicMissile1Trail",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
    MSTR AAAAAAAAAA 4 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaMagicMissile1Trail
{
  Radius 4
  Speed 8
  Height 8
  Scale 0.4
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR A 1 Bright A_FadeOut(0.08)
    Loop
  }
}
ACTOR MarisaMagicMissile2
{
  Radius 4
  Speed 8
  Height 8
  damage (0)
  Scale 0.5
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  +FORCERADIUSDMG
  Alpha 0.8
  DeathSound "weapons/rocklx"
  States
  {
  Spawn:
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
    MSTR B 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    MSTR B 1 Bright A_ScaleVelocity(1.1)
  LoopState:
    MSTR B 1 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",0,0,0,0,0,0,0,0,0)
    Loop
  XDeath:
  Crash:
  Death:
    MSTR B 0 A_Explode(16,91,0)
    MSTR BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB 0 Bright A_SpawnItemEx("MarisaMagicMissile2Trail",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
    MSTR BBBBBBBBBB 4 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaMagicMissile2Trail
{
  Radius 4
  Speed 8
  Height 8
  Scale 0.4
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR B 1 Bright A_FadeOut(0.08)
    Loop
  }
}
ACTOR MarisaMagicMissile3
{
  Radius 4
  Speed 8
  Height 8
  damage (0)
  Scale 0.5
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  +FORCERADIUSDMG
  Alpha 0.8
  DeathSound "weapons/rocklx"
  States
  {
  Spawn:
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
    MSTR C 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    MSTR C 1 Bright A_ScaleVelocity(1.1)
  LoopState:
    MSTR C 1 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",0,0,0,0,0,0,0,0,0)
    Loop
  XDeath:
  Crash:
  Death:
    MSTR C 0 A_Explode(16,91,0)
    MSTR CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC 0 Bright A_SpawnItemEx("MarisaMagicMissile3Trail",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
    MSTR CCCCCCCCCC 4 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaMagicMissile3Trail
{
  Radius 4
  Speed 8
  Height 8
  Scale 0.4
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR C 1 Bright A_FadeOut(0.08)
    Loop
  }
}
ACTOR MarisaMagicMissile4
{
  Radius 4
  Speed 8
  Height 8
  damage (0)
  Scale 0.5
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  +FORCERADIUSDMG
  Alpha 0.8
  DeathSound "weapons/rocklx"
  States
  {
  Spawn:
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
    MSTR D 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    MSTR D 1 Bright A_ScaleVelocity(1.1)
  LoopState:
    MSTR D 1 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",0,0,0,0,0,0,0,0,0)
    Loop
  XDeath:
  Crash:
  Death:
    MSTR D 0 A_Explode(16,91,0)
    MSTR DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD 0 Bright A_SpawnItemEx("MarisaMagicMissile4Trail",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
    MSTR DDDDDDDDDD 4 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaMagicMissile4Trail
{
  Radius 4
  Speed 8
  Height 8
  Scale 0.4
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR D 1 Bright A_FadeOut(0.08)
    Loop
  }
}
ACTOR MarisaIllusionLaserTrail
{
  Radius 4
  Speed 0
  Height 8
  Scale 0.4
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR I 1 Bright A_FadeOut(0.02)
    Loop
  }
}
ACTOR MarisaRadialStrikeSpawner
{
  Radius 4
  Speed 32
  Height 8
  damage (4)
  Scale 0.9
  Projectile
  Renderstyle Add
  +RIPPER
  Alpha 0.8
  DeathSound "weapons/rocklx"
  States
  {
  Spawn:
	MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
    MSTR I 1 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",0,0,0,0,0,0,0,0,0)
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet1",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet2",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet3",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
	MSTR I 0 Bright A_CustomMissile("MarisaRadialStrikeBullet4",0,0,random(0,360),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(-90,90))
  XDeath:
  Crash:
  Death:
    MSTR IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 Bright A_SpawnItemEx("MarisaRadialStrikeSpawnerTrail",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
    MSTR IIIIIIIIIIIIIIIIIIII 4 Bright A_FadeOut(0.05)
    Stop
  }
}
ACTOR MarisaRadialStrikeSpawnerTrail
{
  Radius 4
  Speed 8
  Height 8
  Scale 0.6
  Renderstyle Add
  Alpha 0.8
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    MSTR I 1 Bright A_FadeOut(0.08)
    Loop
  }
}
ACTOR MarisaRadialStrikeBullet1
{
  Speed 10
  Radius 3
  Height 6
  damage (10)
  Scale 0.33
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  Alpha 1.0
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	MSTR E 0
	MSTE E 1 Bright A_ScaleVelocity(frandom(0.5,2.0))
  LoopState:
    MSTR E 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    MSTR EEEEEEEEEE 1 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaRadialStrikeBullet2
{
  Speed 10
  Radius 3
  Height 6
  damage (10)
  Scale 0.33
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  Alpha 1.0
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	MSTR F 0
	MSTE F 1 Bright A_ScaleVelocity(frandom(0.5,2.0))
  LoopState:
    MSTR F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    MSTR FFFFFFFFFF 1 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaRadialStrikeBullet3
{
  Speed 10
  Radius 3
  Height 6
  damage (10)
  Scale 0.33
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  Alpha 1.0
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	MSTR G 0
	MSTE G 1 Bright A_ScaleVelocity(frandom(0.5,2.0))
  LoopState:
    MSTR G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    MSTR GGGGGGGGGG 1 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaRadialStrikeBullet4
{
  Speed 10
  Radius 3
  Height 6
  damage (10)
  Scale 0.33
  Projectile
  Renderstyle Add
  DamageType "MarisaDamage"
  Alpha 1.0
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	MSTR H 0
	MSTE H 1 Bright A_ScaleVelocity(frandom(0.5,2.0))
  LoopState:
    MSTR H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    MSTR HHHHHHHHHH 1 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR MarisaNSSpawner1EasyR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner1EasyY : MarisaNSSpawner1EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1EasyG : MarisaNSSpawner1EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1EasyB : MarisaNSSpawner1EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1EasyV : MarisaNSSpawner1EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1NormalR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner1NormalY : MarisaNSSpawner1NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1NormalG : MarisaNSSpawner1NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1NormalB : MarisaNSSpawner1NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1NormalV : MarisaNSSpawner1NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1HardR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner1HardY : MarisaNSSpawner1HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1HardG : MarisaNSSpawner1HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1HardB : MarisaNSSpawner1HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1HardV : MarisaNSSpawner1HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1LunaticR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner1LunaticY : MarisaNSSpawner1LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1LunaticG : MarisaNSSpawner1LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1LunaticB : MarisaNSSpawner1LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner1LunaticV : MarisaNSSpawner1LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 160, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2EasyR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner2EasyY : MarisaNSSpawner2EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2EasyG : MarisaNSSpawner2EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2EasyB : MarisaNSSpawner2EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2EasyV : MarisaNSSpawner2EasyR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",10,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 13 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2NormalR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner2NormalY : MarisaNSSpawner2NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2NormalG : MarisaNSSpawner2NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2NormalB : MarisaNSSpawner2NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2NormalV : MarisaNSSpawner2NormalR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",15,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 9 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2HardR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner2HardY : MarisaNSSpawner2HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2HardG : MarisaNSSpawner2HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2HardB : MarisaNSSpawner2HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2HardV : MarisaNSSpawner2HardR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 6 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2LunaticR
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletR",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner2LunaticY : MarisaNSSpawner2LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 72)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletY",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2LunaticG : MarisaNSSpawner2LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 144)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletG",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2LunaticB : MarisaNSSpawner2LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 216)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletB",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSSpawner2LunaticV : MarisaNSSpawner2LunaticR
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 288)
	Goto LoopState
  LoopState:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNSBulletV",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 3)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 2)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 80, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  }
}
ACTOR MarisaNSBulletR
{
  Radius 2
  Height 4
  Speed 8
  FastSpeed 16
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaNSBulletY
{
  Radius 2
  Height 4
  Speed 8
  FastSpeed 16
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    YSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    YSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaNSBulletG
{
  Radius 2
  Height 4
  Speed 8
  FastSpeed 16
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    GSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    GSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaNSBulletB
{
  Radius 2
  Height 4
  Speed 8
  FastSpeed 16
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    BSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaNSBulletV
{
  Radius 2
  Height 4
  Speed 8
  FastSpeed 16
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    VSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    VSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaOrreriesSun : Marisa
{
  +INVULNERABLE
  +NOPAIN
  var int user_angle;
  DropItem "MarisaNS2"
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI ABCDEFGHIJ 2 A_Look
	Goto Idle
  Pain:
	MAR1 A 0 A_TakeInventory("MarisaSpreadTrigger",1)
	MAR1 A 0 A_TakeInventory("MarisaAimTrigger",1)
	MAR1 A 0 A_TakeInventory("MarisaLaserTrigger",1)
	MARI A 0 A_SetTranslucent(1.0)
    MARI K 2 A_Pain
    MARI LMLK 2
    Goto See
  See:
	MAR2 A 0 A_SetTranslucent(1.0,0)
	MAR2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    MAR2 ABCDE 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6216)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6216,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",4433),true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6216,75)
	MAR2 A 0 ACS_Execute(602,0,86)
	MAR2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	MAR2 A 0 A_GiveInventory("SpellcardActive",1)
  SpellcardStart:
	MAR2 A 0 A_JumpIfInTargetInventory("EasyMode",1,"SpellcardStartEasy")
	MAR2 A 0 A_JumpIfInTargetInventory("NormalMode",1,"SpellcardStartNormal")
	MAR2 A 0 A_JumpIfInTargetInventory("HardMode",1,"SpellcardStartHard")
	MAR2 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"SpellcardStartLunatic")
	Goto SpellcardStartLunatic
  SpellcardStartEasy:
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbRed",32,0,0)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbBlueE",32,0,120)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbGreenE",32,0,240)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  SpellcardStartNormal:
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbRed",32,0,0)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbBlueN",32,0,90)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbGreenN",32,0,180)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbYellowN",32,0,270)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  SpellcardStartHard:
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbRed",32,0,0)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbBlueH",32,0,72)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbGreenH",32,0,144)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbYellowH",32,0,216)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbVioletH",32,0,288)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  SpellcardStartLunatic:
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbRed",32,0,0)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbBlueL",32,0,60)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbGreenL",32,0,120)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbYellowL",32,0,180)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbVioletL",32,0,240)
	MAR2 A 0 A_CustomMissile("MarisaOrreriesSunOrbOrangeL",32,0,300)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Missile:
	MARI A 0 A_Jump(255,"Laser","AimBullet","SpreadBullet")
	Goto SpreadBullet
  SpreadBullet:
	MAR1 A 0 A_GiveInventory("MarisaSpreadTrigger",1)
	MAR1 ABCDEFGHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_TakeInventory("MarisaSpreadTrigger",1)
	Goto See
  AimBullet:
	MAR1 A 0 A_GiveInventory("MarisaAimTrigger",1)
	MAR1 ABCDEFGHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_TakeInventory("MarisaAimTrigger",1)
	Goto See
  Laser:
	MAR1 A 0 A_GiveInventory("MarisaLaserTrigger",1)
	MAR1 A 0 A_PlaySound("touhou/charge",0,1.0,0,0.5)
	MAR1 ABCDEFGHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_PlaySound("touhou/laser",0,1.0,0,0.25)
	MAR1 A 0 A_TakeInventory("MarisaLaserTrigger",1)
	Goto See
  Death:
	MARI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	MARI K 0 ACS_Execute(603,0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
    MARI K 0 A_NoBlocking
	MARI K 0 A_PlaySound("touhou/nuefire")
	MARI KKKLLLMMM 3 A_FadeOut(0.1)
	Stop
  }
}
ACTOR MarisaSpreadTrigger : Boolean {}
ACTOR MarisaAimTrigger : Boolean {}
ACTOR MarisaLaserTrigger : Boolean {}
ACTOR MarisaOrreriesSunOrbRed
{
  +MISSILE
  +NOINTERACTION
  Scale 0.5

  var int user_warpangle;

  States
  {
  Spawn:
    ORRS A 0
    ORRS A 0 Bright A_SetUserVar("user_warpangle", 0)
	ORRS A 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS A 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  LoopState:
	ORRS "#" 0 Bright A_TakeInventory("EnemyCounter1",200)
	ORRS "#" 0 Bright A_TakeInventory("EnemyCounter2",50)
	ORRS "#" 0 Bright A_TakeInventory("EnemyCounter3",50)
	ORRS "#" 0 Bright A_TakeInventory("EnemyCounter4",300)
    ORRS "#" 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	ORRS "#" 0 Bright A_JumpIfInTargetInventory("MarisaSpreadTrigger",1,"SpreadShot")
	ORRS "#" 0 Bright A_JumpIfInTargetInventory("MarisaAimTrigger",1,"AimShot")
	ORRS "#" 0 Bright A_JumpIfInTargetInventory("MarisaLaserTrigger",1,"LaserShot")
	ORRS "#" 0 Bright A_FaceTarget
	ORRS "#" 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 5)
	ORRS "#" 1 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  SpreadShot:
    ORRS "#" 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	ORRS "#" 0 Bright A_JumpIfInventory("EnemyCounter1",50,"LoopState")
	ORRS "#" 0 Bright A_GiveInventory("EnemyCounter1",1)
	ORRS "#" 0 Bright A_FaceTarget
	ORRS "#" 0 Bright A_CustomMissile("MarisaOrreriesSunStar",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    ORRS "#" 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 23)
	ORRS "#" 1 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  AimShot:
    ORRS "#" 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	ORRS "#" 0 Bright A_JumpIfInventory("EnemyCounter2",50,"LoopState")
	ORRS "#" 0 Bright A_GiveInventory("EnemyCounter2",1)
	ORRS "#" 0 Bright A_FaceTarget
	ORRS "#" 0 Bright A_CustomMissile("MarisaOrreriesSunAimedShot",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    ORRS "#" 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 13)
	ORRS "#" 1 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  LaserShot:
    ORRS "#" 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	ORRS "#" 0 Bright A_JumpIfInventory("EnemyCounter3",50,"LaserShot2")
	ORRS "#" 0 Bright A_GiveInventory("EnemyCounter3",1)
	ORRS "#" 0 Bright A_FaceTarget
	ORRS "#" 0 Bright A_SetAngle(angle+180)
	ORRS "#" 0 Bright A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"HarmlessLaserTrail",-16)
    ORRS "#" 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 2)
	ORRS "#" 1 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  LaserShot2:
    ORRS "#" 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	ORRS "#" 0 Bright A_JumpIfInventory("EnemyCounter4",50,"LoopState")
	ORRS "#" 0 Bright A_GiveInventory("EnemyCounter4",1)
	ORRS "#" 0 Bright A_FaceTarget
	ORRS "#" 0 Bright A_SetAngle(angle+180)
	ORRS "#" 0 Bright A_CustomRailgun(10,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"PatchyBlueLaserTrail",-16)
    ORRS "#" 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 1)
	ORRS "#" 1 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    ORRS "##########" 2 A_FadeOut
    Stop
  }
}
ACTOR MarisaOrreriesSunOrbBlueE : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS B 0
    ORRS B 0 Bright A_SetUserVar("user_warpangle", 120)
	ORRS B 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS B 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbGreenE : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS C 0
    ORRS C 0 Bright A_SetUserVar("user_warpangle", 240)
	ORRS C 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS C 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbBlueN : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS B 0
    ORRS B 0 Bright A_SetUserVar("user_warpangle", 90)
	ORRS B 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS B 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbGreenN : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS C 0
    ORRS C 0 Bright A_SetUserVar("user_warpangle", 180)
	ORRS C 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS C 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbYellowN : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS D 0
    ORRS D 0 Bright A_SetUserVar("user_warpangle", 270)
	ORRS D 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS D 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbBlueH : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS B 0
    ORRS B 0 Bright A_SetUserVar("user_warpangle", 72)
	ORRS B 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS B 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbGreenH : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS C 0
    ORRS C 0 Bright A_SetUserVar("user_warpangle", 144)
	ORRS C 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS C 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbYellowH : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS D 0
    ORRS D 0 Bright A_SetUserVar("user_warpangle", 216)
	ORRS D 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS D 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbVioletH : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS E 0
    ORRS E 0 Bright A_SetUserVar("user_warpangle", 288)
	ORRS E 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS E 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbBlueL : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS B 0
    ORRS B 0 Bright A_SetUserVar("user_warpangle", 60)
	ORRS B 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS B 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbGreenL : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS C 0
    ORRS C 0 Bright A_SetUserVar("user_warpangle", 120)
	ORRS C 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS C 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbYellowL : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS D 0
    ORRS D 0 Bright A_SetUserVar("user_warpangle", 180)
	ORRS D 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS D 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbVioletL : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS E 0
    ORRS E 0 Bright A_SetUserVar("user_warpangle", 240)
	ORRS E 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS E 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunOrbOrangeL : MarisaOrreriesSunOrbRed
{
  States
  {
  Spawn:
    ORRS F 0
    ORRS F 0 Bright A_SetUserVar("user_warpangle", 300)
	ORRS F 0 Bright A_Warp(AAPTR_TARGET, 96, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	ORRS F 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR MarisaOrreriesSunStar
{
  Radius 3
  Height 6
  Speed 10
  FastSpeed 20
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WST2 A 0
	WST2 A 0 A_Jump(224,"Red","Orange","Yellow","Green","Cyan","Blue","Violet")
	Goto White
  Red:
    RST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Orange:
    OST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Yellow:
    YST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Green:
    GST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Cyan:
    CST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Blue:
    BST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Violet:
    VST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  White:
    WST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WST2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaOrreriesSunAimedShot
{
  Radius 2
  Height 4
  Speed 20
  FastSpeed 30
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WSTR A 0
	WSTR A 0 A_Jump(224,"Nope")
	WSTR AAAA 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,255,64)
	WSTR A 0 A_Jump(128,"Blue")
	Goto White
  Blue:
    BSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  White:
    WSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Nope:
	TNT1 A 0
	Stop
  Death:
    WSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaNS2 : Marisa
{
  DropItem "MarisaMilkyWay"
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI A 1 Thing_ChangeTID(0,6217)
	MARI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6217,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",3322),false)
	MARI B 1 ACS_NamedExecute("BHI_BossStartTimer",0,6217,60)
	MARI B 1 A_SetTranslucent(1.0,0)
	MARI CDEFGHIJ 2 A_Look
	Goto Idle
  See:
	MARI A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TNT1 A 0 Thing_ChangeTID(0,6217)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6217,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",3322),false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6217,60)
	MARI A 0 A_SetTranslucent(1.0,0)
	MARI A 0 A_GiveInventory("SpellcardActive")
	MARI A 0 A_UnSetInvulnerable
  ChaseState:
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Missile:
	MAR1 A 0 A_Jump(255,"Missile1","Missile2","MagicMissile","IllusionLaser","MeteonicDebris","RadialStrike")
	Goto Missile1
  Missile1:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile1Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile1Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile1Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile1Lunatic")
	Goto Missile1Normal
  Missile1Easy:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner3Easy",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Normal:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner3Normal",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Hard:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner3Hard",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Lunatic:
	MAR1 ABCDE 3 Fast A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner3Lunatic",0,0,0)
	MAR1 GHIJKLM 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile2:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile2Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile2Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile2Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile2Lunatic")
	Goto Missile2Normal
  Missile2Easy:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner4Easy",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Normal:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner4Normal",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Hard:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner4Hard",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Lunatic:
	MAR1 NOPQR 3 Fast A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner4Lunatic",0,0,0)
	MAR1 TUVWXYZ 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  }
}
ACTOR MarisaNSSpawner3Easy
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",28,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 6)
	TNT1 A 5 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner4Easy
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",28,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 6)
	TNT1 A 5 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner3Normal
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 6)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner4Normal
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 6)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner3Hard
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",60,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 6)
	TNT1 A 3 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner4Hard
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",60,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 6)
	TNT1 A 3 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner3Lunatic
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",100,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle + 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 6)
	TNT1 A 2 Fast A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner4Lunatic
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;
  var int user_fireangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",100,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS2Bullet",32,0,user_fireangle+180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_fireangle", user_fireangle - 13)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 6)
	TNT1 A 2 Fast A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNS2Bullet
{
  Radius 2
  Height 4
  Speed 16
  FastSpeed 24
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WSTR A 0
	WSTR A 0 A_Jump(224,"Red","Orange","Yellow","Green","Cyan","Blue","Violet")
	Goto White
  Red:
    RSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Orange:
    OSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Yellow:
    YSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Green:
    GSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Cyan:
    CSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Blue:
    BSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Violet:
    VSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  White:
    WSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaMilkyWay : Marisa
{
  +INVULNERABLE
  +NOPAIN
  var int user_angle;
  DropItem "MarisaNS3"
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI ABCDEFGHIJ 2 A_Look
	Goto Idle
  See:
	MAR2 A 0 A_SetTranslucent(1.0,0)
	MAR2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    MAR2 ABCDE 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6218)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6218,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",3322),true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6218,65)
	MAR2 A 0 ACS_Execute(602,0,87)
	MAR2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	MAR2 A 0 A_GiveInventory("SpellcardActive",1)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
    MARI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	MAR3 ABCDE 3 Fast A_FaceTarget
	MAR3 A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	MAR3 A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	MAR3 A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	MAR3 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileHard
  MissileEasy:
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 FFF 0 A_CustomMissile("MarisaMilkyWayYellowStar",32,random(384,512),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 FFF 0 A_CustomMissile("MarisaMilkyWayGreenStar",32,random(-512,-384),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_MonsterRefire(30,"MissileEnd")
	Loop
  MissileNormal:
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+45,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+135,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+225,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+315,CMF_AIMDIRECTION)
	MAR3 FFFF 0 A_CustomMissile("MarisaMilkyWayYellowStar",32,random(384,512),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+45,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+135,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+225,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+315,CMF_AIMDIRECTION)
	MAR3 FFFF 0 A_CustomMissile("MarisaMilkyWayGreenStar",32,random(-512,-384),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_MonsterRefire(30,"MissileEnd")
	Loop
  MissileHard:
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+30,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+60,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+120,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+150,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+210,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+240,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+300,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+330,CMF_AIMDIRECTION)
	MAR3 FFFFF 0 A_CustomMissile("MarisaMilkyWayYellowStar",32,random(384,512),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+30,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+60,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+90,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+120,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+150,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+180,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+210,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+240,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+270,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+300,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+330,CMF_AIMDIRECTION)
	MAR3 FFFFF 0 A_CustomMissile("MarisaMilkyWayGreenStar",32,random(-512,-384),frandom(-45,45))
	MAR3 FG 3 A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_MonsterRefire(30,"MissileEnd")
	Loop
  MissileLunatic:
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+22.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+45.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+67.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+90.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+112.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+135.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+157.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+180.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+202.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+225.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+247.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+270.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+292.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+315.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayBlueStar",32,0,user_angle+337.5,CMF_AIMDIRECTION)
	MAR3 FFFFFF 0 A_CustomMissile("MarisaMilkyWayYellowStar",32,random(384,512),frandom(-45,45))
	MAR3 FG 3 Fast A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+22.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+45.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+67.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+90.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+112.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+135.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+157.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+180.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+202.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+225.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+247.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+270.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+292.5,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+315.0,CMF_AIMDIRECTION)
	MAR3 F 0 A_CustomMissile("MarisaMilkyWayRedStar",32,0,user_angle+337.5,CMF_AIMDIRECTION)
	MAR3 FFFFFF 0 A_CustomMissile("MarisaMilkyWayGreenStar",32,random(-512,-384),frandom(-45,45))
	MAR3 FG 3 Fast A_SetUserVar("user_angle",user_angle+4)
	MAR3 F 0 A_MonsterRefire(30,"MissileEnd")
	Loop
  MissileEnd:
	MAR3 HIJ 4 Fast
	Goto See
  Death:
	MARI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	MARI K 0 ACS_Execute(603,0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
    MARI K 0 A_NoBlocking
	MARI K 0 A_PlaySound("touhou/nuefire")
	MARI KKKLLLMMM 3 A_FadeOut(0.1)
	Stop 
  }
}
ACTOR MarisaMilkyWayBlueStar
{
  Radius 3
  Height 6
  Speed 10
  FastSpeed 20
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    BST2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaMilkyWayRedStar : MarisaMilkyWayBlueStar
{
  States
  {
  Spawn:
    RST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RST2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaMilkyWayYellowStar
{
  Radius 2
  Height 4
  Speed 4
  FastSpeed 10
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    YSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    YSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaMilkyWayGreenStar : MarisaMilkyWayYellowStar
{
  States
  {
  Spawn:
    GSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    GSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaNS3 : Marisa
{
  DropItem "MarisaMasterSpark"
  +MISSILEEVENMORE
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI A 1 Thing_ChangeTID(0,6219)
	MARI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6219,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",2211),false)
	MARI B 1 ACS_NamedExecute("BHI_BossStartTimer",0,6219,70)
	MARI B 1 A_SetTranslucent(1.0,0)
	MARI CDEFGHIJ 2 A_Look
	Goto Idle
  See:
	MARI A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TNT1 A 0 Thing_ChangeTID(0,6219)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6219,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",2211),false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6219,70)
	MARI A 0 A_SetTranslucent(1.0,0)
	MARI A 0 A_GiveInventory("SpellcardActive")
	MARI A 0 A_UnSetInvulnerable
	MARI A 0 A_ChangeFlag("NOPAIN",0)
  ChaseState:
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Missile:
	MAR1 A 0 A_Jump(255,"Missile1","Missile2","MagicMissile","IllusionLaser","MeteonicDebris","RadialStrike")
	Goto Missile1
  Missile1:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile1Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile1Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile1Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile1Lunatic")
	Goto Missile1Normal
  Missile1Easy:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner5Easy",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Normal:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner5Normal",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Hard:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner5Hard",0,0,0)
	MAR1 GHIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile1Lunatic:
	MAR1 ABCDE 3 Fast A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaNSSpawner5Lunatic",0,0,0)
	MAR1 GHIJKLM 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile2")
	Goto See
  Missile2:
	MAR1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile2Easy")
	MAR1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile2Normal")
	MAR1 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile2Hard")
	MAR1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile2Lunatic")
	Goto Missile2Normal
  Missile2Easy:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner6Easy",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Normal:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner6Normal",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Hard:
	MAR1 NOPQR 3 A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner6Hard",0,0,0)
	MAR1 TUVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  Missile2Lunatic:
	MAR1 NOPQR 3 Fast A_FaceTarget
	MAR1 S 0 A_CustomMissile("MarisaNSSpawner6Lunatic",0,0,0)
	MAR1 TUVWXYZ 3 Fast A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile1")
	Goto See
  }
}
ACTOR MarisaNSSpawner5Easy
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",28,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 17)
	TNT1 A 5 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner6Easy
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",28,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 17)
	TNT1 A 5 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner5Normal
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 17)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner6Normal
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",40,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 17)
	TNT1 A 4 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner5Hard
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",60,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 17)
	TNT1 A 3 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner6Hard
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",60,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 17)
	TNT1 A 3 Bright A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner5Lunatic
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",100,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + 17)
	TNT1 A 2 Fast A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNSSpawner6Lunatic
{
  +MISSILE
  +NOINTERACTION

  var int user_warpangle;

  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",100,"Death")
    TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(0,180),CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("MarisaNS3Bullet",32,0,random(181,359),CMF_AIMDIRECTION|CMF_TRACKOWNER)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle - 17)
	TNT1 A 2 Fast A_Warp(AAPTR_TARGET, 128, 0, 0, user_warpangle, WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}
ACTOR MarisaNS3Bullet
{
  Radius 2
  Height 4
  Speed 24
  FastSpeed 32
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WSTR A 0
	WSTR A 0 A_Jump(224,"Red","Orange","Yellow","Green","Cyan","Blue","Violet")
	Goto White
  Red:
    RSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Orange:
    OSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Yellow:
    YSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Green:
    GSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Cyan:
    CSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Blue:
    BSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Violet:
    VSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  White:
    WSTR A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WSTR AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaMasterSpark : Marisa
{
  +INVULNERABLE
  +NOPAIN
  +MISSILEEVENMORE
  var int user_angle;
  PainChance "PlayerSpellcard", 255
  DropItem "None"
  Health 3000
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI ABCDEFGHIJ 2 A_Look
	Goto Idle
  See:
	MAR2 A 0 A_SetTranslucent(1.0,0)
	MAR2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	MAR2 A 0 Thing_ChangeTID(0,20)
	MAR2 A 0 ACS_Execute(56,0)
    MAR2 ABCDE 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6220)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6220,ACS_NamedExecuteWithResult("BHI_SpellCardsBySkillLevel",2211),true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6220,75)
	MAR2 A 0 ACS_Execute(602,0,88)
	MAR2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	MAR2 A 0 A_GiveInventory("SpellcardActive",1)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Missile:
	MAR1 ABCD 3 Fast A_FaceTarget
	MAR1 A 0 A_PlaySound("touhou/charge3",0,1.0,0,ATTN_NONE)
	MAR1 EEEFFFGGGHHHIIIJJJ 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MAR1 A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MAR1 A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MAR1 HHHIIIJJJKKKLLLMMM 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MARS A 0 Radius_Quake(6,105,0,32,0)
	MARS AAAABBBBCCCCDDDD 1 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",-8)
	MARS A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	MARS A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	MARS A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	MARS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileLunatic
  MissileEasy:
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS E 3 A_CustomRailgun(1,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS GHI 3 A_FaceTarget
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS JKLM 3 A_FaceTarget
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS NOPQ 3 A_FaceTarget
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	Goto See
  MissileNormal:
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS E 3 A_CustomRailgun(100,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS GH 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS IJK 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS LMN 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS OPQ 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	Goto See
  MissileHard:
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS E 3 A_CustomRailgun(10000,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS G 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS HI 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS JK 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS LM 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS NO 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS QR 3
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	Goto See
  MissileLunatic:
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS E 3 Fast A_CustomRailgun(1000000,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 Fast A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS G 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS H 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS I 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS J 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS K 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS L 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS M 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS N 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS O 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS P 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	MARS Q 3 Fast
	MARS A 0 A_SetUserVar("user_angle",random(0,360))
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar",32,0,user_angle+330)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+0)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+30)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+60)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+90)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+120)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+150)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+180)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+210)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+240)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+270)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+300)
	MARS A 0 A_CustomMissile("MarisaMasterSparkStar2",32,0,user_angle+330)
	Goto See
  Pain.PlayerSpellcard:
	MARI A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile+22
  Death:
	MARI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TNT1 A 0 A_JumpIfInTargetInventory("EasyMode",1,"LastSpell")
	TNT1 A 0 A_JumpIfInTargetInventory("NormalMode",1,"LastSpell")
	TNT1 A 0 A_JumpIfInTargetInventory("HardMode",1,"420ModeActivate")
	TNT1 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"420ModeActivate")
    Goto 420ModeActivate
  LastSpell:
	MARI K 0 ACS_Execute(603,0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
	MARI K 0 A_NoBlocking
	MARI K 0 A_PlaySound("touhou/nuefire")
	MARI KKKLLLMMM 3 A_FadeOut(0.1)
	TNT1 A 0 ACS_Execute(57,0)
	Stop
  420ModeActivate:
	MARI K 0 ACS_Execute(603,0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
	MARI K 0 A_NoBlocking
	MARI K 0 A_PlaySound("touhou/nuefire")
	MARI KKKLLLMMM 3 A_FadeOut(0.1)
	TNT1 A 0 A_SpawnItemEx("MarisaBlazingStar",0,0,0,0,0,0,0,SXF_TELEFRAG,0)
	Stop
  }
}
ACTOR MarisaMasterSparkStar
{
  Radius 3
  Height 6
  Speed 6
  FastSpeed 12
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WST2 A 0
	WST2 A 0 A_Jump(224,"Red","Orange","Yellow","Green","Cyan","Blue","Violet")
	Goto White
  Red:
    RST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Orange:
    OST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Yellow:
    YST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Green:
    GST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Cyan:
    CST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Blue:
    BST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Violet:
    VST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  White:
    WST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WST2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR MarisaMasterSparkStar2 : MarisaMasterSparkStar
{
  Speed 12
  FastSpeed 18
}
ACTOR MarisaMasterSparkTrail
{
  Radius 0
  Height 0
  Scale 8.0
  Speed 0
  Damage (0)
  Projectile
  +NOBLOOD
  +DONTSPLASH
  +FORCEXYBILLBOARD
  +FORCERADIUSDMG
  +PUFFGETSOWNER
  +NODAMAGETHRUST
  +THRUACTORS
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/nuefire"
  DeathSound ""
  States
  {
  Spawn:
	TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",25,"Death")
	TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_Explode(16,96,0)
	TNT1 A 0 Bright A_Jump(255,"Red","Orange","Yellow","Green","Cyan","Blue","Violet","White")
  Red:
	RBL4 A 2 Bright
	Goto Spawn
  Orange:
	OBL4 A 2 Bright
	Goto Spawn
  Yellow:
	YBL4 A 2 Bright
	Goto Spawn
  Green:
	GBL4 A 2 Bright
	Goto Spawn
  Cyan:
	CBL4 A 2 Bright
	Goto Spawn
  Blue:
	BBL4 A 2 Bright
	Goto Spawn
  Violet:
	VBL4 A 2 Bright
	Goto Spawn
  White:
	WBL4 A 2 Bright
	Goto Spawn
  Death:
	TNT1 A 0 Bright A_Jump(255,"RedDeath","OrangeDeath","YellowDeath","GreenDeath","CyanDeath","BlueDeath","VioletDeath","WhiteDeath")
  RedDeath:
	RBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  OrangeDeath:
	OBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  YellowDeath:
	YBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  GreenDeath:
	GBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  CyanDeath:
	CBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  BlueDeath:
	BBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  VioletDeath:
	VBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  WhiteDeath:
	WBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  }
}
ACTOR MarisaMasterSparkHat //THE MOST IMPORTANT PART
{
  +NOINTERACTION
  +NOGRAVITY
  States
  {
  Spawn:
	MHAT A 0
	MHAT ABCDEFFGHIJKLLMNOPQRR 1
	Stop
  }
}
ACTOR MarisaBlazingStar : Marisa
{
  +INVULNERABLE
  +MISSILEEVENMORE
  +FLOAT
  +NOGRAVITY
  +NOPAIN
  DropItem "None"
  Damage 0
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MAR2 YZ 2 A_Look
	Goto Idle
  See:
	MAR2 A 0 A_SetTranslucent(1.0,0)
	MAR2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    MAR2 ABCDE 4 A_FaceTarget
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartSurvivalAttack",0,1)
	MAR2 A 0 ACS_Execute(602,0,89)
	MAR2 A 0 ACS_Execute(606,0,1)
	MAR2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	MAR2 A 0 A_GiveInventory("SpellcardActive",1)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 ThrustThingZ(0,2,0,0)
	MAR2 JKLMNOPQRST 3 A_FaceTarget
	Goto Missile
  ChaseState:
    MAR2 WXYZ 2 A_Chase
	MAR2 A 0 A_Jump(32,"Missile")
    Goto ChaseState+2
  Missile:
	MAR2 UV 4 A_FaceTarget
	MAR2 W 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	MAR2 W 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	MAR2 W 0 A_SkullAttack(30)
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-80,80))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-70,70))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-60,60))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-50,50))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-40,40))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-30,30))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-20,20))
	MAR2 W 0 A_CustomMissile("MarisaBlazingStarStar",32,0,random(0,360),CMF_AIMDIRECTION,random(-10,10))
	MAR2 W 1 A_SpawnItemEx("MarisaBlazingStarTrail",32,0,0,0,0,0,0,0,0)
	Goto Missile+5
  Death:
  XDeath:
	TNT1 A 0 ACS_NamedTerminate("BHI_BossStartSurvivalAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	MAR2 X 0 ACS_Execute(603,0)
	MAR2 X 0 A_GiveInventory("BulletDeathTrigger",1)
	MAR2 X 0 A_NoBlocking
	MAR2 X 0 A_PlaySound("touhou/nuefire")
	MAR2 XXXYYYZZZ 3 A_FadeOut(0.1)
    MAR2 X 0 ACS_Execute(57,0)
	Stop
  }
}
ACTOR MarisaBlazingStarTrail
{
  Radius 0
  Height 0
  Scale 8.0
  Speed 0
  Damage (0)
  Projectile
  +NOBLOOD
  +DONTSPLASH
  +FORCEXYBILLBOARD
  +FORCERADIUSDMG
  +PUFFGETSOWNER
  +NODAMAGETHRUST
  +THRUACTORS
  DamageType "MarisaDamage"
  RenderStyle Add
  SeeSound "touhou/nuefire"
  DeathSound ""
  States
  {
  Spawn:
	TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_JumpIfInventory("EnemyCounter1",16,"Death")
	TNT1 A 0 Bright A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 Bright A_Explode(12,96,0)
	TNT1 A 0 Bright A_Jump(255,"Red","Orange","Yellow","Green","Cyan","Blue","Violet","White")
  Red:
	RBL4 A 2 Bright
	Goto Spawn
  Orange:
	OBL4 A 2 Bright
	Goto Spawn
  Yellow:
	YBL4 A 2 Bright
	Goto Spawn
  Green:
	GBL4 A 2 Bright
	Goto Spawn
  Cyan:
	CBL4 A 2 Bright
	Goto Spawn
  Blue:
	BBL4 A 2 Bright
	Goto Spawn
  Violet:
	VBL4 A 2 Bright
	Goto Spawn
  White:
	WBL4 A 2 Bright
	Goto Spawn
  Death:
	TNT1 A 0 Bright A_Jump(255,"RedDeath","OrangeDeath","YellowDeath","GreenDeath","CyanDeath","BlueDeath","VioletDeath","WhiteDeath")
  RedDeath:
	RBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  OrangeDeath:
	OBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  YellowDeath:
	YBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  GreenDeath:
	GBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  CyanDeath:
	CBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  BlueDeath:
	BBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  VioletDeath:
	VBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  WhiteDeath:
	WBL4 A 2 Bright A_FadeOut(0.04)
	Goto Death
  }
}
ACTOR MarisaBlazingStarStar
{
  Radius 3
  Height 6
  Speed 20
  FastSpeed 30
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WST2 A 0
	WST2 A 0 A_Jump(224,"Red","Orange","Yellow","Green","Cyan","Blue","Violet")
	Goto White
  Red:
    RST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Orange:
    OST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Yellow:
    YST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Green:
    GST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Cyan:
    CST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Blue:
    BST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Violet:
    VST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  White:
    WST2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WST2 A 0 Bright A_ScaleVelocity(0.975)
	Loop
  Death:
    WST2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR MarisaBFS9000 : Marisa //Wait what
{
  Health 3000
  +INVULNERABLE
  +NOPAIN
  +MISSILEEVENMORE
  DropItem "None"
  Obituary "%o couldn't hide from Marisa's BFS."
  States
  {
  Spawn:
    MARI A 0
	MARI A 0 A_SetTranslucent(0.1)
	MARI ABCDEFGHIJ 2 A_FadeIn(0.1)
  Idle:
	MARI ABCDEFGHIJ 2 A_Look
	Goto Idle
  See:
	MAR2 A 0 A_SetTranslucent(1.0,0)
	MAR2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    MAR2 ABCDE 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6221)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6221,0,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6221,90)
	MAR2 A 0 ACS_Execute(602,0,90)
	MAR2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	MAR2 A 0 A_GiveInventory("SpellcardActive",1)
	MAR2 FGFGFGFGFGFG 3 A_FaceTarget
    MAR2 HI 4 A_FaceTarget
	MAR2 A 0 A_UnSetInvulnerable
	MAR2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	MARI A 0 A_TakeInventory("MarisaLaserTrigger",1)
    MARI ABCDEFGHIJ 2 A_Chase
    Loop
  Missile:
	MARI A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	MARI A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	MARI A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	MARI A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileLunatic
  MissileEasy:
	MAR2 N 14 A_PlaySound("weapons/bfgf",0,1.0,0,ATTN_NONE)
	MAR2 OPQR 4 A_FaceTarget
	MAR2 S 3 A_CustomMissile("MarisaBFSBall",32,0,0)
	MAR2 TUVWXYZ 3 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileEasy2")
    MARS A 1 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileEasy2")
	Wait
  MissileEasy2:
	MARS A 0 A_TakeInventory("MarisaLaserTrigger",1)
	MARS BCD 4
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-45,45),CMF_AIMDIRECTION,random(-4,4))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-90,90),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-135,135),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-45,45),CMF_AIMDIRECTION,random(-4,4))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-90,90),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-135,135),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-45,45),CMF_AIMDIRECTION,random(-4,4))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-90,90),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-135,135),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-45,45),CMF_AIMDIRECTION,random(-4,4))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-90,90),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-135,135),CMF_AIMDIRECTION,random(-8,8))
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS E 3 A_CustomRailgun(1,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS GHIJKLMNOPQ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MissileNormal:
	MAR2 N 14 A_PlaySound("weapons/bfgf",0,1.0,0,ATTN_NONE)
	MAR2 OPQR 4 A_FaceTarget
	MAR2 S 3 A_CustomMissile("MarisaBFSBall",32,0,0)
	MAR2 TUVWXYZ 3 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileNormal2")
    MARS A 1 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileNormal2")
	Wait
  MissileNormal2:
	MARS A 0 A_TakeInventory("MarisaLaserTrigger",1)
	MARS BCD 4
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-45,45),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-90,90),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-135,135),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-45,45),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-90,90),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-135,135),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-45,45),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-90,90),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-135,135),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-45,45),CMF_AIMDIRECTION,random(-6,6))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-90,90),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-135,135),CMF_AIMDIRECTION,random(-10,10))
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS E 3 A_CustomRailgun(1,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS GHIJKLMNOPQ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MissileHard:
	MAR2 N 14 A_PlaySound("weapons/bfgf",0,1.0,0,ATTN_NONE)
	MAR2 OPQR 4 A_FaceTarget
	MAR2 S 3 A_CustomMissile("MarisaBFSBall",32,0,0)
	MAR2 TUVWXYZ 3 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileHard2")
    MARS A 1 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileHard2")
	Wait
  MissileHard2:
	MARS A 0 A_TakeInventory("MarisaLaserTrigger",1)
	MARS BCD 4
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-45,45),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-90,90),CMF_AIMDIRECTION,random(-16,16))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-135,135),CMF_AIMDIRECTION,random(-24,24))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-45,45),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-90,90),CMF_AIMDIRECTION,random(-16,16))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-135,135),CMF_AIMDIRECTION,random(-24,24))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-45,45),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-90,90),CMF_AIMDIRECTION,random(-16,16))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-135,135),CMF_AIMDIRECTION,random(-24,24))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-45,45),CMF_AIMDIRECTION,random(-8,8))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-90,90),CMF_AIMDIRECTION,random(-16,16))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-135,135),CMF_AIMDIRECTION,random(-24,24))
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS E 3 A_CustomRailgun(1,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS GHIJKLMNOPQ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"MissileHard3")
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MissileHard3:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,120)
	MAR1 FG 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,120)
	MAR1 HIJKLM 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MissileLunatic:
	MARS A 0 A_TakeInventory("MarisaLaserTrigger",1)
	MAR2 N 14 A_PlaySound("weapons/bfgf",0,1.0,0,ATTN_NONE)
	MAR2 OPQR 4 A_FaceTarget
	MAR2 S 2 A_CustomMissile("MarisaBFSBall",32,0,0)
	MAR2 TUVWXYZ 2 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileLunatic2")
    MARS A 1 A_JumpIfInventory("MarisaLaserTrigger",1,"MissileLunatic2")
	Wait
  MissileLunatic2:
	MARS BCD 4
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-45,45),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-90,90),CMF_AIMDIRECTION,random(-20,20))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma1",32,0,random(-135,135),CMF_AIMDIRECTION,random(-30,30))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-45,45),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-90,90),CMF_AIMDIRECTION,random(-20,20))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma2",32,0,random(-135,135),CMF_AIMDIRECTION,random(-30,30))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-45,45),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-90,90),CMF_AIMDIRECTION,random(-20,20))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma3",32,0,random(-135,135),CMF_AIMDIRECTION,random(-30,30))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-45,45),CMF_AIMDIRECTION,random(-10,10))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-90,90),CMF_AIMDIRECTION,random(-20,20))
	MARS AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MarisaBFSPlasma4",32,0,random(-135,135),CMF_AIMDIRECTION,random(-30,30))
	MARS A 0 A_PlaySound("touhou/nuefire",0,1.0,0,0.5)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS A 0 A_PlaySound("touhou/marisa/spark",0,1.0,0,ATTN_NONE)
	MARS E 3 A_CustomRailgun(1,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,16.0,0,"MarisaMasterSparkTrail",-8)
	MARS F 3 A_SpawnItemEx("MarisaMasterSparkHat",0,0,0,0,0,0,0,0,0)
	MARS GHIJKLMNOPQ 3 A_FaceTarget
	TNT1 A 0 A_Jump(128,"MissileLunatic3")
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  MissileLunatic3:
	MAR1 ABCDE 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,0)
	MAR1 FG 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-2,2))
	MAR1 FG 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-4,4))
	MAR1 FG 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-6,6))
	MAR1 FG 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-8,8))
	MAR1 HI 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-6,6))
	MAR1 JK 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-4,4))
	MAR1 LM 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,random(-2,2))
	MAR1 NO 3 A_FaceTarget
	MAR1 A 0 A_CustomMissile("MarisaRocket",32,0,0)
	MAR1 PQR 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,120)
	MAR1 ST 3 A_FaceTarget
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall",32,0,120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-120)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,-10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,0)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,10)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,20)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,30)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,40)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,50)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,60)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,70)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,80)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,90)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,100)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,110)
	MAR1 F 0 A_CustomMissile("MarisaPlasmaBall2",32,0,120)
	MAR1 UVWXYZ 3 A_FaceTarget
	MAR1 A 0 A_Jump(128,"Missile")
	Goto See
  Death:
	MARI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	MARI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	MARI K 0 ACS_Execute(603,0)
	MARI K 0 A_GiveInventory("BulletDeathTrigger",1)
	MARI KLM 18
	TNT1 A 0 A_ScreamAndUnblock
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 175
	TNT1 A 1 ACS_Execute(119,0)
	Stop
  }
}
ACTOR MarisaBFSBall : BFGBall //Excuse me what
{
  Speed 40
  FastSpeed 50
  DamageType "MarisaDamage"
  +STRIFEDAMAGE
  +SKYEXPLODE
  States
  {
  Death:
    BFE1 A 8 Bright A_GiveToTarget("MarisaLaserTrigger")
    BFE1 BCDEF 8 Bright
    Stop
  }
}
ACTOR MarisaBFSPlasma1 : PlasmaBall1
{
  DamageType "MarisaDamage"
  BounceType "Hexen"
  BounceCount 3
  +STRIFEDAMAGE
  States
  {
  Spawn:
	PLS1 A 0
	PLS1 A 0 A_ScaleVelocity(frandom(0.2,1.0))
  LoopState:
    PLS1 AB 5 Bright
    Loop
  }
}
ACTOR MarisaBFSPlasma2 : PlasmaBall2
{
  DamageType "MarisaDamage"
  BounceType "Hexen"
  BounceCount 3
  +STRIFEDAMAGE
  States
  {
  Spawn:
	PLS2 A 0
	PLS2 A 0 A_ScaleVelocity(frandom(0.2,1.0))
  LoopState:
    PLS2 AB 6 Bright
    Loop
  }
}
ACTOR MarisaBFSPlasma3 : PlasmaBall
{
  DamageType "MarisaDamage"
  BounceType "Hexen"
  BounceCount 3
  +STRIFEDAMAGE
  States
  {
  Spawn:
	PLSS A 0
	PLSS A 0 A_ScaleVelocity(frandom(0.4,1.0))
  LoopState:
    PLSS AB 6 Bright
    Loop
  }
}
ACTOR MarisaBFSPlasma4 : ArachnotronPlasma
{
  DamageType "MarisaDamage"
  BounceType "Hexen"
  BounceCount 3
  +STRIFEDAMAGE
  States
  {
  Spawn:
	APLS A 0
	APLS A 0 A_ScaleVelocity(frandom(0.6,1.0))
  LoopState:
    APLS AB 5 Bright
    Loop
  }
}
ACTOR MarisaPlasmaBall2 : PlasmaBall
{
	DamageType "MarisaDamage"
	+STRIFEDAMAGE
}
ACTOR MarisaPlasmaBall : PlasmaBall
{
	DamageType "MarisaDamage"
	Speed 15
	+STRIFEDAMAGE
}
ACTOR MarisaRocket : Rocket
{
	DamageType "MarisaDamage"
	+STRIFEDAMAGE
	Damage 10
	ExplosionDamage 32
}