ACTOR Yukari 31336
{
//$Category "Touhou Characters"
  Tag "Yukari Yakumo"
  Speed 8
  FastSpeed 12
  MONSTER
  Health 2500
  Radius 24
  Height 64
  Scale 0.75
  MinMissileChance 160
  Mass 10000
  Species "Yukari"
  +LOOKALLAROUND
  +FLOORCLIP
  +DONTFALL
  +BOSS
  +NEVERRESPAWN
  +MISSILEMORE
  +MISSILEEVENMORE
  +NORADIUSDMG
  +DONTRIP
  +DONTMORPH
  +AMBUSH
  +NOICEDEATH
  DamageFactor "YukariDamage", 0
  DamageFactor "PlayerSpellcard", 0.5
  Painchance 1
  Seesound ""
  Deathsound "touhou/defeat"
  Painsound "touhou/pain"
  Obituary "Yukari showed %o the power of the boundary."
  DropItem "YukariDreamsAndReality"
  States
  {
  Spawn:
	YKRI A 0
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6234,9,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6234,60)
	YKRI A 1 A_Look
  Idle:
    YKRI BCDEFGHIJA 3 A_Look
    Loop
  See:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Pain:
	YKRI L 0 A_SetTranslucent(1.0)
    YKRI K 3 A_Pain
    YKRI LMLK 3
    Goto See
  Melee:
  Missile:
	YKRI A 0 A_Jump(255,"Missile1","Missile2","Missile3","Missile4","Missile5")
	Goto See
  Missile1:
	YKR1 ABA 3 Fast A_FaceTarget
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,0)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,10)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,20)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,30)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,40)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,50)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,60)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,70)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,80)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,90)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,100)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,110)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,120)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,130)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,140)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,150)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,160)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,170)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,180)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,190)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,200)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,210)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,220)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,230)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,240)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,250)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,260)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,270)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,280)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,290)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,300)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,310)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,320)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,330)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,340)
	YKR1 C 0 A_CustomMissile("YukariNSBullet1",32,0,350)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,0)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,10)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,20)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,30)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,40)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,50)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,60)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,70)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,80)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,90)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,100)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,110)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,120)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,130)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,140)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,150)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,160)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,170)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,180)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,190)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,200)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,210)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,220)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,230)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,240)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,250)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,260)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,270)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,280)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,290)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,300)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,310)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,320)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,330)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,340)
	YKR1 C 0 A_CustomMissile("YukariNSBullet2",32,0,350)
	YKR1 C 0 A_SetAngle(random(0,360))
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,0,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,10,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,20,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,30,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,40,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,50,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,60,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,70,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,80,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,90,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,100,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,110,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,120,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,130,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,140,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,150,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,160,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,170,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,180,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,190,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,200,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,210,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,220,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,230,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,240,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,250,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,260,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,270,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,280,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,290,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,300,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,310,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,320,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,330,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,340,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet3",32,0,350,CMF_AIMDIRECTION)
	YKR1 C 0 A_SetAngle(random(0,360))
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,0,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,10,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,20,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,30,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,40,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,50,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,60,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,70,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,80,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,90,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,100,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,110,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,120,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,130,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,140,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,150,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,160,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,170,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,180,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,190,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,200,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,210,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,220,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,230,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,240,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,250,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,260,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,270,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,280,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,290,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,300,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,310,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,320,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,330,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,340,CMF_AIMDIRECTION)
	YKR1 C 0 A_CustomMissile("YukariNSBullet4",32,0,350,CMF_AIMDIRECTION)
	YKR1 CDEF 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(128,"Missile")
	Goto See
  Missile2:
	YKR1 GHI 3 Fast A_FaceTarget
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,0)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,10)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,20)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,30)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,40)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,50)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,60)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,70)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,80)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,90)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,100)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,110)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,120)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,130)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,140)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,150)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,160)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,170)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,180)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,190)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,200)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,210)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,220)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,230)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,240)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,250)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,260)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,270)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,280)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,290)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,300)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,310)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,320)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,330)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,340)
	YKR1 J 0 A_CustomMissile("YukariNSBullet5",32,0,350)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,0)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,10)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,20)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,30)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,40)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,50)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,60)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,70)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,80)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,90)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,100)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,110)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,120)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,130)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,140)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,150)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,160)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,170)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,180)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,190)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,200)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,210)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,220)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,230)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,240)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,250)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,260)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,270)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,280)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,290)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,300)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,310)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,320)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,330)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,340)
	YKR1 J 0 A_CustomMissile("YukariNSBullet6",32,0,350)
	YKR1 J 0 A_SetAngle(random(0,360))
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,0,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,10,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,20,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,30,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,40,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,50,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,60,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,70,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,80,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,90,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,100,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,110,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,120,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,130,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,140,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,150,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,160,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,170,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,180,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,190,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,200,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,210,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,220,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,230,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,240,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,250,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,260,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,270,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,280,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,290,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,300,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,310,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,320,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,330,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,340,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet7",32,0,350,CMF_AIMDIRECTION)
	YKR1 J 0 A_SetAngle(random(0,360))
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,0,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,10,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,20,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,30,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,40,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,50,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,60,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,70,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,80,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,90,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,100,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,110,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,120,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,130,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,140,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,150,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,160,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,170,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,180,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,190,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,200,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,210,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,220,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,230,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,240,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,250,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,260,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,270,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,280,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,290,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,300,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,310,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,320,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,330,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,340,CMF_AIMDIRECTION)
	YKR1 J 0 A_CustomMissile("YukariNSBullet8",32,0,350,CMF_AIMDIRECTION)
	YKR1 JKLMN 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(128,"Missile")
	Goto See
  Missile3:
	YKR1 AB 3 Fast A_FaceTarget
	YKR1 A 3 Fast A_SetAngle(angle-40)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 C 3 Fast A_SetAngle(angle+16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 D 3 Fast A_SetAngle(angle+16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 C 3 Fast A_SetAngle(angle+16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 D 3 Fast A_SetAngle(angle+16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 E 3 Fast A_SetAngle(angle+16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 F 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(192,"Missile")
	Goto See
  Missile4:
	YKR1 AB 3 Fast A_FaceTarget
	YKR1 A 3 Fast A_SetAngle(angle+40)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 C 3 Fast A_SetAngle(angle-16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 D 3 Fast A_SetAngle(angle-16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 C 3 Fast A_SetAngle(angle-16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 D 3 Fast A_SetAngle(angle-16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 E 3 Fast A_SetAngle(angle-16)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-36,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,-12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,0,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,12,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,24,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariNSBullet9",32,0,36,CMF_AIMDIRECTION)
	YKR1 F 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(192,"Missile")
	Goto See
  Missile5:
	YKR1 GHI 3 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,0,0,CMF_AIMOFFSET)
	YKR1 J 3 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,32,0,CMF_AIMOFFSET)
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,-32,0,CMF_AIMOFFSET)
	YKR1 K 3 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,64,0,CMF_AIMOFFSET)
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,-64,0,CMF_AIMOFFSET)
	YKR1 L 3 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,96,0,CMF_AIMOFFSET)
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,-96,0,CMF_AIMOFFSET)
	YKR1 M 3 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,128,0,CMF_AIMOFFSET)
	YKR1 A 0 A_CustomMissile("YukariNSBullet10",32,-128,0,CMF_AIMOFFSET)
	YKR1 N 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(224,"Missile")
	Goto See
  Missile6:
	YKR2 A 0 A_SpawnItemEx("YukariAttackGap1",0,-128,0,0,0,0,0,SXF_SETMASTER,0)
	YKR2 A 0 A_SpawnItemEx("YukariAttackGap1",0,128,0,0,0,0,0,SXF_SETMASTER,0)
	YKR2 ABCDE 3 Fast A_FaceTarget
	YKR2 FGHIJK 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(64,"Missile")
	Goto See
  Missile7:
	YKR2 A 0 A_SpawnItemEx("YukariAttackGap2",128,0,0,0,0,0,0,SXF_SETMASTER,0)
	YKR2 LMN 3 Fast A_FaceTarget
	YKR2 OPQRSTU 3 Fast A_FaceTarget
	YKR1 A 0 A_Jump(64,"Missile")
	Goto See
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 A_KillChildren
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariNSBullet1
{
  Speed 20
  Height 6
  Radius 3
  damage (16)
  XScale 2.5
  YScale 1.5
  Projectile
  +FORCEXYBILLBOARD
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    VKUN A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    VKUN AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariNSBullet2 : YukariNSBullet1 { Speed 14 }
ACTOR YukariNSBullet3 : YukariNSBullet1
{
  Speed 17
  States
  {
  Spawn:
    BKUN A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BKUN AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariNSBullet4 : YukariNSBullet3 { Speed 11 }
ACTOR YukariNSBullet5 : YukariNSBullet1
{
  Speed 20
  States
  {
  Spawn:
    GKUN A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GKUN AAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariNSBullet6 : YukariNSBullet5 { Speed 14 }
ACTOR YukariNSBullet7 : YukariNSBullet1
{
  Speed 17
  States
  {
  Spawn:
    CKUN A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    CKUN AAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariNSBullet8 : YukariNSBullet7 { Speed 11 }
ACTOR YukariNSBullet9
{
   Radius 3
   Height 6
   Speed 15
   FastSpeed 20
   Damage (12)
   PROJECTILE
   //RenderStyle Add
   //Alpha 1.0
   States
   {
   Spawn:
      CRYS A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
      Loop
   Death:
      CRYE ABC 3 Bright
      CRYE DEF 2 Bright
      Stop
   }
}
ACTOR YukariNSBullet10
{
  Speed 25
  Height 8
  Radius 4
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  Scale 1.5
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BBL4 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	BBL4 A 0 Bright A_SpawnItemEx("YukariNSBullet10Trail",0,0,0,0,0,0,0,0,0)
    Loop
  Death:
    BBL4 AAAAAAAAAA 2 Bright
    Stop
  }
}
ACTOR YukariNSBullet10Trail
{
  Radius 2
  Height 4
  Renderstyle Add
  +NOGRAVITY
  +NOINTERACTION
  +CLIENTSIDEONLY
  States
  {
  Spawn:
    BBL4 A 1 Bright A_FadeOut(0.1)
	BBL4 A 1 Bright A_SetScale(ScaleX-0.1)
    Loop
  }
}
ACTOR YukariAttackGap1
{
  Radius 16
  Height 48
  RenderStyle Add
  Alpha 0.1
  Monster //Needed for A_KillChildren to work
  Health 100 //They can be killed, actually
  +SHOOTABLE
  +NOPAIN
  -COUNTKILL
  -SOLID
  +NOGRAVITY
  States
  {
  Spawn:
    GAP1 ABCDEFGH 2 bright A_FadeIn
  Attack:
	GAP1 A 0 bright A_Jump(255,"M1","M1","M2","M2","M3","M4","M5","M6","M7","M8","M9","M10","M1","M1","M2","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11")
    GAP1 IJKLMNOP 3 bright
	Goto End
  M1:
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,-30)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,30)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,-15)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,15)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,0)
    GAP1 IJKLMNOP 3 bright
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,-30)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,30)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,-15)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,15)
	GAP1 A 0 A_CustomMissile("YukariImpBall",32,0,0)
	Goto End
  M2:
	GAP1 A 0 A_CustomMissile("YukariDarkImpBall",32,0,0)
    GAP1 IJ 3 bright
	GAP1 A 0 A_CustomMissile("YukariDarkImpBall",32,0,0)
    GAP1 KL 3 bright
	GAP1 A 0 A_CustomMissile("YukariDarkImpBall",32,0,0)
    GAP1 MN 3 bright
	GAP1 A 0 A_CustomMissile("YukariDarkImpBall",32,0,0)
    GAP1 OP 3 bright
	GAP1 A 0 A_CustomMissile("YukariDarkImpBall",32,0,0)
    Goto End
  M3:
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-30)
    GAP1 I 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-20)
    GAP1 J 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-10)
    GAP1 K 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,0)
    GAP1 L 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,10)
    GAP1 M 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,20)
    GAP1 N 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,30)
    GAP1 OP 3 bright
    Goto End
  M4:
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,30)
    GAP1 I 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,20)
    GAP1 J 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,10)
    GAP1 K 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,0)
    GAP1 L 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-10)
    GAP1 M 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-20)
    GAP1 N 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacodemonBall",32,0,-30)
    GAP1 OP 3 bright
    Goto End
  M5:
	GAP1 A 0 A_CustomMissile("YukariCacolanternBall",32,0,0)
    GAP1 IJK 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacolanternBall",32,0,0)
    GAP1 LMN 3 bright
	GAP1 A 0 A_CustomMissile("YukariCacolanternBall",32,0,0)
    GAP1 OP 3 bright
    Goto End
  M6:
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,-15)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,-5)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,5)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,15)
    GAP1 IJKLMNOP 3 bright
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,-15)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,-5)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,5)
	GAP1 A 0 A_CustomMissile("YukariRevenantTracer",32,0,15)
    Goto End
  M7:
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-15,-5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-15,-5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-5,5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-5,5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(5,15))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(5,15))
    GAP1 IJKLMNOP 3 bright
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-15,-5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-15,-5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-5,5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(-5,5))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(5,15))
	GAP1 A 0 A_CustomMissile("YukariFatShot",32,0,frandom(5,15))
    Goto End
  M8:
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 I 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 J 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,0)
    GAP1 K 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 L 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 M 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,0)
    GAP1 N 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 O 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
    GAP1 P 3 bright
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,frandom(-30,30))
	GAP1 A 0 A_CustomMissile("YukariArachnotronPlasma",32,0,0)
    Goto End
  M9:
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,-10)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,10)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,0)
    GAP1 IJKLMNOP 3 bright
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,-10)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,10)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,0)
	Goto End
  M10:
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,-16)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,16)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,-8)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,8)
	GAP1 A 0 A_CustomMissile("YukariBaronBall",32,0,0)
    GAP1 IJKLMNOP 3 bright
	Goto End
  M11:
	GAP1 A 0 A_SpawnItemEx("ExplosiveBarrel",0,0,32,random(16,24),random(8,16),random(0,8),random(0,360),0,0)
    GAP1 IJ 3 bright
	GAP1 A 0 A_SpawnItemEx("ExplosiveBarrel",0,0,32,random(16,24),random(8,16),random(0,8),random(0,360),0,0)
    GAP1 KL 3 bright
	GAP1 A 0 A_SpawnItemEx("ExplosiveBarrel",0,0,32,random(16,24),random(8,16),random(0,8),random(0,360),0,0)
    GAP1 MN 3 bright
	GAP1 A 0 A_SpawnItemEx("ExplosiveBarrel",0,0,32,random(16,24),random(8,16),random(0,8),random(0,360),0,0)
    GAP1 OP 3 bright
	GAP1 A 0 A_SpawnItemEx("ExplosiveBarrel",0,0,32,random(16,24),random(8,16),random(0,8),random(0,360),0,0)
	Goto End
  End:
	GAP1 A 0 A_Jump(170,"AttackAgain")
  Death:
	GAP1 A 0 A_GiveInventory("BulletDeathTrigger")
    GAP1 ABCDEFGHIJ 2 bright A_FadeOut
    Stop
  AttackAgain:
	GAP1 ABCDEFGHIJ 2 bright
	Goto Attack
  }
}
ACTOR YukariImpBall : DoomImpBall
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
}
ACTOR YukariDarkImpBall
{
    Radius 8
    Height 6
    Speed 16
    Damage 3
	+STRIFEDAMAGE
	DamageType "YukariDamage"
    PROJECTILE
    RENDERSTYLE ADD
    ALPHA 0.67
    SeeSound "imp/attack"
    DeathSound "imp/shotx"
    MISSILEHEIGHT 0
    Decal DoomImpScorch
    States
    {
    Spawn:
        DKB1 AB 4 Bright
        Loop
    Death:
        DKB1 CDE 4 Bright
        Stop
    }
}
ACTOR YukariCacodemonBall : CacodemonBall
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
}
ACTOR YukariCacolanternBall
{
  Radius 6
  Height 8
  Speed 20
  Damage 5
  Projectile
  +RANDOMIZE
  +STRIFEDAMAGE
  DamageType "YukariDamage"
  RenderStyle Add
  SeeSound "caco/attack"
  DeathSound "caco/shotx"
  States
  {
  Spawn:
    BAL8 AB 4 Bright
    Loop
  Death:
    BAL8 CDE 6 Bright
    Stop
  }
}
ACTOR YukariRevenantTracer : RevenantTracer
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(128,"Homing","Homing","VeerLeft","VeerLeft","VeerLeft","VeerRight","VeerRight","VeerRight")
	Normal:
		FATB AB 2 Bright
		Loop
	Homing:
		TNT1 A 0 Bright	A_SeekerMissile(2,5)
		FATB A 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2)) 
		FATB B 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2))
		Loop
	VeerLeft:
		TNT1 A 0 Bright	A_SetAngle(angle-3)
		TNT1 A 0 Bright	ThrustThing(angle*256/360, 1, 0, 0)
		TNT1 A 0 Bright	A_ScaleVelocity(0.98)
		FATB A 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2)) 
		FATB B 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2))
		Loop
	VeerRight:
		TNT1 A 0 Bright	A_SetAngle(angle+3)
		TNT1 A 0 Bright	ThrustThing(angle*256/360, 1, 0, 0)
		TNT1 A 0 Bright	A_ScaleVelocity(0.98)
		FATB A 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2)) 
		FATB B 2 Bright A_CustomMissile("BulletPuff",Random(2,4),Random(-2,2))
		Loop
	}
}
ACTOR YukariFatShot : FatShot
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
}
ACTOR YukariArachnotronPlasma : ArachnotronPlasma
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
}
ACTOR YukariBaronBall : BaronBall
{
	+STRIFEDAMAGE
	DamageType "YukariDamage"
}

ACTOR YukariAttackGap2
{
  Radius 16
  Height 48
  RenderStyle Add
  Alpha 0.1
  Monster //Needed for A_KillChildren to work
  Health 250 //They can be killed, actually
  +SHOOTABLE
  +NOPAIN
  -COUNTKILL
  -SOLID
  +NOGRAVITY
  States
  {
  Spawn:
    GAP1 AABBCCDDEE 1 bright A_FadeIn
  See:
  Attack:
	GAP1 A 0 A_Jump(255,"M1","M2","M3","M4","M5","M6","M7","M8","M9")
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M1:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-130)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-140)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-150)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-60)
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M2:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	REI4 GGGGGGGGGG 0 A_CustomMissile("ReimuYinYangOrb",32,0,random(-20,20),CMF_OFFSETPITCH,random(-45,45))
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M3:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 F 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 G 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 H 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 I 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 J 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 K 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 L 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 M 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 N 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 O 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
    GAP1 P 3 bright
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0)
	REI5 A 0 A_CustomMissile("ReimuPersuasionNeedle",32,4,0)
	Goto End
  M4:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-100)
    REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-60)
    REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-20)
    REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,20)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,60)
    REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,100)
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M5:
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 F 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 G 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 H 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 I 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 J 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 K 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 L 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 M 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 N 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 O 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
    GAP1 P 3 bright
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile1",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile2",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile3",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	MAR1 S 0 A_CustomMissile("MarisaMagicMissile4",32,0,random(-24,24),CMF_OFFSETPITCH,frandom(-8,8))
	Goto End
  M6:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	MARB SSSSSSSS 0 A_CustomMissile("MarisaRadialStrikeSpawner",32,0,0)
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M7:
	GAP1 FGHIJKLMNOP 3 bright A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"HarmlessLaserTrail",0)
	GAP1 A 0 A_PlaySound("touhou/laser",0)
	MAR1 A 0 A_CustomRailgun(24,0,"blue","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,0,0,8.0,0,"MarisaIllusionLaserTrail",0)
	Goto End
  M8:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-45)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,45)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-30)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,30)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-15)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,15)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,0)
    GAP1 FGHIJKLMNOP 3 bright
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-45)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,45)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-30)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,30)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,-15)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,15)
	SNAT N 0 A_CustomMissile("SanaeNSSmallStar",32,0,0)
	Goto End
  M9:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle1",32,0,4) //Cirno Non-Spell One Icicle Three
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle1",32,0,0) //Cirno Non-Spell One Icicle Three
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle1",32,0,-4) //Cirno Non-Spell One Icicle Three
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle2",32,0,6) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle2",32,0,2) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle2",32,0,-2) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle2",32,0,-6) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle3",32,0,8) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle3",32,0,4) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle3",32,0,0) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle3",32,0,-4) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle3",32,0,-8) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,10) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,6) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,2) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,-2) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,-6) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle4",32,0,-10) //Cirno Non-Spell One Icicle Four
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,12) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,8) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,4) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,0) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,-4) //Cirno Non-Spell One Icicle Five
	CIRN A 0 A_CustomMissile("CirnoNS1Icicle5",32,0,-12) //Cirno Non-Spell One Icicle Five
    GAP1 FGHIJKLMNOP 3 bright
	Goto End
  M10:
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotRed",30,0,frandom(-3,3)-60,CMF_AIMDIRECTION,frandom(-3,3))
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotRed",30,0,frandom(-3,3)+60,CMF_AIMDIRECTION,frandom(-3,3))
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotRed",30,0,frandom(-3,3),CMF_AIMDIRECTION,frandom(-3,3))
    GAP1 FGHIJKLMNOP 3 bright
	GAP1 A 0 A_PlaySound("touhou/fire",0)
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotViolet",30,0,frandom(-3,3)-60,CMF_AIMDIRECTION,frandom(-3,3))
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotViolet",30,0,frandom(-3,3)+60,CMF_AIMDIRECTION,frandom(-3,3))
	SUI2 EEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("SuikaMainShotViolet",30,0,frandom(-3,3),CMF_AIMDIRECTION,frandom(-3,3))
	Goto End
  M11:
	GAP1 FFFGGGHHHIIIJJJKKKLLLMMMNNNOOOPPP 1 bright A_CustomMissile("KomachiCoin20",32,0,0)
	Goto End
  M12:
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,-10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,0)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb1",30,0,60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,-10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,0)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb2",30,0,60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,-10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,0)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb3",30,0,60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-60)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,-10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,0)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,10)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,20)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,30)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,40)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,50)
	YUY2 C 0 A_CustomMissile("YuyukoNSOrb4",30,0,60)
	GAP1 FGHIJKLMNOP 3 bright
	Goto End
  End:
	GAP1 A 0 A_Jump(170,"AttackAgain")
    GAP1 ABCDEFGHIJ 3 bright A_FadeOut
    Stop
  Death:
	GAP1 A 0 A_GiveInventory("BulletDeathTrigger")
    GAP1 ABCDEFGHIJ 3 bright A_FadeOut
    Stop
  AttackAgain:
	GAP1 ABCDE 3 bright A_Look
	Goto Attack
  }
}
ACTOR YukariTransitionGapEffect
{
  Radius 16
  Height 48
  RenderStyle Add
  Alpha 0.01
  -SOLID
  +NOGRAVITY
  States
  {
  Spawn:
    GAP1 ABCDEFGHIJ 3 bright A_FadeIn
    GAP1 KLMNOPABCDEF 3 bright
    GAP1 GHIJKLMNOP 3 bright A_FadeOut
    Stop
  }
}

ACTOR YukariDreamsAndReality : Yukari
{
  DropItem "YukariNS2"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6235)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6235,9,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6235,60)
	YKR3 A 0 ACS_Execute(602,0,108)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	YKR3 UVW 4 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,-45)
	YKR3 XY 4 Fast A_FaceTarget
	YKRI ABCDEFGHIJ 4 Fast A_Wander
	YKR3 UVW 4 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,-45)
	YKR3 XY 4 A_FaceTarget
	YKRI ABCDEFGHIJ 4 Fast A_Wander
	YKR3 UVW 3 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,-45)
	YKR3 XY 3 Fast A_FaceTarget
	YKRI ABCDEFGHIJ 3 Fast A_Wander
	YKR3 UVW 3 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,-45)
	YKR3 XY 3 A_FaceTarget
	YKRI ABCDEFGHIJ 3 Fast A_Wander
	YKR3 UVW 3 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,-45)
	YKR3 XY 3 Fast A_FaceTarget
	YKRI ABCDEFGHIJ 3 Fast A_Wander
	YKR3 UVW 3 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,-45)
	YKR3 XY 3 A_FaceTarget
	YKRI ABCDEFGHIJ 3 Fast A_Wander
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKR3 UVW 2 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,-45)
	YKR3 XY 2 Fast A_FaceTarget
	YKRI ABCDEFGHIJ 2 Fast A_Wander
	YKR3 UVW 2 Fast A_FaceTarget
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb2",32,0,45)
	YKR3 X 0 A_CustomMissile("YukariDreamsAndRealityOrb1",32,0,-45)
	YKR3 XY 2 A_FaceTarget
	YKRI ABCDEFGHIJ 2 Fast A_Wander
	YKRI A 0 A_CPosRefire
	Loop
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariDreamsAndRealityOrb1
{
  Radius 6
  Height 12
  Speed 60
  damage (40)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	VBUB AAAAAAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.9)
	VBUB A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	VBUB AAAA 0 Bright A_SeekerMissile(90,90)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,45,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,135,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,225,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,315,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,45,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,135,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,225,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	VBUB A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1Spawner",0,0,315,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Stop
  Death:
	VBUB AAAAAAAAAA 1 Bright A_FadeOut
	Stop
  }
}
ACTOR YukariDreamsAndRealitySmallShot1
{
  Speed 6
  FastSpeed 10
  Height 6
  Radius 3
  damage (14)
  Projectile
  DamageType "YukariDamage"
  +FORCEXYBILLBOARD
  RenderStyle Add
  XScale 2.0
  YScale 1.0
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    GKUN A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GKUN AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariDreamsAndRealitySmallShot1Spawner
{
  Radius 2
  Height 4
  Speed 16
  damage (0)
  Projectile
  +FORCEXYBILLBOARD
  +THRUACTORS
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound ""
  DamageType "YukariDamage"
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 6
	TNT1 A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 6 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 6 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 6 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 6 A_CustomMissile("YukariDreamsAndRealitySmallShot1",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Stop
  Death:
	TNT1 A 1 A_FadeOut
	Stop
  }
}
ACTOR YukariDreamsAndRealityOrb2
{
  Radius 6
  Height 12
  Speed 60
  damage (40)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	VBUB AAAAAAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.9)
	TNT1 A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Stop
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 1 Bright A_CustomMissile("YukariDreamsAndRealitySmallShot2",0,random(-256,256),0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Stop
  Death:
	VBUB AAAAAAAAAA 1 Bright A_FadeOut
	Stop
  }
}
ACTOR YukariDreamsAndRealitySmallShot2
{
  Speed 9
  FastSpeed 15
  Height 4
  Radius 2
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK,255,48)
	TNT1 AAA 0 A_SeekerMissile(90,90)
  LoopState:
    BRIC A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BRIC AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS2 : Yukari
{
  DropItem "YukariMotionAndStillness"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6236)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6236,8,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6236,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 0 Thing_ChangeTID(0,6236)
	YKRI A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6236,8,false)
	YKRI A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6236,60)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  }
}

ACTOR YukariMotionAndStillness : Yukari
{
  DropItem "YukariNS3"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6237)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6237,8,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6237,65)
	YKR3 A 0 ACS_Execute(602,0,109)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKR3 KLMN 3 Fast A_FaceTarget
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrbInvisible",32,0,0)
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrbInvisible",32,0,45)
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrbInvisible",32,0,-45)
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrb",32,0,0)
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrb",32,0,45)
	YKR3 O 0 A_CustomMissile("YukariMotionAndStillnessOrb",32,0,-45)
	YKR3 OPQRST 3 Fast A_FaceTarget
	YKR3 A 0 A_Jump(85,"Missile")
	Goto See
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariMotionAndStillnessOrb
{
  Radius 8
  Height 16
  Speed 20
  damage (20)
  DamageType "YukariDamage"
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	VBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	VBUB AAAAAAAAAA 1 Bright A_FadeOut
	Stop
  }
}
ACTOR YukariMotionAndStillnessOrbInvisible
{
  Radius 96
  Height 192
  Speed 20
  damage (0)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  DamageType "YukariDamage"
  SeeSound "touhou/fire"
  DeathSound "touhou/charge"
  States
  {
  Spawn:
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	Loop
  Death:
	TNT1 A 0 Bright A_Jump(128,"Death2")
  Death1:
	TNT1 A 35
	TNT1 A 0 Bright A_SetAngle(random(0,360))
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,10,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,20,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,30,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,40,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,50,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,60,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,70,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,80,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,100,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,110,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,120,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,130,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,140,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,150,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,160,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,170,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,190,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,200,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,210,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,220,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,230,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,240,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,250,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,260,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,280,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,290,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,300,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,310,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,320,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,330,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,340,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,350,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,360,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 0 Bright A_Jump(64,"Death2")
	Stop
  Death2:
	TNT1 A 0 Bright A_SetAngle(random(0,360))
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,360,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,350,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,340,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,330,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,320,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,310,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,300,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,290,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,280,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,260,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,250,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,240,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,230,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,220,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,210,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,200,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,190,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,170,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,160,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,150,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,140,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,130,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,120,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,110,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,100,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,80,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,70,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,60,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,50,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,40,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,30,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,20,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,10,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_CustomMissile("YukariMotionAndStillnessShot",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Disappear")
	TNT1 A 0 Bright A_Jump(64,"Death1")
	Stop
  Disappear:
	TNT1 A 1
	Stop
  }
}
ACTOR YukariMotionAndStillnessShot
{
  Speed 8
  FastSpeed 16
  Height 4
  Radius 2
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  DamageType "YukariDamage"
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS3 : YukariNS2
{
  DropItem "YukariLightAndDarkness"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6238)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6238,7,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6238,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6238)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6238,7,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6238,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  }
}

ACTOR YukariLightAndDarkness : Yukari
{
  DropItem "YukariNS4"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6239)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6239,7,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6239,75)
	YKR3 A 0 ACS_Execute(602,0,110)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKR4 A 0 A_Jump(128,"Missile2")
	YKR4 OPQRS 3 Fast A_FaceTarget
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessMediumRed",32,0,frandom(-60,0),CMF_OFFSETPITCH,random(-10,10))
	YKR4 T 0 A_CustomMissile("YukariLightAndDarknessBigRed",32,0,-30,CMF_OFFSETPITCH,0)
	YKR4 TU 3 Fast A_FaceTarget
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessMediumBlue",32,0,frandom(0,60),CMF_OFFSETPITCH,random(-10,10))
	YKR4 T 0 A_CustomMissile("YukariLightAndDarknessBigBlue",32,0,30,CMF_OFFSETPITCH,0)
	YKR4 TUTUTUTUTUVWXY 3 Fast A_FaceTarget
	Goto See
  Missile2:
	YKR4 OPQRS 3 Fast A_FaceTarget
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallRed",32,0,frandom(-30,90),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessMediumRed",32,0,frandom(0,60),CMF_OFFSETPITCH,random(-10,10))
	YKR4 T 0 A_CustomMissile("YukariLightAndDarknessBigRed",32,0,-30,CMF_OFFSETPITCH,0)
	YKR4 TU 3 Fast A_FaceTarget
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessSmallBlue",32,0,frandom(-90,30),CMF_OFFSETPITCH,random(-20,20))
	YKR4 TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 0 A_CustomMissile("YukariLightAndDarknessMediumBlue",32,0,frandom(-60,0),CMF_OFFSETPITCH,random(-10,10))
	YKR4 T 0 A_CustomMissile("YukariLightAndDarknessBigBlue",32,0,30,CMF_OFFSETPITCH,0)
	YKR4 TUTUTUTUTUVWXY 3 Fast A_FaceTarget
	Goto See
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariLightAndDarknessBigRed
{
  Radius 8
  Speed 20
  FastSpeed 30
  Height 16
  damage (48)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(80,100),CMF_TRACKOWNER)
    RBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerRed",0,0,random(-100,80),CMF_TRACKOWNER)
    Goto Death
  Death:
    RBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLightAndDarknessLaserSpawnerRed
{
  Radius 8
  Speed 0
  FastSpeed 0
  Height 16
  damage (0)
  Projectile
  +FORCEXYBILLBOARD
  +THRUACTORS
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	TNT1 A 0
    TNT1 A 35 Bright A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 35 Bright A_CustomRailgun(36,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	Goto Death
  Death:
    TNT1 A 1 Bright
    Stop
  }
}
ACTOR YukariLightAndDarknessMediumRed
{
  Radius 4
  Speed 20
  FastSpeed 30
  Height 8
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    RBL3 A 0 Bright
    RBL3 A 0 Bright A_ScaleVelocity(frandom(0.6,0.9))
  LoopState:
    RBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBL3 AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLightAndDarknessSmallRed
{
  Radius 4
  Speed 20
  FastSpeed 30
  Height 2
  damage (12)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    RBL2 A 0 Bright
    RBL2 A 0 Bright A_ScaleVelocity(frandom(0.2,0.8))
  LoopState:
    RBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBL2 AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLightAndDarknessBigBlue : YukariLightAndDarknessBigRed
{
  States
  {
  Spawn:
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(80,100),CMF_TRACKOWNER)
    BBUB A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBUB A 5 Bright A_CustomMissile("YukariLightAndDarknessLaserSpawnerBlue",0,0,random(-100,80),CMF_TRACKOWNER)
    Goto Death
  Death:
    BBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLightAndDarknessLaserSpawnerBlue : YukariLightAndDarknessLaserSpawnerRed
{
  States
  {
  Spawn:
	TNT1 A 0
    TNT1 A 35 Bright A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 35 Bright A_CustomRailgun(36,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"BlueLaserTrail",-8)
	Goto Death
  Death:
    TNT1 A 1 Bright
    Stop
  }
}
ACTOR YukariLightAndDarknessMediumBlue : YukariLightAndDarknessMediumRed
{
  States
  {
  Spawn:
    BBL3 A 0 Bright
    BBL3 A 0 Bright A_ScaleVelocity(frandom(0.7,0.9))
  LoopState:
    BBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL3 AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLightAndDarknessSmallBlue : YukariLightAndDarknessSmallRed
{
  States
  {
  Spawn:
    BBL2 A 0 Bright
    BBL2 A 0 Bright A_ScaleVelocity(frandom(0.4,0.8))
  LoopState:
    BBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL2 AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS4 : YukariNS2
{
  DropItem "YukariStraightAndCurve"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6240)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6240,6,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6240,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6240)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6240,6,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6240,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  }
}

ACTOR YukariStraightAndCurve : Yukari
{
  DropItem "YukariNS5"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6241)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6241,6,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6241,65)
	YKR3 A 0 ACS_Execute(602,0,111)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKR5 ABCDEFG 2 Fast A_FaceTarget
  MissileLoop:
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,-384,45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-45)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,-5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,5)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,15)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,25)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,35)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBullet",32,384,45)
	YKR5 HI 2 Fast A_FaceTarget
	YKR5 A 0 A_SetAngle(random(0,360))
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,0,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,10,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,20,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,30,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,40,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,50,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,60,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,70,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,80,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,90,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,100,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,110,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,120,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,130,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,140,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,150,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,160,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,170,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,180,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,190,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,200,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,210,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,220,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,230,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,240,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,250,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,260,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,270,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,280,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,290,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,300,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,310,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,320,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,330,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,340,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble1",32,0,350,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,0,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,10,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,20,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,30,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,40,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,50,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,60,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,70,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,80,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,90,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,100,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,110,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,120,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,130,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,140,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,150,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,160,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,170,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,180,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,190,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,200,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,210,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,220,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,230,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,240,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,250,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,260,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,270,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,280,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,290,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,300,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,310,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,320,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,330,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,340,CMF_AIMDIRECTION)
	YKR5 H 0 A_CustomMissile("YukariStraightAndCurveBubble2",32,0,350,CMF_AIMDIRECTION)
	YKR5 H 0 A_SpidRefire
	Loop
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariStraightAndCurveBullet
{
  Radius 2
  Speed 8
  FastSpeed 12
  Height 4
  damage (12)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BRIC A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BRIC AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariStraightAndCurveBubble1
{
  Radius 6
  Speed 12
  FastSpeed 18
  Height 12
  damage (36)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    RBUB AAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB AAAA 4 Bright A_ScaleVelocity(0.5)
	RBUB A 0 Bright A_Stop
	RBUB A 0 Bright A_SetAngle(angle+90)
	RBUB AA 4 Bright ThrustThing(angle*256/360, 5, 0, 0)
  LoopState:
    RBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariStraightAndCurveBubble2 : YukariStraightAndCurveBubble1
{
  States
  {
  Spawn:
    RBUB AAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBUB AAAA 4 Bright A_ScaleVelocity(0.5)
	RBUB A 0 Bright A_Stop
	RBUB A 0 Bright A_SetAngle(angle-90)
	RBUB AA 4 Bright ThrustThing(angle*256/360, 5, 0, 0)
  LoopState:
    RBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS5 : YukariNS2
{
  DropItem "YukariWaveAndParticle"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6242)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6242,5,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6242,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6242)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6242,5,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6242,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  }
}

ACTOR YukariWaveAndParticle : Yukari
{
  DropItem "YukariNS6"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  var int user_angle;
  var int user_increment;
  var int user_direction;
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6243)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6243,5,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6243,75)
	YKR3 A 0 ACS_Execute(602,0,112)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  ResetIncrement:
	YKR5 T 0 A_SetUserVar("user_increment",-80)
	Goto MissileLoop
  Missile:
	YKR5 A 0 A_SetUserVar("user_direction",1)
	YKR5 NOPQRS 3 A_FaceTarget
  MissileLoop:
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 T 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 T 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 T 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 T 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 T 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 T 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 T 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 U 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 U 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 U 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 U 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 U 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 U 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 U 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 V 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 V 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 V 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+0,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+45,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+90,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+135,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+180,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+225,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+270,CMF_AIMDIRECTION)
	YKR5 V 0 A_CustomMissile("YukariWaveAndParticleShot",32,0,user_angle+315,CMF_AIMDIRECTION)
	YKR5 V 0 A_SetUserVar("user_increment",user_increment+1)
	YKR5 V 1 A_SetUserVar("user_angle",user_angle+45*sin(user_increment))
	YKR5 V 0 A_JumpIf(user_increment >= 80, "ResetIncrement")
	YKR5 V 0 A_CheckSight("See")
	Loop
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI KKKLLLMMM 3 A_FadeOut
	Stop
  }
}
ACTOR YukariWaveAndParticleShot
{
  Radius 2
  Height 4
  Speed 24
  FastSpeed 36
  damage (14)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    VRIC A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    VRIC AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS6 : YukariNS2
{
  DropItem "YukariYakumoSpiritingAway"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6244)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6244,4,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6244,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6244)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6244,4,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6244,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  }
}

ACTOR YukariYakumoSpiritingAway : Yukari
{
  DropItem "YukariNS7"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  Health 2000
  var int user_angle;
  +NOPAIN
  +NOGRAVITY
  +FLOAT
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  FakeIdle:
	YKRI ABCDEFGHIJ 3 A_Look
	Loop
  Idle:
	YKR1 OPQR 4 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 A 0 Thing_ChangeTID(0, 225)
	YKR3 A 0 ACS_Execute(64,0)
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6245)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6245,4,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6245,80)
	YKR3 A 0 ACS_Execute(602,0,113)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
	YKR3 EFEFEFEFE 3 A_FadeOut(0.1)
	TNT1 A 0 A_UnSetInvulnerable
	Goto Missile
  ChaseState:
	YKR1 A 0 A_SetTranslucent(1.0)
    YKR1 OPQR 4 A_Chase
    Loop
  Missile:
	YKR1 A 0 A_PlaySound("touhou/charge",0,1.0,0,ATTN_NONE)
	YKR1 OPQROPQRO 2 Fast A_FadeOut(0.1,0)
	TNT1 A 2 A_SetTranslucent(0.01)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 A 2 A_SetTranslucent(0.01)
	YKR1 QROPQROPQR 2 Fast A_FadeIn(0.1)
	YKR1 OPQROPQROPQR 2 Fast
	YKRI A 0 A_FaceTarget
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,0,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,10,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,20,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,30,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,40,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,50,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,60,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,70,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,80,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,90,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,100,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,110,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,120,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,130,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,140,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,150,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,160,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,170,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,180,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,190,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,200,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,210,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,220,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,230,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,240,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,250,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,260,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,270,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,280,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,290,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,300,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,310,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,320,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,330,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,340,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,350,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,0,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,10,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,20,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,30,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,40,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,50,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,60,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,70,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,80,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,90,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,100,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,110,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,120,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,130,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,140,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,150,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,160,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,170,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,180,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,190,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,200,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,210,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,220,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,230,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,240,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,250,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,260,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,270,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,280,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,290,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,300,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,310,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,320,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,330,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,340,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,350,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,0,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,10,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,20,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,30,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,40,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,50,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,60,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,70,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,80,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,90,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,100,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,110,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,120,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,130,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,140,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,150,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,160,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,170,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,180,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,190,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,200,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,210,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,220,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,230,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,240,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,250,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,260,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,270,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,280,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,290,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,300,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,310,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,320,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,330,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,340,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,350,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,0,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,10,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,20,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,30,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,40,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,50,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,60,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,70,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,80,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,90,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,100,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,110,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,120,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,130,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,140,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,150,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,160,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,170,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,180,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,190,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,200,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,210,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,220,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,230,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,240,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,250,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,260,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,270,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,280,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,290,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,300,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,310,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,320,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,330,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,340,CMF_AIMDIRECTION)
	YKRI A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,350,CMF_AIMDIRECTION)
	YKRI AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoSmallBullet",32,0,120+frandom(-20,20),CMF_AIMDIRECTION,frandom(-10,10))
	YKRI AAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoMediumBullet",32,0,120+random(-10,10),CMF_AIMDIRECTION,frandom(-5,5))
	YKRI A 0 A_CustomMissile("RanPrincessTenkoBigBullet",32,0,120,CMF_AIMDIRECTION)
	YKRI AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoSmallBullet",32,0,240+frandom(-20,20),CMF_AIMDIRECTION,frandom(-10,10))
	YKRI AAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoMediumBullet",32,0,240+random(-10,10),CMF_AIMDIRECTION,frandom(-5,5))
	YKRI A 0 A_CustomMissile("RanPrincessTenkoBigBullet",32,0,240,CMF_AIMDIRECTION)
	YKRI AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoSmallBullet",32,0,frandom(-20,20),CMF_AIMDIRECTION,frandom(-10,10))
	YKRI AAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoMediumBullet",32,0,random(-10,10),CMF_AIMDIRECTION,frandom(-5,5))
	YKRI A 0 A_CustomMissile("RanPrincessTenkoBigBullet",32,0,0,CMF_AIMDIRECTION)
	YKRI A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",60,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",120,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",240,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(0,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",300,0,2048,0,4.0,0,"IkuHarmlessLaserTrail",-8)
	YKR1 OPQROPQROPQR 2 Fast
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",60,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",120,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",240,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CustomRailgun(40,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",300,0,2048,0,4.0,0,"YukariLaserTrail",-8)
	YKRI A 0 A_CPosRefire
	Loop
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI OPQROPQROPQR 3 A_FadeOut
	Stop
  }
}
ACTOR YukariLaserTrail
{
  Radius 1
  Height 1
  RenderStyle Add
  Alpha 0.9
  XScale 0.4
  YScale 0.4
  +NoInteraction
  +ClientSideOnly
  States
  {
  Spawn:
    VLBL AB 2 Bright A_FadeOut(0.05)
    Loop
  }
}

ACTOR YukariNS7 : YukariNS2
{
  DropItem "YukariDoubleDeathButterfly"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6246)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6246,3,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6246,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6246)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6246,3,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6246,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Melee:
  Missile:
	YKRI A 0 A_Jump(255,"Missile6","Missile7")
	Goto See
  }
}

ACTOR YukariDoubleDeathButterfly : Yukari
{
  DropItem "YukariNS8"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  Health 3000
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6247)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6247,3,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6247,80)
	YKR3 A 0 ACS_Execute(602,0,114)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKR4 ABCDEF 4 Fast A_FaceTarget
	YKR4 KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK 0 A_CustomMissile("YukariDoubleDeathButterflyBlue",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,5))
	YKR4 KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK 0 A_CustomMissile("YukariDoubleDeathButterflyRed",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,5))
	YKR4 KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK 0 A_CustomMissile("YukariDoubleDeathButterflyBlue",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,5))
	YKR4 KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK 0 A_CustomMissile("YukariDoubleDeathButterflyRed",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,5))
	YKR4 GHIJ 3 Fast A_FaceTarget
	YKR4 KLMN 4 Fast A_FaceTarget
	YKR4 A 0 A_SpidRefire
	Loop
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI LLLMMMNNN 3 A_FadeOut
	Stop
  }
}
ACTOR YukariDoubleDeathButterflyBlue
{
  Radius 2
  Speed 40
  FastSpeed 40
  Height 6
  damage (14)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	BBFL A 0
	BBFL A 0 A_ScaleVelocity(frandom(0.2,1.2))
    BBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.96)
	BBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.96)
	BBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.96)
    BBFL A 0 Bright A_Stop
	BBFL A 0 Bright A_SetAngle(angle+120)
	BBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBFL AAAA 3 Bright ThrustThing(angle*256/360, 2, 0, 0)
	BBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    BBFL AAAA 3 Bright ThrustThing(angle*256/360, 2, 0, 0)
  LoopState:
    BBFL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBFL AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariDoubleDeathButterflyRed : YukariDoubleDeathButterflyBlue
{
  States
  {
  Spawn:
	RBFL A 0
	RBFL A 0 A_ScaleVelocity(frandom(0.2,1.2))
    RBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.95)
	RBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.95)
	RBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBFL AAAAAAAAAAAAAAAA 1 Bright A_ScaleVelocity(0.95)
    RBFL A 0 Bright A_Stop
	RBFL A 0 Bright A_SetAngle(angle-120)
	RBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBFL AAAA 3 Bright ThrustThing(angle*256/360, 2, 0, 0)
	RBFL A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RBFL AAAA 3 Bright ThrustThing(angle*256/360, 2, 0, 0)
  LoopState:
    RBFL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBFL AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}

ACTOR YukariNS8 : YukariNS2
{
  DropItem "YukariRanYakumo"
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI A 0 //I give up. I don't know why somiteimes nonspell BHI_BossStartAttack is not called, especially here.
	YKRI A 0 A_SetTranslucent(1.0)
	YKRI A 1 Thing_ChangeTID(0,6248)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6248,2,false)
	YKRI A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6248,60)
	YKRI BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKRI A 0
	TNT1 A 0 Thing_ChangeTID(0,6248)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6248,2,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6248,60)
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Melee:
  Missile:
	YKRI A 0 A_Jump(255,"Missile6","Missile7")
	Goto See
  }
}

ACTOR YukariRanYakumo : Yukari
{
  DropItem "Megasphere"
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    YKRI A 0
	YKRI A 40 A_SetTranslucent(0.01)
	YKRI ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	YKRI ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	YKR3 A 0 A_SetTranslucent(1.0,0)
	YKR3 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR3 ABCD 3 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6249)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6249,2,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6249,80)
	YKR3 A 0 ACS_Execute(602,0,115)
	YKR3 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR3 A 0 A_GiveInventory("SpellcardActive",1)
	YKR3 EFEFEFEFEFEFEFEFEF 3 A_FaceTarget
    YKR3 GHIJ 4 A_FaceTarget
	YKR3 A 0 A_CustomMissile("TeleportFog",0,0,0)
	YKR3 A 0 A_CustomMissile("YukariRanYakumoProjectile",0,0,0)
	YKR3 A 0 A_JumpIfInTargetInventory("UltraMode",1,"SummonChen")
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  SummonChen:
	YKR3 A 0 A_CustomMissile("YukariChenProjectile",0,0,180)
	YKR3 A 0 A_UnSetInvulnerable
	YKR3 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	YKRI A 0 A_SetTranslucent(1.0)
    YKRI ABCDEFGHIJ 3 A_Chase
    Loop
  Missile:
	YKRI A 0 A_Jump(64,"Missile1","Missile2","Missile3","Missile4","Missile3","Missile4")
	Goto See
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_SpawnItemEx("YukariTransitionGapEffect",0,0,0,0,0,0,0,0,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
    YKRI K 0 A_NoBlocking
	YKRI K 0 A_PlaySound("touhou/nuefire")
	YKRI LLLMMMNNN 3 A_FadeOut(0.1,0)
	TNT1 A 70
	TNT1 A 0 ACS_NamedExecute("BHI_YukariStartSurvival",0)
	TNT1 A 0 ACS_Execute(65,0)
	Stop
  }
}
ACTOR YukariRanYakumoProjectile
{
  Radius 10
  Height 20
  Speed 20
  FastSpeed 20
  damage (8)
  Scale 0.7
  Projectile
  +FORCEXYBILLBOARD
  +HEXENBOUNCE
  +RIPPER
  +USEBOUNCESTATE
  +SEEKERMISSILE
  +SKYEXPLODE
  +FLOORHUGGER
  BounceCount 32767
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  DamageType "YukariDamage"
  States
  {
  Spawn:
	RANY B 1 A_ScaleVelocity(1.05)
	RANY B 1 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Bounce.Floor:
  Bounce.Ceiling:
	RANY B 1 A_ScaleVelocity(1.05)
	RANY B 1 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Goto Spawn
  Bounce.Actor:
  Bounce.Wall:
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 0 A_Stop
	RANY A 0 A_SeekerMissile(90,90,SMF_PRECISE)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,15,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,30,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,45,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,75,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,90,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,105,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,135,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,150,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,165,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,195,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,210,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,225,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,255,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,270,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,285,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,315,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,330,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,345,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,0,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,15,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,30,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,45,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,75,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,90,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,105,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,135,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,150,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,165,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,195,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,210,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,225,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,255,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,270,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,285,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,315,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,330,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,345,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,0,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,15,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,30,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,45,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,75,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,90,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,105,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,135,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,150,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,165,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,195,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,210,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,225,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,255,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,270,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,285,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,300,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,315,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,330,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,345,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,0,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,15,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,30,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,45,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,60,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,75,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,90,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,105,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,135,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,150,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,165,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,195,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,210,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,225,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,255,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,270,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,285,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,300,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,315,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,330,CMF_AIMDIRECTION)
	//RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,345,CMF_AIMDIRECTION)
	RANY A 1 A_ChangeVelocity(10, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(11, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(12, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(13, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(14, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(15, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(16, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(17, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(18, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(19, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	RANY A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RANY A 1 A_ChangeVelocity(20, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	Goto Spawn
  Death:
	RANY C 0 A_Stop
    RANY CCCCCCCCCCCCCCCCCCCC 4 Bright A_FadeOut(0.05)
    Stop
  }
}
ACTOR YukariChenProjectile : YukariRanYakumoProjectile
{
  Scale 0.8
  States
  {
  Spawn:
	CHEN B 1 A_ScaleVelocity(1.05)
	CHEN B 1 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Bounce.Floor:
  Bounce.Ceiling:
	CHEN B 1 A_ScaleVelocity(1.05)
	CHEN B 1 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Goto Spawn
  Bounce.Actor:
  Bounce.Wall:
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 0 A_Stop
	CHEN A 0 A_SeekerMissile(90,90,SMF_PRECISE)
	CHEN A 0 A_SetAngle(angle+random(-45,45))
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,0,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,15,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,30,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,45,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,60,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,75,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,90,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,105,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,120,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,135,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,150,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,165,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,180,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,195,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,210,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,225,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,240,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,255,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,270,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,285,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,300,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,315,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,330,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,345,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,0,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,15,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,30,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,45,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,60,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,75,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,90,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,105,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,120,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,135,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,150,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,165,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,180,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,195,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,210,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,225,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,240,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,255,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,270,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,285,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,300,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,315,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,330,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,345,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,0,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,15,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,30,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,45,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,60,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,75,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,90,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,105,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,120,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,135,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,150,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,165,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,180,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,195,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,210,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,225,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,240,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,255,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,270,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,285,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,300,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,315,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,330,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,345,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,0,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,15,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,30,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,45,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,60,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,75,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,90,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,105,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,120,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,135,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,150,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,165,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,180,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,195,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,210,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,225,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,240,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,255,CMF_AIMDIRECTION)
	CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,270,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,285,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,300,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,315,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,330,CMF_AIMDIRECTION)
	//CHEN A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,345,CMF_AIMDIRECTION)
	CHEN A 1 A_ChangeVelocity(10, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(11, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(12, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(13, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(14, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(15, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(16, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(17, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(18, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(19, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	CHEN A 0 A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	CHEN A 1 A_ChangeVelocity(20, 0, 0, CVF_RELATIVE|CVF_REPLACE)
	Goto Spawn
  Death:
	CHEN C 0 A_Stop
    CHEN CCCCCCCCCCCCCCCCCCCC 4 Bright A_FadeOut(0.05)
    Stop
  }
}

ACTOR BoundaryOfHumansAndYoukaiCircle 31337
{
//$Category "Touhou Characters"
  +NOINTERACTION
  +NOBLOCKMAP
  +NOSECTOR
  +NOGRAVITY
  +DONTSPLASH
  States
  {
  Spawn:
	TNT1 A 1
	Loop
  ActivateLasers:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser1",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser2",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser3",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser4",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser5",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser6",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser7",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser8",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser9",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser10",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser11",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaser12",32,0,0,CMF_AIMDIRECTION)
  Idle:
	TNT1 A 1
	Loop
  OhNoes:
	TNT1 A 0 A_GiveInventory("MarisaLaserTrigger",1)
	TNT1 A 575
	TNT1 A 0 A_GiveInventory("BulletDeathTrigger",1)
	TNT1 A 105
	Stop
  }
}
ACTOR YukariYellowLaserTrail
{
  Radius 1
  Height 1
  RenderStyle Add
  Alpha 0.9
  XScale 0.4
  YScale 0.4
  +NoInteraction
  +ClientSideOnly
  States
  {
  Spawn:
    YLBL AB 2 Bright A_FadeOut(0.4)
    Loop
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaserTrail
{
  +NOGRAVITY
  +NOINTERACTION
  +CLIENTSIDEONLY
  RenderStyle Add
  Speed 10
  States
  {
  Spawn:
    WBL4 AAAAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser1
{
  +MISSILE
  +NOINTERACTION
  Scale 0.5

  var int user_warpangle;
  var int user_warpdist;
  var int user_warpincrement;
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  BeginLasers:
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaserTrail",0,0,0,CMF_AIMDIRECTION,0)
	TNT1 A 0 Bright A_SetAngle(angle+180)
	TNT1 A 0 Bright A_CustomRailgun(4,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,3072,0,48.0,0,"YukariYellowLaserTrail",-16)
	TNT1 A 0 Bright A_JumpIf(user_warpdist <= 256, "LoopState")
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", user_warpdist - 16)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + user_warpincrement)
	TNT1 A 1 Bright A_Warp(AAPTR_TARGET, user_warpdist, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  LoopState:
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiCircleLaserTrail",0,0,0,CMF_AIMDIRECTION,0)
	TNT1 A 0 Bright A_SetAngle(angle+180)
	TNT1 A 0 Bright A_CustomRailgun(4,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,3072,0,48.0,0,"YukariYellowLaserTrail",-16)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + user_warpincrement)
	TNT1 A 0 Bright A_JumpIfInTargetInventory("MarisaLaserTrigger",1,"OhNoes")
	TNT1 A 1 Bright A_Warp(AAPTR_TARGET, user_warpdist, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  OhNoes:
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", user_warpdist - 1)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_SetAngle(angle+180)
	TNT1 A 0 Bright A_CustomRailgun(4,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,3072,0,48.0,0,"YukariYellowLaserTrail",-16)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + user_warpincrement)
	TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 1 Bright A_Warp(AAPTR_TARGET, user_warpdist, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	TNT1 A 0 Bright A_FaceTarget
	TNT1 A 0 Bright A_SetAngle(angle+180)
	TNT1 A 0 Bright A_CustomRailgun(4,0,"none","white",RGF_SILENT|RGF_FULLBRIGHT,0,0,"BulletPuff",0,0,3072,0,48.0,0,"YukariYellowLaserTrail",-16)
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", user_warpangle + user_warpincrement)
	TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 1 Bright A_Warp(AAPTR_TARGET, user_warpdist, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    TNT1 A 0
    Stop
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser2 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 60)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser3 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 120)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser4 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 180)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser5 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 240)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser6 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 300)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", 3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser7 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 0)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser8 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 60)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser9 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 120)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser10 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 180)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser11 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 240)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiCircleLaser12 : BoundaryOfHumansAndYoukaiCircleLaser1
{
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 Bright A_SetUserVar("user_warpangle", 300)
    TNT1 A 0 Bright A_SetUserVar("user_warpdist", 4096)
    TNT1 A 0 Bright A_SetUserVar("user_warpincrement", -3)
	Goto BeginLasers
  }
}
ACTOR BoundaryOfHumansAndYoukaiShooter
{
//$Category "Touhou Characters"
  Radius 16
  Height 56
  Speed 0
  FastSpeed 0
  Damage (0)
  Health 10000
  Monster //?!
  -SOLID
  -COUNTKILL
  -SHOOTABLE
  -CANPUSHWALLS
  -CANUSEWALLS
  -ACTIVATEMCROSS
  +FRIENDLY
  +NOBLOOD
  +FLOAT
  +NOGRAVITY
  +MISSILEMORE
  +DONTFALL
  +NOICEDEATH
  +NOPAIN
  SeeSound ""
  PainSound ""
  AttackSound ""
  MeleeSound ""
  PainChance 256
  States
  {
  Spawn:
	TNT1 A 16 Fast A_CustomMissile("BoundaryOfHumansAndYoukaiShot1",32,0,0,CMF_AIMDIRECTION)
	Loop
  Idle:
	TNT1 A 1
	Loop
  Pain:
    Goto Idle
  AltShot:
	TNT1 A 0 Bright A_SetAngle(angle+random(-5,5))
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,-40,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,-30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,-20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,-10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot2",32,0,40,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,-40,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,-30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,-20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,-10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot3",32,0,40,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,-40,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,-30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,-20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,-10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,0,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,10,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,20,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,30,CMF_AIMDIRECTION)
	TNT1 A 0 Bright A_CustomMissile("BoundaryOfHumansAndYoukaiShot4",32,0,40,CMF_AIMDIRECTION)
	Goto Idle
  Death:
    TNT1 A 6 Bright A_GiveInventory("Shell",1)
	TNT1 A 0 Bright A_Stop
    Stop
  }
}
ACTOR BoundaryOfHumansAndYoukaiShot1
{
  Speed 8
  FastSpeed 16
  Height 6
  Radius 3
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR BoundaryOfHumansAndYoukaiShot2 : BoundaryOfHumansAndYoukaiShot1
{
  States
  {
  Spawn:
    BBFL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBFL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR BoundaryOfHumansAndYoukaiShot3 : BoundaryOfHumansAndYoukaiShot2
{
  Speed 6
  FastSpeed 12
}
ACTOR BoundaryOfHumansAndYoukaiShot4 : BoundaryOfHumansAndYoukaiShot2
{
  Speed 10
  FastSpeed 20
}

ACTOR YukariLifeAndDeath : Yukari
{
  DamageFactor "PlayerSpellcard", 0
  +INVULNERABLE
  +NOPAIN
  Health 12000
  var int user_angle1;
  var int user_angle2;
  var int user_angle3;
  var int user_angle4;
  var int user_angle5;
  var int user_angle6;
  DropItem "none"
  States
  {
  Spawn:
    YKRI A 0
	YKRI OPQR 10 A_SetTranslucent(0.01)
	YKRI OPQROPQROPQR 3 A_FadeIn(0.1)
  Idle:
	YKR1 OPQR 4 A_Look
	Goto Idle
  See:
	YKR1 A 0 A_SetTranslucent(1.0,0)
	YKR1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	YKR1 A 0 Thing_ChangeTID(0, 225)
	YKR1 OPQR 3 A_FaceTarget
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,225,0,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimerAlternative",0,225,120)
	YKR1 A 0 ACS_Execute(602,0,117)
	YKR1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	YKR1 A 0 A_GiveInventory("SpellcardActive",1)
	YKR1 OPQROPQROPQROPQROPQR 3 A_FaceTarget
	YKR1 A 0 A_UnSetInvulnerable
	Goto Missile
  ChaseState:
	YKR1 OPQR 3 A_Chase
	Loop
  Missile:
	YKRI A 0 A_JumpIfInventory("BossTimerCheck30",1,"Missile9")
	YKRI A 0 A_JumpIfHealthLower(1500,"Missile8")
	YKRI A 0 A_JumpIfHealthLower(3000,"Missile7")
	YKRI A 0 A_JumpIfHealthLower(4500,"Missile6")
	YKRI A 0 A_JumpIfHealthLower(6000,"Missile5")
	YKRI A 0 A_JumpIfHealthLower(7500,"Missile4")
	YKRI A 0 A_JumpIfHealthLower(9000,"Missile3")
	YKRI A 0 A_JumpIfHealthLower(10500,"Missile2")
  Missile1:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	Goto Missile
  Missile2:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	Goto Missile
  Missile3:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	Goto Missile
  Missile4:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,48-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,60-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	Goto Missile
  Missile5:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	Goto Missile
  Missile6:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	Goto Missile
  Missile7:
	YKR1 OP 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-75)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-45)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-15)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,15)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,45)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,75)
	YKR1 QR 2 Fast
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6,CMF_AIMDIRECTION)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6,CMF_AIMDIRECTION)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-70)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,70)
	Goto Missile
  Missile8:
	YKR1 OP 2 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-75)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-45)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-15)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,15)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,45)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,75)
	YKR1 QR 2 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-70)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,70)
	Goto Missile
  Missile9:
	YKR1 OP 2 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-80)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-60)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-40)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,0)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,40)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,60)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,80)
	YKR1 QR 2 Fast A_FaceTarget
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,0+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,20+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,40+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,60+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,80+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,100+user_angle1)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot1",32,0,120+user_angle1)
	YKRI A 0 A_SetUserVar("user_angle1",user_angle1+18)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,0-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,10-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,20-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,30-user_angle2)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot2",32,0,40-user_angle2)
	YKRI A 0 A_SetUserVar("user_angle2",user_angle2+20)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,0+user_angle3)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot3",32,0,6+user_angle3)
	YKRI A 0 A_SetUserVar("user_angle3",user_angle3+23)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4",32,0,36-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,0-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,12-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,24-user_angle4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot4B",32,0,36-user_angle4)
	YKRI A 0 A_SetUserVar("user_angle4",user_angle4+4)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,0+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,25+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,50+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,75+user_angle5)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot5",32,0,100+user_angle5)
	YKRI A 0 A_SetUserVar("user_angle5",user_angle5+7)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6",32,0,80-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,0-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,20-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,40-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,60-user_angle6)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot6B",32,0,80-user_angle6)
	YKRI A 0 A_SetUserVar("user_angle6",user_angle6+29)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-90)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-70)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,-10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,10)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,30)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,50)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,70)
	YKR1 A 0 A_CustomMissile("YukariLifeAndDeathShot7",32,0,90)
	Goto Missile
  Death:
	YKRI K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	YKRI K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	YKRI K 0 A_ChangeFlag("FLOATBOB",0)
	YKRI K 0 ACS_Execute(603,0)
	YKRI K 0 A_GiveInventory("BulletDeathTrigger",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	YKRI K 35
	TNT1 A 0 A_ScreamAndUnblock
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	YKRI L 35
	TNT1 A 0 A_Scream
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)	
	YKRI M 35
	TNT1 A 0 A_Scream
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 0 ACS_Execute(125,0)
	Stop
  }
}
ACTOR YukariLifeAndDeathShot1
{
  Speed 10
  FastSpeed 20
  Height 4
  Radius 2
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BPEL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot2
{
  Speed 8
  FastSpeed 16
  Height 4
  Radius 2
  damage (12)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    VBFL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    VBFL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot3
{
  Speed 6
  FastSpeed 12
  Height 4
  Radius 2
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    RBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RBUB AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot4
{
  Speed 8
  FastSpeed 16
  Height 4
  Radius 2
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot4B
{
  Speed 12
  FastSpeed 24
  Height 4
  Radius 2
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    BBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot5
{
  Speed 16
  FastSpeed 32
  Height 4
  Radius 2
  damage (14)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    YBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    YBL3 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot6
{
  Speed 15
  FastSpeed 30
  Height 4
  Radius 2
  damage (14)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    CBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    CBL3 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot6B
{
  Speed 20
  FastSpeed 40
  Height 4
  Radius 2
  damage (14)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    CBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    CBL3 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR YukariLifeAndDeathShot7
{
  Speed 14
  FastSpeed 28
  Height 4
  Radius 2
  damage (12)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  DamageType "YukariDamage"
  States
  {
  Spawn:
    VBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    VBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}