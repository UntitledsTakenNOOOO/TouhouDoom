//HERE WE GO AGAIN
/*
This isn't really a Phantasm stage, but I'm naming everything this way to make
the code easier to read (and also to help find everything more easily in GZDB.)
*/
ACTOR PhantasmFairy1A 31320
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR4 ABCD 3 A_Look
    Loop
  See:
    FAR4 ABCD 3 A_Chase
    Loop
  Pain:
    FAR4 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR4 A 3 A_FaceTarget
	FAR4 A 0 A_Chase
	FAR4 A 0 A_Playsound("touhou/fire",0,0.2,0,ATTN_NONE)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,0,CMF_AIMOFFSET)
	FAR4 A 0 A_SpidRefire
	Loop
  Death:
    FAR4 E 3
    FAR4 E 1 A_ScreamAndUnblock
    FAR4 E 1 A_SetTranslucent(0.90)
    FAR4 E 1 A_SetTranslucent(0.80)
    FAR4 E 1 A_SetTranslucent(0.70)
    FAR4 E 1 A_SetTranslucent(0.60)
    FAR4 E 1 A_SetTranslucent(0.50)
    FAR4 E 1 A_SetTranslucent(0.40)
    FAR4 E 1 A_SetTranslucent(0.30)
    FAR4 E 1 A_SetTranslucent(0.20)
    FAR4 E 1 A_SetTranslucent(0.10)
	FAR4 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy1C 31322
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR4 ABCD 3 A_Look
    Loop
  See:
    FAR4 ABCD 3 A_Chase
    Loop
  Pain:
    FAR4 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR4 A 3 A_FaceTarget
	FAR4 A 0 A_Chase
	FAR4 A 0 A_Playsound("touhou/fire",0,0.2,0,ATTN_NONE)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,15,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,-15,CMF_AIMOFFSET)
	FAR4 A 0 A_SpidRefire
	Loop
  Death:
    FAR4 E 3
    FAR4 E 1 A_ScreamAndUnblock
    FAR4 E 1 A_SetTranslucent(0.90)
    FAR4 E 1 A_SetTranslucent(0.80)
    FAR4 E 1 A_SetTranslucent(0.70)
    FAR4 E 1 A_SetTranslucent(0.60)
    FAR4 E 1 A_SetTranslucent(0.50)
    FAR4 E 1 A_SetTranslucent(0.40)
    FAR4 E 1 A_SetTranslucent(0.30)
    FAR4 E 1 A_SetTranslucent(0.20)
    FAR4 E 1 A_SetTranslucent(0.10)
	FAR4 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy1AShot
{
  Radius 3
  Speed 30
  fastspeed 40
  Height 6
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	BBL2 A 1 Bright
    Loop
  Death:
    BBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy1B 31321
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR5 ABCD 3 A_Look
    Loop
  See:
    FAR5 ABCD 3 A_Chase
    Loop
  Pain:
    FAR5 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR5 A 3 A_FaceTarget
	FAR5 A 0 A_Chase
	FAR5 A 0 A_Playsound("touhou/fire",0,0.2,0,ATTN_NONE)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,0,CMF_AIMOFFSET)
	FAR5 A 0 A_SpidRefire
	Loop
  Death:
    FAR5 E 3
    FAR5 E 1 A_ScreamAndUnblock
    FAR5 E 1 A_SetTranslucent(0.90)
    FAR5 E 1 A_SetTranslucent(0.80)
    FAR5 E 1 A_SetTranslucent(0.70)
    FAR5 E 1 A_SetTranslucent(0.60)
    FAR5 E 1 A_SetTranslucent(0.50)
    FAR5 E 1 A_SetTranslucent(0.40)
    FAR5 E 1 A_SetTranslucent(0.30)
    FAR5 E 1 A_SetTranslucent(0.20)
    FAR5 E 1 A_SetTranslucent(0.10)
	FAR5 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy1D 31323
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR5 ABCD 3 A_Look
    Loop
  See:
    FAR5 ABCD 3 A_Chase
    Loop
  Pain:
    FAR5 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR5 A 3 A_FaceTarget
	FAR4 A 0 A_Chase
	FAR5 A 0 A_Playsound("touhou/fire",0,0.2,0,ATTN_NONE)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,15,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,-15,CMF_AIMOFFSET)
	FAR5 A 0 A_SpidRefire
	Loop
  Death:
    FAR5 E 3
    FAR5 E 1 A_ScreamAndUnblock
    FAR5 E 1 A_SetTranslucent(0.90)
    FAR5 E 1 A_SetTranslucent(0.80)
    FAR5 E 1 A_SetTranslucent(0.70)
    FAR5 E 1 A_SetTranslucent(0.60)
    FAR5 E 1 A_SetTranslucent(0.50)
    FAR5 E 1 A_SetTranslucent(0.40)
    FAR5 E 1 A_SetTranslucent(0.30)
    FAR5 E 1 A_SetTranslucent(0.20)
    FAR5 E 1 A_SetTranslucent(0.10)
	FAR5 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy1BShot
{
  Radius 3
  Speed 30
  fastspeed 40
  Height 6
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	RBL2 A 1 Bright
    Loop
  Death:
    RBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy2 31324
{
//$Category "Touhou Characters"
  floatspeed 12
  Speed 12
  fastspeed 16
  MONSTER
  Health 1
  Radius 32
  Height 64
  Scale 1
  MinMissileChance 32
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  States
  {
  Spawn:
    FAR7 ABCD 3 A_Look
    Loop
  See:
    FAR7 ABCD 3 A_Chase
    Loop
  Pain:
    FAR7 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR7 AB 3 A_FaceTarget
	FAR7 A 0 A_Chase
	FAR7 A 0 A_Playsound("touhou/fire",0,0.4,0,ATTN_NONE)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,288,CMF_AIMOFFSET)
	FAR7 C 3 A_FaceTarget
	Goto See
  Death:
	FAR7 A 0 A_Playsound("touhou/fire",0,0.4,0,ATTN_NONE)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,0,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,72,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,144,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,216,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot1",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot2",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot3",10,0,288,CMF_AIMOFFSET)
	FAR7 A 0 A_CustomMissile("PhantasmFairy2Shot4",10,0,288,CMF_AIMOFFSET)
    FAR7 E 3
    FAR7 E 1 A_ScreamAndUnblock
    FAR7 E 1 A_SetTranslucent(0.90)
    FAR7 E 1 A_SetTranslucent(0.80)
    FAR7 E 1 A_SetTranslucent(0.70)
    FAR7 E 1 A_SetTranslucent(0.60)
    FAR7 E 1 A_SetTranslucent(0.50)
    FAR7 E 1 A_SetTranslucent(0.40)
    FAR7 E 1 A_SetTranslucent(0.30)
    FAR7 E 1 A_SetTranslucent(0.20)
    FAR7 E 1 A_SetTranslucent(0.10)
	FAR7 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy2Shot1
{
  Radius 2
  Height 4
  Speed 15
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	GPEL A 1 Bright
    Loop
  Death:
    GPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy2Shot2 : PhantasmFairy2Shot1 { Speed 20 }
ACTOR PhantasmFairy2Shot3 : PhantasmFairy2Shot1 { Speed 25 }
ACTOR PhantasmFairy2Shot4 : PhantasmFairy2Shot1 { Speed 30 }

ACTOR PhantasmFairy3A 31325
{
//$Category "Touhou Characters"
  floatspeed 8
  Speed 8
  fastspeed 12
  MONSTER
  Health 60
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 128
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR4 ABCD 3 A_Look
    Loop
  See:
    FAR4 ABCD 3 A_Chase
    Loop
  Pain:
    FAR4 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR4 AB 3 A_FaceTarget
	FAR4 A 0 A_Chase
	FAR4 A 0 A_Playsound("touhou/fire",0,0.6,0,ATTN_NONE)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot1",20,0,-90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot1",20,0,-45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot1",20,0,90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot1",20,0,45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot1",20,0,0,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot2",20,0,-90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot2",20,0,-45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot2",20,0,90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot2",20,0,45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot2",20,0,0,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot3",20,0,-90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot3",20,0,-45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot3",20,0,90,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot3",20,0,45,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy3AShot3",20,0,0,CMF_AIMOFFSET)
	FAR4 C 3 A_FaceTarget
	Goto See
  Death:
    FAR4 E 3
    FAR4 E 1 A_ScreamAndUnblock
    FAR4 E 1 A_SetTranslucent(0.90)
    FAR4 E 1 A_SetTranslucent(0.80)
    FAR4 E 1 A_SetTranslucent(0.70)
    FAR4 E 1 A_SetTranslucent(0.60)
    FAR4 E 1 A_SetTranslucent(0.50)
    FAR4 E 1 A_SetTranslucent(0.40)
    FAR4 E 1 A_SetTranslucent(0.30)
    FAR4 E 1 A_SetTranslucent(0.20)
    FAR4 E 1 A_SetTranslucent(0.10)
	FAR4 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy3AShot1
{
  Radius 3
  Height 6
  Speed 15
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	BBL1 A 1 Bright
    Loop
  Death:
    BBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy3AShot2 : PhantasmFairy3AShot1 { Speed 20 }
ACTOR PhantasmFairy3AShot3 : PhantasmFairy3AShot1 { Speed 25 }
ACTOR PhantasmFairy3B 31326
{
//$Category "Touhou Characters"
  floatspeed 8
  Speed 8
  fastspeed 12
  MONSTER
  Health 60
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 128
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR5 ABCD 3 A_Look
    Loop
  See:
    FAR5 ABCD 3 A_Chase
    Loop
  Pain:
    FAR5 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR5 AB 3 A_FaceTarget
	FAR5 A 0 A_Chase
	FAR5 A 0 A_Playsound("touhou/fire",0,0.6,0,ATTN_NONE)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot1",20,0,-4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot1",20,0,-2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot1",20,0,4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot1",20,0,2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot1",20,0,0,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot2",20,0,-4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot2",20,0,-2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot2",20,0,4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot2",20,0,2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot2",20,0,0,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot3",20,0,-4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot3",20,0,-2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot3",20,0,4,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot3",20,0,2,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy3BShot3",20,0,0,CMF_AIMOFFSET)
	FAR5 C 3 A_FaceTarget
	Goto See
  Death:
    FAR5 E 3
    FAR5 E 1 A_ScreamAndUnblock
    FAR5 E 1 A_SetTranslucent(0.90)
    FAR5 E 1 A_SetTranslucent(0.80)
    FAR5 E 1 A_SetTranslucent(0.70)
    FAR5 E 1 A_SetTranslucent(0.60)
    FAR5 E 1 A_SetTranslucent(0.50)
    FAR5 E 1 A_SetTranslucent(0.40)
    FAR5 E 1 A_SetTranslucent(0.30)
    FAR5 E 1 A_SetTranslucent(0.20)
    FAR5 E 1 A_SetTranslucent(0.10)
	FAR5 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy3BShot1
{
  Radius 3
  Height 6
  Speed 15
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	VBL1 A 1 Bright
    Loop
  Death:
    VBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy3BShot2 : PhantasmFairy3BShot1 { Speed 20 }
ACTOR PhantasmFairy3BShot3 : PhantasmFairy3BShot1 { Speed 25 }

ACTOR PhantasmFairy4A 31327
{
//$Category "Touhou Characters"
  floatspeed 8
  Speed 8
  fastspeed 10
  MONSTER
  Health 80
  Radius 64
  Height 64
  MinMissileChance 32
  Scale 1.25
  Mass 200
  MeleeRange 64
  Species Fairy
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 144
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.75
  DamageFactor "TouhouHakkeroLaser", 0.85
  var int user_angle;
  States
  {
  Spawn:
    FAR6 ABCD 3 A_Look
    Loop
  See:
	FAR6 A 0 A_SetUserVar("user_angle", 0)
    FAR6 ABCD 3 A_Chase
    Loop
  Pain:
    FAR6 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR6 ABCDABCD 4 A_Chase("","")
	FAR6 A 0 A_FaceTarget
  MissileLoop:
	FAR4 A 0 A_Playsound("touhou/fire",0,0.4,0,ATTN_NONE)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4AShot",30,0,0-user_angle,CMF_AIMDIRECTION)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4AShot",30,0,120-user_angle,CMF_AIMDIRECTION)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4AShot",30,0,240-user_angle,CMF_AIMDIRECTION)
	FAR6 E 1 A_SetUserVar("user_angle",user_angle+random(0,10))
	FAR6 E 0 A_JumpIf(user_angle > 120, "See")
	Loop
  Death:
    FAR6 E 3
	FAR6 E 1 A_ScreamAndUnblock
    FAR6 E 1 A_SetTranslucent(0.90)
    FAR6 E 1 A_SetTranslucent(0.80)
    FAR6 E 1 A_SetTranslucent(0.70)
    FAR6 E 1 A_SetTranslucent(0.60)
    FAR6 E 1 A_SetTranslucent(0.50)
    FAR6 E 1 A_SetTranslucent(0.40)
    FAR6 E 1 A_SetTranslucent(0.30)
    FAR6 E 1 A_SetTranslucent(0.20)
    FAR6 E 1 A_SetTranslucent(0.10)
	FAR6 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy4AShot
{
  Speed 15
  fastspeed 25
  Height 4
  Radius 2
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BPEL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy4B : PhantasmFairy4A 31328
{
  States
  {
  Melee:
  Missile:
	FAR6 ABCDABCD 4 A_Chase("","")
	FAR6 A 0 A_FaceTarget
  MissileLoop:
	FAR4 A 0 A_Playsound("touhou/fire",0,0.4,0,ATTN_NONE)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4BShot",30,0,0+user_angle,CMF_AIMDIRECTION)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4BShot",30,0,120+user_angle,CMF_AIMDIRECTION)
	FAR6 A 0 A_CustomMissile("PhantasmFairy4BShot",30,0,240+user_angle,CMF_AIMDIRECTION)
	FAR6 E 1 A_SetUserVar("user_angle",user_angle+random(0,10))
	FAR6 E 0 A_JumpIf(user_angle > 120, "See")
	Loop
  }
}
ACTOR PhantasmFairy4BShot
{
  Speed 15
  fastspeed 25
  Height 4
  Radius 2
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    GPEL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}

ACTOR PhantasmFairy5A 31329
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR4 ABCD 3 A_Look
    Loop
  See:
    FAR4 ABCD 3 A_Chase
    Loop
  Pain:
    FAR4 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR4 A 3 A_FaceTarget
	FAR4 A 0 A_Chase
	FAR4 A 0 A_Playsound("touhou/fire",0,0.2,0,ATTN_NONE)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,0,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,30,CMF_AIMOFFSET)
	FAR4 A 0 A_CustomMissile("PhantasmFairy1AShot",20,0,-30,CMF_AIMOFFSET)
	FAR4 A 0 A_SpidRefire
	Loop
  Death:
    FAR4 E 3
    FAR4 E 1 A_ScreamAndUnblock
    FAR4 E 1 A_SetTranslucent(0.90)
    FAR4 E 1 A_SetTranslucent(0.80)
    FAR4 E 1 A_SetTranslucent(0.70)
    FAR4 E 1 A_SetTranslucent(0.60)
    FAR4 E 1 A_SetTranslucent(0.50)
    FAR4 E 1 A_SetTranslucent(0.40)
    FAR4 E 1 A_SetTranslucent(0.30)
    FAR4 E 1 A_SetTranslucent(0.20)
    FAR4 E 1 A_SetTranslucent(0.10)
	FAR4 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy5B 31330
{
//$Category "Touhou Characters"
  floatspeed 4
  Speed 4
  fastspeed 8
  MONSTER
  Health 20
  Radius 48
  Height 64
  Scale 1
  MinMissileChance 64
  Mass 200
  MeleeRange 64
  Species Fairy
  +MISSILEMORE
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +FULLVOLDEATH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 160
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR5 ABCD 3 A_Look
    Loop
  See:
    FAR5 ABCD 3 A_Chase
    Loop
  Pain:
    FAR5 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR5 A 3 A_FaceTarget
	FAR5 A 0 A_Chase
	FAR5 A 0 A_Playsound("touhou/fire",0,0.25,0,ATTN_NONE)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,-30,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,30,CMF_AIMOFFSET)
	FAR5 A 0 A_CustomMissile("PhantasmFairy1BShot",20,0,0,CMF_AIMOFFSET)
	FAR5 A 0 A_SpidRefire
	Loop
  Death:
    FAR5 E 3
    FAR5 E 1 A_ScreamAndUnblock
    FAR5 E 1 A_SetTranslucent(0.90)
    FAR5 E 1 A_SetTranslucent(0.80)
    FAR5 E 1 A_SetTranslucent(0.70)
    FAR5 E 1 A_SetTranslucent(0.60)
    FAR5 E 1 A_SetTranslucent(0.50)
    FAR5 E 1 A_SetTranslucent(0.40)
    FAR5 E 1 A_SetTranslucent(0.30)
    FAR5 E 1 A_SetTranslucent(0.20)
    FAR5 E 1 A_SetTranslucent(0.10)
	FAR5 E 1 A_SetTranslucent(0)
    Stop
  }
}

//As you can probably guess, Ran's the Midboss for Yukari's stage. Have fun!
ACTOR RanYakumo 31331
{
//$Category "Touhou Characters"
  Tag "Ran Yakumo"
  Speed 8
  FastSpeed 12
  MONSTER
  Health 2500
  Radius 80
  Height 64
  Scale 0.8
  MinMissileChance 160
  Mass 10000
  MeleeRange 64
  +NOBLOOD
  +LOOKALLAROUND
  +FLOORCLIP
  +DONTFALL
  +BOSS
  +NEVERRESPAWN
  +MISSILEMORE
  +NORADIUSDMG
  +DONTMORPH
  +DONTRIP
  +AMBUSH
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 2
  Painsound "touhou/pain"
  Seesound ""
  Deathsound "touhou/defeat"
  Obituary "%o could not read Ran's danmaku."
  DamageFactor "YakumoDamage", 0
  DamageFactor "PlayerSpellcard", 0.5
  DropItem "RanProtectionOfZenkiAndGoki"
  var int user_angle;
  DamageFactor "TouhouHakureiHomingAmulet", 0.75
  DamageFactor "TouhouHakkeroLaser", 0.85
  States
  {
  Spawn:
	RANY A 0
	RANY A 1
    RANY A 1 ACS_NamedExecute("BHI_BossStartAttack",0,202,1,false)
    RANY A 1 ACS_NamedExecute("BHI_BossStartTimer",0,202,55)
  Idle:
    RANY A 3 A_Look
    Loop
  See:
    RANY A 3 A_Chase
    Loop
  Pain:
	RANY A 0 A_Pain
    RANY A 10 Fast
    Goto See
  Melee:
  Missile:
	RANY A 5 Fast A_FaceTarget
	RANY A 0 A_SetUserVar("user_angle", 30)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop1:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile2")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile2")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile2")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile2")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile2:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_SetUserVar("user_angle", 20)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop2:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile3")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile3")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile3")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile3")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile3:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_SetUserVar("user_angle", 10)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop3:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile4")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile4")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile4")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile4")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile4:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY AAAAAAA 5 Fast A_Wander
	RANY A 0 A_FaceTarget
	RANY A 0 A_SetUserVar("user_angle", 30)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop4:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile5")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile5")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile5")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 330, "Missile5")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile5:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_SetUserVar("user_angle", 20)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop5:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile6")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile6")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile6")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 340, "Missile6")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile6:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_SetUserVar("user_angle", 10)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
  MissileLoop6:
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile7")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile7")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile7")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	RANY A 0 A_CustomMissile("RanFastNSBullet",32,0,user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle == 350, "Missile7")
	RANY A 0 A_SetUserVar("user_angle", user_angle+2)
	Loop
  Missile7:
	RANY DEFG 2 Fast A_CustomMissile("RanFastNSBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_SetUserVar("user_angle", 0)
	RANY AAAAAAAAAAAAAA 5 Fast A_Wander
  MissileLoop7:
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile8")
	RANY D 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile8")
	RANY E 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile8")
	RANY F 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315+user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile8")
	RANY G 2 Fast A_SetUserVar("user_angle", user_angle+4)
	Loop
  Missile8:
	RANY A 0 A_SetUserVar("user_angle", 0)
	RANY AAAAAAA 5 Fast A_Wander
  MissileLoop8:
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile9")
	RANY D 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile9")
	RANY E 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile9")
	RANY F 2 Fast A_SetUserVar("user_angle", user_angle+4)
	RANY A 0 A_PlaySound("touhou/fire",0,0.25,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet1",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet2",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,0-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,45-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,90-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,135-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,180-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,225-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,270-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanSlowNSBullet3",32,0,315-user_angle,CMF_AIMDIRECTION)
	RANY A 0 A_JumpIf(user_angle > 90, "Missile9")
	RANY G 2 Fast A_SetUserVar("user_angle", user_angle+4)
	Loop
  Missile9:
	RANY A 0 A_SetUserVar("user_angle", 0)
	RANY AAAAAAAAAAAAAA 5 Fast A_Wander
	Goto See
  Death:
	TNT1 A 0 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStopAttack",0)
	RANY C 0 A_GiveInventory("BulletDeathTrigger",1)
    RANY C 0 A_NoBlocking
	RANY C 0 A_PlaySound("touhou/nuefire")
    RANY CCCCCCCCCC 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR RanFastNSBullet : FastProjectile
{
  Speed 50
  FastSpeed 75
  Height 6
  Radius 3
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  Scale 2.0
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BPEL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanSlowNSBullet1
{
  Speed 15
  Height 4
  Radius 2
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  RenderStyle Add
  Scale 2.0
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RPEL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    RPEL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanSlowNSBullet2 : RanSlowNSBullet1 { Speed 10 }
ACTOR RanSlowNSBullet3 : RanSlowNSBullet1 { Speed 5 }
ACTOR RanProtectionOfZenkiAndGoki : RanYakumo
{
  +INVULNERABLE
  +NOPAIN
  DropItem "RanPrincessTenko"
  States
  {
  Spawn:
    RANY A 3 A_Look
    Loop
  See:
	RANY A 0 A_SetTranslucent(1.0,0)
	RANY A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	RANY A 35
	RANY A 0 Thing_ChangeTID(0,6232)
	RANY A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6232,1,true)
    RANY A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6232,60)
	RANY A 0 ACS_Execute(602,0,106)
	RANY A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	RANY A 0 A_GiveInventory("SpellcardActive",1)
	RANY C 70
	RANY C 0 A_UnSetInvulnerable
	RANY C 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
    RANY A 3 A_Chase
    Loop
  Melee:
  Missile:
	RANY A 0 A_PlaySound("touhou/charge",0,1.0,0,ATTN_NONE)
	RANY A 16 Fast A_FaceTarget
	RANY A 0 A_PlaySound("touhou/fire",0,0.5,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanProtectionShotYellow1",32,0,90)
	RANY A 24 Fast A_FaceTarget
	RANY A 0 A_PlaySound("touhou/fire",0,0.5,0,ATTN_NONE)
	RANY A 0 A_CustomMissile("RanProtectionShotGreen1",32,0,-90)
	RANY A 36 Fast A_FaceTarget
	Goto See
  Death:
	TNT1 A 0 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStopAttack",0)
	RANY C 0 ACS_Execute(603,0)
	RANY C 0 A_GiveInventory("BulletDeathTrigger",1)
    RANY C 0 A_NoBlocking
	RANY C 0 A_PlaySound("touhou/nuefire")
    RANY CCCCCCCCCC 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR RanProtectionShotYellow1
{
  Radius 6
  Height 12
  Speed 20
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 0 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_ScaleVelocity(0.9)
    YBUB AAAA 0 A_SeekerMissile(90,90)
	YBUB A 0 A_ChangeVelocity(15,0,0,CVF_RELATIVE|CVF_REPLACE)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow2",0,0,random(0,360),CMF_TRACKOWNER)
	YBUB A 1 Bright A_CustomMissile("RanProtectionShotYellow3",0,0,random(0,360),CMF_TRACKOWNER)
  LoopState:
	YBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    YBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}
ACTOR RanProtectionShotYellow2
{
  Radius 2
  Height 4
  Speed 5
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	YBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    YBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanProtectionShotYellow3
{
  Radius 2
  Height 4
  Speed 10
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	YBL2 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    YBL2 AAAA 0 A_SeekerMissile(90,90,SMF_LOOK,255,24)
	YBL2 A 0 A_ChangeVelocity(15,0,0,CVF_RELATIVE|CVF_REPLACE)
  LoopState:
	YBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    YBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanProtectionShotGreen1
{
  Radius 6
  Height 12
  Speed 20
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 0 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_ScaleVelocity(0.9)
    GBUB AAAA 0 A_SeekerMissile(90,90)
	GBUB A 0 A_ChangeVelocity(15,0,0,CVF_RELATIVE|CVF_REPLACE)
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen2",0,0,random(0,360))
	GBUB A 1 Bright A_CustomMissile("RanProtectionShotGreen3",0,0,random(0,360))
  LoopState:
	GBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    GBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}
ACTOR RanProtectionShotGreen2
{
  Radius 2
  Height 4
  Speed 5
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	GBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanProtectionShotGreen3
{
  Radius 2
  Height 4
  Speed 10
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	GBL2 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    GBL2 AAAA 0 A_SeekerMissile(90,90,SMF_LOOK,255,24)
	GBL2 A 0 A_ChangeVelocity(15,0,0,CVF_RELATIVE|CVF_REPLACE)
  LoopState:
	GBL2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GBL2 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanPrincessTenko : RanYakumo
{
  +NOPAIN
  +INVULNERABLE
  DropItem "SystemCardBomb"
  States
  {
  Spawn:
    RANY A 3 A_Look
    Loop
  See:
	RANY A 0 A_SetTranslucent(1.0,0)
	RANY A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	RANY A 35
	RANY A 0 Thing_ChangeTID(0,6233)
	RANY A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6233,0,true)
    RANY A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6233,60)
	RANY A 0 ACS_Execute(62,0)
	RANY A 0 ACS_Execute(602,0,107)
	RANY A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	RANY A 0 A_GiveInventory("SpellcardActive",1)
	RANY C 70
	RANY C 0 A_UnSetInvulnerable
	Goto Missile
  ChaseState:
    RANY A 3 A_Chase
    Loop
  Melee:
  Missile:
	RANY A 0 A_PlaySound("touhou/charge",0,1.0,0,ATTN_NONE)
	RANY BBBBBBBBB 3 Fast A_FadeOut(0.1,0)
	TNT1 A 3 A_SetTranslucent(0.1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
	TNT1 A 3 A_SetTranslucent(0.1)
	RANY BBBBBBBBB 3 Fast A_FadeIn(0.1)
	RANY A 28 Fast
	RANY A 0 A_FaceTarget
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,12,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,24,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,36,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,48,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,72,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,84,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,96,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,108,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,132,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,144,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,156,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,168,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,192,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,204,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,216,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,228,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,252,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,264,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,276,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,288,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,312,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,324,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,336,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,348,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly",32,0,360,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,12,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,24,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,36,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,48,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,72,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,84,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,96,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,108,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,132,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,144,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,156,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,168,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,192,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,204,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,216,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,228,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,252,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,264,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,276,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,288,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,312,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,324,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,336,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,348,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly2",32,0,360,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,12,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,24,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,36,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,48,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,72,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,84,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,96,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,108,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,132,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,144,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,156,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,168,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,192,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,204,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,216,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,228,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,252,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,264,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,276,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,288,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,312,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,324,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,336,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,348,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly3",32,0,360,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,12,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,24,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,36,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,48,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,60,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,72,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,84,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,96,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,108,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,120,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,132,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,144,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,156,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,168,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,180,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,192,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,204,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,216,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,228,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,240,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,252,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,264,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,276,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,288,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,300,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,312,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,324,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,336,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,348,CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoButterfly4",32,0,360,CMF_AIMDIRECTION)
	RANY AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("RanPrincessTenkoSmallBullet",32,0,random(-10,10),CMF_AIMDIRECTION)
	RANY AAAAAA 0 A_CustomMissile("RanPrincessTenkoMediumBullet",32,0,random(-5,5),CMF_AIMDIRECTION)
	RANY A 0 A_CustomMissile("RanPrincessTenkoBigBullet",32,0,0,CMF_AIMDIRECTION)
	RANY A 0 A_PlaySound("touhou/fire",0,1.0,0,ATTN_NONE)
	RANY A 28 Fast A_FaceTarget
	RANY A 0 A_SpidRefire
	Loop
  Death:
	TNT1 A 0 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStopAttack",0)
	RANY C 0 ACS_Execute(603,0)
	RANY C 0 A_GiveInventory("BulletDeathTrigger",1)
	RANY DEFGDEFGDEFGDEFGDEFG 2
	RANY G 0 A_ScreamAndUnblock
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 105
	TNT1 A 0 ACS_Execute(63,0)
	Stop
  }
}
ACTOR RanPrincessTenkoButterfly
{
  Radius 2
  Height 4
  Speed 10
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	VBFL A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    VBFL AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanPrincessTenkoButterfly2 : RanPrincessTenkoButterfly { Speed 15 }
ACTOR RanPrincessTenkoButterfly3 : RanPrincessTenkoButterfly { Speed 20 }
ACTOR RanPrincessTenkoButterfly4 : RanPrincessTenkoButterfly { Speed 25 }
ACTOR RanPrincessTenkoSmallBullet
{
  Radius 2
  Height 4
  Speed 25
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	BBL1 A 0
	BBL1 A 0 A_ScaleVelocity(frandom(0.2,0.8))
  LoopState:
	BBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR RanPrincessTenkoMediumBullet
{
  Radius 4
  Height 8
  Speed 25
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	BBL3 A 0
	BBL3 A 0 A_ScaleVelocity(frandom(0.4,0.9))
  LoopState:
	BBL3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBL3 AAAAAAAAAA 2 Bright A_FadeOut
    Stop
  }
}
ACTOR RanPrincessTenkoBigBullet
{
  Radius 8
  Height 16
  Speed 25
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 1.5
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	BBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    BBUB AAAAAAAAAA 3 Bright A_FadeOut
    Stop
  }
}

ACTOR PhantasmFairy6A 31332
{
//$Category "Touhou Characters"
  floatspeed 8
  Speed 8
  fastspeed 10
  MONSTER
  Health 60
  Radius 64
  Height 64
  MinMissileChance 32
  Scale 1.25
  Mass 200
  MeleeRange 64
  Species Fairy
  +DONTHURTSPECIES
  +FLOORCLIP
  +DONTFALL
  +NOGRAVITY
  +FLOAT
  +NOICEDEATH
  +FORCEXYBILLBOARD
  Painchance 128
  Painsound "touhou/pain"
  Deathsound "touhou/fairy/death"
  Obituary "%o got wrecked by a fairy."
  HitObituary "%o got wrecked by a fairy."
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  DamageFactor "TouhouHakkeroLaser", 0.75
  States
  {
  Spawn:
    FAR6 ABCD 3 A_Look
    Loop
  See:
    FAR6 ABCD 3 A_Chase
    Loop
  Pain:
    FAR6 E 3 A_Pain
    Goto See
  Melee:
  Missile:
	FAR6 AAAABBBBCCCCDDDD 1 A_CustomMissile("PhantasmFairy6AShot",30,0,random(0,360))
	Loop
  Death:
    FAR6 E 3
	FAR6 E 1 A_ScreamAndUnblock
    FAR6 E 1 A_SetTranslucent(0.90)
    FAR6 E 1 A_SetTranslucent(0.80)
    FAR6 E 1 A_SetTranslucent(0.70)
    FAR6 E 1 A_SetTranslucent(0.60)
    FAR6 E 1 A_SetTranslucent(0.50)
    FAR6 E 1 A_SetTranslucent(0.40)
    FAR6 E 1 A_SetTranslucent(0.30)
    FAR6 E 1 A_SetTranslucent(0.20)
    FAR6 E 1 A_SetTranslucent(0.10)
	FAR6 E 1 A_SetTranslucent(0)
    Stop
  }
}
ACTOR PhantasmFairy6AShot
{
  Speed 20
  fastspeed 30
  Height 4
  Radius 2
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    GBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    GBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR PhantasmFairy6B : PhantasmFairy6A 31333
{
  States
  {
  Melee:
  Missile:
	FAR6 AAAABBBBCCCCDDDD 1 A_CustomMissile("PhantasmFairy6BShot",30,0,random(0,360))
	Loop
  }
}
ACTOR PhantasmFairy6BShot
{
  Speed 20
  fastspeed 30
  Height 4
  Radius 2
  damage (20)
  Projectile
  +FORCEXYBILLBOARD
  Scale 2.0
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    OBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    OBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}