//Done this way so it still works if you're playing a class from a mod
ACTOR TouhouAllyDamageProtection : PowerProtection
{
	Powerup.Duration 0x7FFFFFFF
	DamageFactor "TouhouAllyDamage", 0
}

ACTOR ReimuAlly 31451
{
//$Category "Touhou Allied Characters"
  Tag "Reimu Hakurei"
  Speed 24
  MONSTER
  Health 10000
  Radius 20
  Height 62
  Scale 0.7
  Mass 1000000
  MeleeThreshold 64
  MeleeRange 64
  Damage 0
  DamageFactor "TouhouAllyDamage", 0
  +DONTHURTSPECIES
  +LOOKALLAROUND
  +FLOORCLIP
  +BOSS
  +NEVERRESPAWN
  +FRIENDLY
  +DONTMORPH
  +DONTRIP
  +NORADIUSDMG
  +AMBUSH
  +QUICKTORETALIATE
  +MISSILEMORE
  +MISSILEEVENMORE
  +NOICEDEATH
  MinMissileChance 128
  Painchance 1
  Seesound ""
  Painsound "touhou/pain"
  Deathsound "touhou/defeat" //never used
  Obituary "%o got in Reimu's way."
  DropItem "" //Not needed this time.
  States
  {
  ScriptedCutscene:
	REI2 QR 2
	Loop
  Spawn:
	REIM BCDEFGHIJA 2 A_Look
	Loop
  See:
	TNT1 A 0 NoiseAlert(0,0)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+3
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  Pain:
	REIM K 0 A_SetTranslucent(1.0)
    REIM K 8 A_Pain //That's it.
    Goto See
  Melee:
	REI1 A 0 A_Jump(170,"Missile")
	REI1 ABCD 3 A_FaceTarget
	REI1 EEE 1 A_CustomMeleeAttack(400,"touhou/remi/hit","none","TouhouAllyDamage")
	REI1 FGHI 3 A_FaceTarget
	Goto See
  Melee2:
	REI1 A 0 A_Jump(128,"AirMissile")
    REI1 J 3 A_FaceTarget
	REI1 KKK 1 A_CustomMeleeAttack(100,"touhou/remi/hit","none","TouhouAllyDamage")
	REI1 L 3 A_FaceTarget
	Goto See
  Missile:
	REIM A 0 A_JumpIf(z-floorz > 64, "AirMissile")
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(224,"SpreadAmulets1","SpreadAmulets2","HomingAmulet","YinYangOrb","Needles","YoukaiBuster")
	Goto Spellcard
  SpreadAmulets1:
	REI2 ABCD 3 A_FaceTarget
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-130)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-140)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,-150)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,-60)
	REI2 EFGHI 3 A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  SpreadAmulets2:
	REI2 ABCD 3 A_FaceTarget
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuAllySpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuAllySpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 I 3 A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  HomingAmulet:
	REI4 ABCDEF 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-75)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,75)
	REI4 GH 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 IJ 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 AB 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 CD 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 EF 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-75)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,75)
	REI4 GH 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 IJ 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 AB 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 CD 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 EF 2 A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-75)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,15)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,45)
	REI4 G 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,75)
	REI4 GHIJ 2 A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  YinYangOrb:
	REI4 ABCDEF 3 A_FaceTarget
	REI4 GGGGGGGGGG 0 A_CustomMissile("ReimuAllyYinYangOrb",32,0,random(-20,20),CMF_OFFSETPITCH,random(-45,45))
	REI4 GHIJ 3 A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  Needles:
	REI5 FF 3 A_FaceTarget
	REI5 G 0 A_FaceTarget
	REI5 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-28,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-36,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,28,0,CMF_AIMOFFSET)
	REI5 G 3 A_CustomMissile("ReimuAllyPersuasionNeedle",32,36,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 H 3 A_CustomMissile("ReimuAllyPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_Jump(8,"See")
	REI5 H 0 A_Jump(15,"Missile")
	Goto Needles+2
  YoukaiBuster:
	REI5 FF 3 A_FaceTarget
	REI5 G 0 A_FaceTarget
	REI5 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,-8,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,8,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,-4,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,4,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,-4,0,CMF_AIMOFFSET)
	REI5 G 3 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,-8,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllySpreadAmulet1",32,8,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,-8,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,8,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,-4,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,0,4,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,-4,0,CMF_AIMOFFSET)
	REI5 H 3 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_Jump(8,"See")
	REI5 H 0 A_Jump(15,"Missile")
	Goto YoukaiBuster+2
  AirMissile:
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM A 0 A_Jump(255,"AirHomingAmulet","AirSpreadAmulet","AirNeedles")
	Goto AirHomingAmulet
  AirHomingAmulet:
	REI4 KLM 2 A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,100)
	REI4 NOPQ 2 A_FaceTarget
	REI4 KLM 2 A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,100)
	REI4 NOPQ 2 A_FaceTarget
	REI4 KLM 2 A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,100)
	REI4 NOPQ 2 A_FaceTarget
	REI4 KLM 2 A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuAllyHomingAmulet",32,0,100)
	REI4 NOPQ 2 A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastSee")
	Goto See
  AirSpreadAmulet:
	REI5 AB 4 A_FaceTarget
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*128+32,cos(378)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0)
	REI5 CD 4 A_FaceTarget
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyYoukaiBusterAmulet",sin(378)*128+32,cos(378)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAllyAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0)
	REI5 E 4 A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastSee")
	Goto See
  AirNeedles:
	REI5 IJK 2 A_FaceTarget
	REI5 L 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-20,0,CMF_AIMOFFSET)
	REI5 L 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-28,0,CMF_AIMOFFSET)
	REI5 L 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,20,0,CMF_AIMOFFSET)
	REI5 L 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,28,0,CMF_AIMOFFSET)
	REI5 M 0 A_FaceTarget
	REI5 M 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 M 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REI5 N 0 A_FaceTarget
	REI5 N 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-20,0,CMF_AIMOFFSET)
	REI5 N 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-28,0,CMF_AIMOFFSET)
	REI5 N 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,20,0,CMF_AIMOFFSET)
	REI5 N 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,28,0,CMF_AIMOFFSET)
	REI5 L 0 A_FaceTarget
	REI5 L 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 L 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REI5 M 0 A_FaceTarget
	REI5 M 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-20,0,CMF_AIMOFFSET)
	REI5 M 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-28,0,CMF_AIMOFFSET)
	REI5 M 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,20,0,CMF_AIMOFFSET)
	REI5 M 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,28,0,CMF_AIMOFFSET)
	REI5 N 0 A_FaceTarget
	REI5 N 0 A_CustomMissile("ReimuAllyPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 N 2 A_CustomMissile("ReimuAllyPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REIM A 0 A_Jump(3,"AirMissile")
	REIM A 0 A_Jump(6,"See")
	REIM A 0 A_Jump(12,"Missile")
	REIM A 0 A_Jump(24,"FastSee")
	Goto AirNeedles+3
  Spellcard:
	TNT1 A 0 A_ChangeFlag("NOPAIN", TRUE)
    REI1 MNO 4 A_FaceTarget
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 PQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	TNT1 A 0 A_ChangeFlag("NOPAIN", FALSE)
	Goto SpellcardAttack
  SpellcardAttack:
	REI1 A 0 A_Jump(255,"FantasySealSpread","EvilSealingCircle","FantasySealConcentrate")
  FantasySealSpread:
	REI2 JKLMNO 2 A_FaceTarget
	REI2 PPQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRR 1 A_CustomMissile("ReimuAllyFantasySealSpreadOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI2 ST 2 A_FaceTarget
	Goto See
  EvilSealingCircle:
	REIM L 4 A_FaceTarget
	REIM L 0 A_FaceTarget
	REIM L 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"EvilSealingCircleAttack")
  EvilSealingCircleAttack:
	REIM A 0 A_Stop
	REI3 A 0 A_SpawnItemEx("ReimuEvilSealingCircleAttackAlly",0,0,0,0,0,0,0,0,0)
	REI3 ABCD 3 A_FaceTarget
	REI3 EFEFEFEFGHIJ 3 A_FaceTarget
	REI3 KLKLKLKLKLMNO 3 A_FaceTarget
	Goto See
  FantasySealConcentrate:
	REI3 PQRSTU 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-10,10),CMF_OFFSETPITCH,random(-5,5))
	REI3 VW 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-20,20),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-30,30),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-40,40),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-50,50),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-60,60),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-70,70),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-80,80),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-90,90),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-100,100),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-110,110),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuAllyFantasySealConcentrateOrb",32,0,random(-120,120),CMF_OFFSETPITCH,random(-5,5))
	REI3 ZZ 3 A_FaceTarget
	Goto See
  Death:
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("TouhouFireWhite",0,0,0,Random(8,-8),Random(8,-8),Random(8,-8),Random(0,360),0,0)
	TNT1 A 0 A_SpawnItemEx("TeleportFog",0,0,0,0,0,0,0,0,0)
	TNT1 A 0 A_GiveInventory("BulletDeathTrigger",1)
    TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_PlaySound("touhou/nuefire",0,1.0,0,ATTN_NONE)
	TNT1 A 2000
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 4 A_SpawnItemEx("TeleportFog",0,0,0,Random(8,-8),Random(8,-8),Random(8,-8),Random(0,360),0,0)
	TNT1 A 0 A_SpawnItemEx("TeleportFog",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_SpawnItemEx("ReimuAlly",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TELEFRAG,0,312)
	Stop
  }
}
ACTOR ReimuAllySpreadAmulet1
{
  Radius 2
  Height 4
  Speed 30
  FastSpeed 45
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  Renderstyle Translucent
  Alpha 0.6
  DamageType "TouhouAllyDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllySpreadAmulet2 : ReimuAllySpreadAmulet1
{
  Speed 24
  States
  {
  Spawn:
    OAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    OAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllySpreadAmulet3 : ReimuAllySpreadAmulet1
{
  Speed 18
  States
  {
  Spawn:
    RAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllySpreadAmulet4 : ReimuAllySpreadAmulet1
{
  Speed 12
  States
  {
  Spawn:
    WAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllyHomingAmulet
{
  Projectile
  Radius 5
  Height 10
  Speed 45
  Damage (120)
  +BRIGHT
  +SEEKERMISSILE
  Renderstyle Add
  Alpha 0.6
  Scale 0.4
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  Decal BulletChip
  DamageType "TouhouAllyDamage"
  States
  {
  Spawn:
	HAMU A 0
    HAMU A 1 A_SeekerMissile(5,15)
	HAMU B 0 A_SpawnItemEx("ReimuHakureiAmuletTrailA",0,0,0,0,0,0,0,0,0)
    HAMU C 1 A_SeekerMissile(5,15)
	HAMU D 0 A_SpawnItemEx("ReimuHakureiAmuletTrailC",0,0,0,0,0,0,0,0,0)
	HAMU E 1 A_SeekerMissile(5,15)
	HAMU F 0 A_SpawnItemEx("ReimuHakureiAmuletTrailE",0,0,0,0,0,0,0,0,0)
    HAMU G 1 A_SeekerMissile(5,15)
	HAMU H 0 A_SpawnItemEx("ReimuHakureiAmuletTrailG",0,0,0,0,0,0,0,0,0)
    HAMU I 1 A_SeekerMissile(15,45)
	HAMU J 0 A_SpawnItemEx("ReimuHakureiAmuletTrailI",0,0,0,0,0,0,0,0,0)
    HAMU K 1 A_SeekerMissile(15,45)
	HAMU L 0 A_SpawnItemEx("ReimuHakureiAmuletTrailJ",0,0,0,0,0,0,0,0,0)
    HAMU M 1 A_SeekerMissile(15,45)
	HAMU N 0 A_SpawnItemEx("ReimuHakureiAmuletTrailM",0,0,0,0,0,0,0,0,0)
    HAMU O 1 A_SeekerMissile(15,45)
	HAMU P 0 A_SpawnItemEx("ReimuHakureiAmuletTrailO",0,0,0,0,0,0,0,0,0)
  LoopState:
    HAMU A 0 A_SeekerMissile(15,30)
    HAMU B 1 A_SpawnItemEx("ReimuHakureiAmuletTrailA",0,0,0,0,0,0,0,0,0)
    HAMU C 0 A_SeekerMissile(15,30)
    HAMU D 1 A_SpawnItemEx("ReimuHakureiAmuletTrailC",0,0,0,0,0,0,0,0,0)
    HAMU E 0 A_SeekerMissile(15,30)
	HAMU F 1 A_SpawnItemEx("ReimuHakureiAmuletTrailE",0,0,0,0,0,0,0,0,0)
    HAMU G 0 A_SeekerMissile(15,30)
    HAMU H 1 A_SpawnItemEx("ReimuHakureiAmuletTrailG",0,0,0,0,0,0,0,0,0)
    HAMU I 0 A_SeekerMissile(15,30)
    HAMU J 1 A_SpawnItemEx("ReimuHakureiAmuletTrailI",0,0,0,0,0,0,0,0,0)
    HAMU K 0 A_SeekerMissile(15,30)
    HAMU L 1 A_SpawnItemEx("ReimuHakureiAmuletTrailJ",0,0,0,0,0,0,0,0,0)
    HAMU M 0 A_SeekerMissile(15,30)
    HAMU N 1 A_SpawnItemEx("ReimuHakureiAmuletTrailM",0,0,0,0,0,0,0,0,0)
    HAMU O 0 A_SeekerMissile(15,30)
    HAMU P 1 A_SpawnItemEx("ReimuHakureiAmuletTrailO",0,0,0,0,0,0,0,0,0)
    Loop
  Crash:
  Death:
  XDeath:
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailA",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailB",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailC",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailD",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailE",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailF",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailG",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailH",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailI",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailJ",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailK",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailL",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailM",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailN",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailO",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU A 0 A_SpawnItemEx("ReimuHakureiAmuletTrailP",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	HAMU AAAAAAAAAA 2 A_FadeOut(0.06)
    Stop
  }
}
ACTOR ReimuAllyYinYangOrb
{
  Projectile
  Radius 5
  Height 10
  Speed 60
  Damage (24)
  +BRIGHT
  +RIPPER
  -NOGRAVITY
  BounceType "Doom"
  Renderstyle Add
  Alpha 0.8
  Scale 0.8
  SeeSound "touhou/fire"
  BounceSound "touhou/hit2"
  DeathSound "touhou/hit"
  Decal BulletChip
  DamageType "TouhouAllyDamage"
  States
  {
  Spawn:
	RMYN AAABBBCCCDDD 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
	RMYN ABCDABCDABCD 3 Bright A_FadeOut
    Loop
  }
}
ACTOR ReimuAllyPersuasionNeedle
{
  Speed 48
  Radius 3
  Height 6
  damage (24)
  Scale 1.8
  Alpha 0.8
  Projectile
  +BRIGHT
  +PAINLESS
  DamageType "TouhouAllyDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    JNDL A 1 Bright
    Loop
  Death:
    JNDL AAAAAAAAAA 1 Bright A_FadeOut(0.1)
    Stop
  }
}
ACTOR ReimuAllyYoukaiBusterAmulet
{
  Radius 2
  Height 4
  Speed 36
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "TouhouAllyDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    VAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    VAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllyAirSpreadAmulet
{
  Radius 2
  Height 4
  Speed 24
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "TouhouAllyDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    CAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    CAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllyAirSpreadAmulet2
{
  Radius 2
  Height 4
  Speed 12
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "TouhouAllyDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    BAMU A 1 Bright //A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    BAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ReimuAllyFantasySealSpreadOrb
{
  Radius 4
  Height 8
  Speed 30
  damage (45)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  +FORCERADIUSDMG
  DamageType "TouhouAllyDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	FTS1 A 0
	FTS1 A 0 A_Jump(255,"Red","Green","Blue")
  Red:
	FTS1 A 0 Bright A_GiveInventory("EnemyCounter1",200)
  RedLoop:
	FTS1 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",0,0,0,0,0,0,0,0,0)
	FTS1 A 1 Bright A_SeekerMissile(0,2,SMF_PRECISE)
	Loop
  Green:
	FTS2 A 0 Bright A_GiveInventory("EnemyCounter2",50)
  GreenLoop:
	FTS2 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",0,0,0,0,0,0,0,0,0)
	FTS2 A 1 Bright A_SeekerMissile(0,2,SMF_PRECISE)
	Loop
  Blue:
    FTS3 A 0 Bright A_GiveInventory("EnemyCounter3",50)
  BlueLoop:
	FTS3 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",0,0,0,0,0,0,0,0,0)
	FTS3 A 1 Bright A_SeekerMissile(0,2,SMF_PRECISE)
	Loop
  Death:
	FTS1 A 0 Bright A_Explode(96,128)
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter1",1,"RedDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter2",1,"GreenDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter3",1,"BlueDeath")
    Stop
  RedDeath:
	FTS1 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  GreenDeath:
	FTS2 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  BlueDeath:
	FTS3 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}	
ACTOR ReimuEvilSealingCircleAttackAlly
{
  +NOINTERACTION
  +NOGRAVITY
  +OLDRADIUSDMG
  +FORCERADIUSDMG
  RenderStyle Add
  DamageType "TouhouAllyDamage"
  var int user_count;
  var int user_dist;
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_SetAngle(0)
	TNT1 A 0 A_SetUserVar("user_dist",384)
	Goto SpawnCircle
  SpawnCircle:
	TNT1 A 1 A_JumpIf(user_count > 48, "PrepareToDie")
	TNT1 A 0 A_SetUserVar("user_count",user_count+1)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",-user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),-user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",-user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",random(-user_dist,user_dist),user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",random(-user_dist,user_dist),-user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",-user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),-user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",-user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",random(-user_dist,user_dist),user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",random(-user_dist,user_dist),-user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",-user_dist,random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),-user_dist,random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	Loop
  PrepareToDie:
	TNT1 A 0 A_PlaySound("touhou/reimu/seal",0,1.0,0,ATTN_NONE)
	TNT1 A 0 A_Explode(2000,user_dist,0,0,user_dist)
  DeathLoop:
	TNT1 A 0 A_JumpIf(user_count > 1048, "Death")
	TNT1 A 0 A_SetUserVar("user_count", user_count+1)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailRed",random(-user_dist,user_dist),random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	TNT1 A 0 A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",random(-user_dist,user_dist),random(-user_dist,user_dist),random(-z-floorz,ceilingz-z),0,0,4,0,0,0)
	Loop
  Death:
	TNT1 A 0
	Stop
  }
}
ACTOR ReimuAllyFantasySealConcentrateOrb
{
  Radius 4
  Height 8
  Speed 30
  damage (70)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  +FORCERADIUSDMG
  DamageType "TouhouAllyDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	FTS1 A 0
	FTS1 A 0 A_Jump(255,"Red","Green","Blue")
  Red:
	FTS1 A 0 Bright A_GiveInventory("EnemyCounter1",200)
  RedLoop:
	FTS1 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",0,0,0,0,0,0,0,0,0)
	FTS1 A 1 Bright A_SeekerMissile(15,45,SMF_PRECISE)
	Loop
  Green:
	FTS2 A 0 Bright A_GiveInventory("EnemyCounter2",50)
  GreenLoop:
	FTS2 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",0,0,0,0,0,0,0,0,0)
	FTS2 A 1 Bright A_SeekerMissile(15,45,SMF_PRECISE)
	Loop
  Blue:
    FTS3 A 0 Bright A_GiveInventory("EnemyCounter3",50)
  BlueLoop:
	FTS3 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",0,0,0,0,0,0,0,0,0)
	FTS3 A 1 Bright A_SeekerMissile(15,45,SMF_PRECISE)
	Loop
  Death:
	FTS1 A 0 Bright A_Explode(64,128)
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter1",1,"RedDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter2",1,"GreenDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter3",1,"BlueDeath")
    Stop
  RedDeath:
	FTS1 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  GreenDeath:
	FTS2 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  BlueDeath:
	FTS3 BBBBBBBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}