ACTOR ExReimu 31508
{
//$Category "Touhou Characters"
  Tag "Reimu Hakurei"
  Speed 12
  MONSTER
  Health 2500
  Radius 20
  Height 62
  Scale 0.7
  Mass 1000000
  MeleeThreshold 64
  MeleeRange 64
  Damage 0
  DamageFactor "ReimuDamage", 0
  DamageFactor "PlayerSpellcard", 0.25
  +DONTHURTSPECIES
  +LOOKALLAROUND
  +FLOORCLIP
  +BOSS
  +NEVERRESPAWN
  +DONTMORPH
  +DONTRIP
  +NORADIUSDMG
  +AMBUSH
  +QUICKTORETALIATE
  +MISSILEMORE
  +MISSILEEVENMORE
  +NOICEDEATH
  MinMissileChance 160
  Painchance 1
  Seesound ""
  Painsound "touhou/pain"
  Deathsound "touhou/defeat" //never used
  Obituary "%o got in Reimu's way."
  DropItem "ExReimuFantasySeal"
  States
  {
  Spawn:
    REIM A 0
	REIM A 1 Thing_ChangeTID(0,6650)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6650,10,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6650,60)
  Idle:
	REIM BCDEFGHIJA 2 A_Look
	Loop
  See:
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+3
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  Pain:
	REIM K 0 A_SetTranslucent(1.0)
    REIM K 8 A_Pain //That's it.
    Goto See
  Melee:
	REI1 ABCD 3 Fast A_FaceTarget
	REI1 E 3 Fast A_CustomMeleeAttack(100,"touhou/remi/hit","none")
	REI1 FGHI 3 Fast A_FaceTarget
	Goto See
  Melee2:
    REI1 J 3 Fast A_FaceTarget
	REI1 K 3 Fast A_CustomMeleeAttack(50,"touhou/remi/hit","none")
	REI1 L 3 Fast A_FaceTarget
	Goto See
  Missile:
	REIM A 0 A_JumpIf(z-floorz > 64, "AirMissile")
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(255,"SpreadAmulets1","SpreadAmulets1","SpreadAmulets2","SpreadAmulets2","HomingAmulet","YinYangOrb","Needles","YoukaiBuster")
	Goto SpreadAmulets1
  SpreadAmulets1:
	REI2 ABCD 3 Fast A_FaceTarget
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-130)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-140)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,-150)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-100)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-110)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,-120)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-70)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-80)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,-90)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-10)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-20)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-30)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-40)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-50)
	REI2 E 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,-60)
	REI2 EFGHI 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  SpreadAmulets2:
	REI2 ABCD 3 Fast A_FaceTarget
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 EEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-60,60),CMF_OFFSETPITCH,random(-20,20))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-12,12),CMF_OFFSETPITCH,random(-4,4))
	REI2 I 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  HomingAmulet:
	REI4 ABCDEF 3 Fast A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-125)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-75)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-25)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,25)
	REI4 G 3 Fast A_CustomMissile("ReimuHomingAmulet",32,0,75)
	REI4 G 3 Fast A_CustomMissile("ReimuHomingAmulet",32,0,125)
	REI4 HIJ 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  YinYangOrb:
	REI4 ABCDEF 3 Fast A_FaceTarget
	REI4 GGGGGGGGGGGGGG 0 A_CustomMissile("ReimuYinYangOrb",32,0,random(-25,25),CMF_OFFSETPITCH,random(-45,45))
	REI4 GHIJ 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  Needles:
	REI5 FF 4 Fast A_FaceTarget
	REI5 G 0 A_FaceTarget
	REI5 G 0 A_CustomMissile("ReimuPersuasionNeedle",32,-68,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuPersuasionNeedle",32,-60,0,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuPersuasionNeedle",32,68,0,CMF_AIMOFFSET)
	REI5 G 4 Fast A_CustomMissile("ReimuPersuasionNeedle",32,60,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 H 4 Fast A_CustomMissile("ReimuPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_Jump(12,"See")
	REI5 H 0 A_Jump(25,"Missile")
	Goto Needles+2
  YoukaiBuster:
	REI5 FF 4 Fast A_FaceTarget
	REI5 G 0 A_FaceTarget
	REI5 G 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,-8,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,8,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,-4,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,4,CMF_AIMOFFSET)
	REI5 G 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,-4,0,CMF_AIMOFFSET)
	REI5 G 4 Fast A_CustomMissile("ReimuYoukaiBusterAmulet",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,-8,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,8,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,-4,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,0,4,CMF_AIMOFFSET)
	REI5 H 0 A_CustomMissile("ReimuYoukaiBusterAmulet",32,-4,0,CMF_AIMOFFSET)
	REI5 H 4 Fast A_CustomMissile("ReimuYoukaiBusterAmulet",32,4,0,CMF_AIMOFFSET)
	REI5 H 0 A_Jump(13,"See")
	REI5 H 0 A_Jump(25,"Missile")
	Goto YoukaiBuster+2
  AirMissile:
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM A 0 A_Jump(255,"AirHomingAmulet","AirSpreadAmulet","AirNeedles")
	Goto AirHomingAmulet
  AirHomingAmulet:
	REI4 KLM 2 Fast A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,100)
	REI4 NOPQ 2 Fast A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastSee")
	Goto See
  AirSpreadAmulet:
	REI5 AB 3 Fast A_FaceTarget
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*128+32,cos(378)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0)
	REI5 CDE 3 Fast A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastSee")
	Goto See
  AirNeedles:
	REI5 IJK 2 Fast A_FaceTarget
	REI5 L 0 A_CustomMissile("ReimuPersuasionNeedle",32,-68,0,CMF_AIMOFFSET)
	REI5 L 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,68,0,CMF_AIMOFFSET)
	REI5 M 0 A_FaceTarget
	REI5 M 0 A_CustomMissile("ReimuPersuasionNeedle",32,-36,0,CMF_AIMOFFSET)
	REI5 M 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,36,0,CMF_AIMOFFSET)
	REI5 N 0 A_FaceTarget
	REI5 N 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 N 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REIM A 0 A_Jump(3,"AirMissile")
	REIM A 0 A_Jump(6,"See")
	REIM A 0 A_Jump(12,"Missile")
	REIM A 0 A_Jump(24,"FastSee")
	Goto AirNeedles+3
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ExReimuNS2 : ExReimu
{
  DropItem "ExReimuPrayer"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6652)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6652,9,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6652,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6652)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6652,9,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6652,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS3 : ExReimu
{
  DropItem "ExReimuOrbsOfLight"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6654)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6654,8,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6654,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6654)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6654,8,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6654,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS4 : ExReimu
{
  DropItem "ExReimuDivineSpiritOrbs"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6656)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6656,7,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6656,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6656)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6656,7,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6656,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS5 : ExReimu
{
  DropItem "ExReimuDemonBindingCircle"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6658)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6658,6,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6658,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6658)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6658,6,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6658,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS6 : ExReimu
{
  DropItem "ExReimuFantasySealCircle"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6660)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6660,5,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6660,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6660)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6660,5,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6660,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS7 : ExReimu
{
  DropItem "ExReimuFantasySealBlink"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6662)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6662,4,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6662,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6662)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6662,4,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6662,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}
ACTOR ExReimuNS8 : ExReimu
{
  DropItem "ExReimuHakureiGravityReleaseBarrier"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM A 1 Thing_ChangeTID(0,6664)
	REIM A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6664,3,false)
	REIM A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6664,60)
	REIM BCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	TNT1 A 0 Thing_ChangeTID(0,6664)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6664,3,false)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6664,60)
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+4
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  }
}

ACTOR ExReimuFantasySeal : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS2"
  Health 2500
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6651)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6651,10,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6651,65)
	REI1 A 0 ACS_Execute(607,0,161)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REIM A 0 A_Jump(255, "FantasySealSpread", "FantasySealConcentrate")
	Goto FantasySealSpread
  FantasySealSpread:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,340)
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRR 1 A_CustomMissile("ReimuFantasySealSpreadOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI2 ST 3 Fast A_FaceTarget
	Goto See
  FantasySealConcentrate:
	REI3 PQRSTU 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 VW 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 ZZ 3 Fast A_FaceTarget
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	//REIM K 0 A_SpawnItemEx("ReimuDuplexBarrier",0,0,0,0,0,0,0,SXF_TELEFRAG|SXF_NOCHECKPOSITION,0)
	Stop
  }
}

ACTOR ExReimuPrayer : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS3"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6653)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6653,9,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6653,70)
	REI1 A 0 ACS_Execute(607,0,162)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,0)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,45)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,90)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,135)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,180)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,225)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,270)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,315)
	REI2 PQRQRQRQRQRQRQR 3 Fast A_FaceTarget
	REI2 ST 3 Fast A_FaceTarget
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ExReimuPrayerAmuletSpawner
{
  Radius 2
  Height 4
  Speed 16
  FastSpeed 16
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  +RIPPER
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RAMU AAAAAAAAAAAAAAAA 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmuletSpawner2",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmuletSpawner3",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuPrayerAmuletSpawner2
{
  Radius 2
  Height 4
  Speed 32
  FastSpeed 32
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  +RIPPER
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuPrayerAmuletSpawner3
{
  Radius 2
  Height 4
  Speed 32
  FastSpeed 32
  damage (16)
  Projectile
  +FORCEXYBILLBOARD
  +RIPPER
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    RAMU A 0 Bright A_CustomMissile("ExReimuPrayerAmulet",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
    RAMU A 4 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuPrayerAmulet
{
  Radius 2
  Height 4
  Speed 24
  FastSpeed 24
  damage (8)
  Projectile
  +RIPPER
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    OAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    OAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuOrbsOfLight : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS4"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6655)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6655,8,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6655,75)
	REI1 A 0 ACS_Execute(607,0,163)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 MNO 2 Fast
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}

ACTOR ExReimuDivineSpiritOrbTrigger : Boolean {}
ACTOR ExReimuDivineSpiritOrbs : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS5"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6657)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6657,7,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6657,80)
	REI1 A 0 ACS_Execute(607,0,164)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 A 0 A_GiveInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 KLKLKLKLMNO 2 Fast
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ExReimuDivineSpiritOrbsOrb
{
  Radius 4
  Height 8
  Speed 80
  FastSpeed 120
  damage (32)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "ReimuDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	FTS1 A 0
	FTS1 A 0 Bright A_ScaleVelocity(frandom(0.2,1.0))
	FTS1 A 0 A_Jump(255,"Red","Green","Blue")
  Red:
	FTS1 A 0 Bright A_GiveInventory("EnemyCounter1",200)
  RedLoop:
	FTS1 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",0,0,0,0,0,0,0,0,0)
	FTS1 A 1 Bright A_ScaleVelocity(0.9)
	FTS1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	FTS1 A 1 Bright A_JumpIfInTargetInventory("ExReimuDivineSpiritOrbTrigger",1,"SplitUp")
	Loop
  Green:
	FTS2 A 0 Bright A_GiveInventory("EnemyCounter2",50)
  GreenLoop:
	FTS2 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",0,0,0,0,0,0,0,0,0)
	FTS2 A 1 Bright A_ScaleVelocity(0.9)
	FTS2 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	FTS2 A 1 Bright A_JumpIfInTargetInventory("ExReimuDivineSpiritOrbTrigger",1,"SplitUp")
	Loop
  Blue:
    FTS3 A 0 Bright A_GiveInventory("EnemyCounter3",50)
  BlueLoop:
	FTS3 A 1 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",0,0,0,0,0,0,0,0,0)
	FTS3 A 1 Bright A_ScaleVelocity(0.9)
	FTS3 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	FTS3 A 1 Bright A_JumpIfInTargetInventory("ExReimuDivineSpiritOrbTrigger",1,"SplitUp")
	Loop
  SplitUp:
	FTS1 A 0 Bright A_SetAngle(0)
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter1",1,"RedSplit")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter2",1,"GreenSplit")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter3",1,"BlueSplit")
    Stop
  RedSplit:
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,90)
	FTS1 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbRed",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,-90)
	Goto Death
  GreenSplit:
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,90)
	FTS2 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbGreen",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,-90)
	Goto Death
  BlueSplit:
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER,0)
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,90)
	FTS3 A 0 Bright A_CustomMissile("ExReimuDivineSpiritOrbsOrbBlue",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER,-90)
	Goto Death
  Death:
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter1",1,"RedDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter2",1,"GreenDeath")
    FTS1 A 0 Bright A_JumpIfInventory("EnemyCounter3",1,"BlueDeath")
    Stop
  RedDeath:
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  GreenDeath:
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  BlueDeath:
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}
ACTOR ExReimuDivineSpiritOrbsOrbRed
{
  Radius 8
  Height 16
  Speed 16
  FastSpeed 24
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "ReimuDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	//FTS1 A 3 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",0,0,0,0,0,0,0,0,0)
	FTS1 A 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	FTS1 BBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailRed",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS1 B 1 Bright A_FadeOut(0.05)
	FTS1 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}
ACTOR ExReimuDivineSpiritOrbsOrbGreen
{
  Radius 8
  Height 16
  Speed 16
  FastSpeed 24
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "ReimuDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	//FTS2 A 3 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",0,0,0,0,0,0,0,0,0)
	FTS2 A 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	FTS2 BBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailGreen",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS2 B 1 Bright A_FadeOut(0.05)
	FTS2 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}
ACTOR ExReimuDivineSpiritOrbsOrbBlue
{
  Radius 8
  Height 16
  Speed 16
  FastSpeed 24
  damage (24)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "ReimuDamage"
  RenderStyle Add
  SeeSound "touhou/reimu/seal"
  DeathSound "touhou/reimu/seal"
  States
  {
  Spawn:
	//FTS3 A 3 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",0,0,0,0,0,0,0,0,0)
	FTS3 A 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	FTS3 BBBBB 0 Bright A_SpawnItemEx("ReimuFantasySealOrbTrailBlue",frandom(-1,1),frandom(-1,1),frandom(-1,1),frandom(-4,8),frandom(-4,8),frandom(-4,8),0,0,0)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	FTS3 B 1 Bright A_FadeOut(0.05)
	FTS3 B 1 Bright A_SetScale(ScaleX+0.05)
	Stop
  }
}

ACTOR ExReimuDemonBindingCircle : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS6"
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6659)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6659,6,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6659,85)
	REI1 A 0 ACS_Execute(607,0,165)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REIM L 4 A_FaceTarget
	REIM L 0 A_FaceTarget
	REIM L 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_Stop
	Goto See
  AttackState:
	REIM A 0 A_Stop
	REIM A 0 A_PlaySound("touhou/charge3",0,1.0,0,ATTN_NONE)
	REI3 A 0 A_SpawnItemEx("ReimuEvilSealingCircleAttackUltra",0,0,0,0,0,0,0,0,0)
	REI3 ABCD 3 Fast A_FaceTarget
	REI3 EFEFEFEFGHIJ 3 Fast A_FaceTarget
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,350)
	REI3 KLKLKLKLKLMNO 2 Fast A_FaceTarget
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}

ACTOR ExReimuFantasySealCircle : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuNS7"
  Health 2000
  DamageFactor "TouhouHakureiHomingAmulet", 0.75
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6661)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6661,5,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6661,90)
	REI1 A 0 ACS_Execute(607,0,166)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,340)
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,340)
	REI2 PQRQRQRQRQRQRQRQRST 3 Fast A_FaceTarget
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	//REIM K 0 A_SpawnItemEx("ReimuDuplexBarrier",0,0,0,0,0,0,0,SXF_TELEFRAG|SXF_NOCHECKPOSITION,0)
	Stop
  }
}

ACTOR ExReimuFantasySealBlink : ExReimu
{
  -SOLID
  +INVULNERABLE
  +NOPAIN
  +FLOAT
  +NOGRAVITY
  DropItem "ExReimuNS8"
  DamageFactor "TouhouHakureiHomingAmulet", 0.5
  Health 1500
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6663)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6663,4,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6663,95)
	REI1 A 0 ACS_Execute(607,0,167)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REIM L 12 Fast A_SetAngle(random(0,360))
	REIM L 0 ThrustThing(angle*256/360+64,250,1,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM L 12 Fast A_Stop
	REIM LL 6 Fast A_SetAngle(random(0,360))
	REIM L 0 ThrustThing(angle*256/360+192,250,1,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM L 12 Fast A_Stop
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}

ACTOR ExReimuHakureiGravityReleaseBarrierFlightPowerup : PowerFlight
{
	Powerup.Duration 0x7FFFFFFF
}
ACTOR ExReimuHakureiGravityReleaseBarrier : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "ExReimuFantasyNature"
  Health 4000
  DamageFactor "TouhouHakureiHomingAmulet", 0.8
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6665)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6665,3,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6665,100)
	REI1 A 0 ACS_Execute(72)
	REI1 A 0 ACS_Execute(607,0,168)
	REI1 A 0 A_ChangeFlag("FLOAT",1)
	REI1 A 0 A_ChangeFlag("NOGRAVITY",1)
	REI1 A 0 ThrustThingZ(0, 10, 0, 1)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
    Goto ChaseState
  FastChaseState:
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
    Goto FastChaseState
  Missile:
	REIM A 0 A_Jump(32,"OrbsOfLight","DivineSpiritOrbs","FantasySealSpread","FantasySealConcentrate")
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(255,"SeekerAmulets","SpreadAmulets2","HomingAmulet","YinYangOrb")
	Goto SeekerAmulets
  OrbsOfLight:
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 MNO 2 Fast
	Goto See
  DivineSpiritOrbs:
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-45,45))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 A 0 A_GiveInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 KLKLKLKLMNO 2 Fast
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	Goto See
  FantasySealSpread:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,340)
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRR 1 A_CustomMissile("ReimuFantasySealSpreadOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI2 ST 3 Fast A_FaceTarget
	Goto See
  FantasySealConcentrate:
	REI3 PQRSTU 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 VW 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 ZZ 3 Fast A_FaceTarget
	Goto See
  SeekerAmulets:
	REI2 ABCD 3 Fast A_FaceTarget
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,160)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,170)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,180)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,190)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,200)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,210)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,220)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,230)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,240)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,250)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,260)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,270)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,280)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,290)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,300)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,310)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,320)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,330)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,340)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,350)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,160)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,170)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,180)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,190)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,200)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,210)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,220)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,230)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,240)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,250)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,260)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,270)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,280)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,290)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,300)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,310)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,320)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,330)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,340)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,350)
	REI2 EFGHI 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  SpreadAmulets2:
	REI2 ABCD 3 Fast A_FaceTarget
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 E 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 F 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 G 1 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet2",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet3",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 EEEEEEEEEEEEEEEEEEEEEEE 0 A_CustomMissile("ReimuSpreadAmulet1",32,0,random(-45,45),CMF_OFFSETPITCH,random(-45,45))
	REI2 H 1 A_CustomMissile("ReimuSpreadAmulet4",32,0,random(-9,9),CMF_OFFSETPITCH,random(-9,9))
	REI2 I 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  HomingAmulet:
	REI4 ABCDEF 3 Fast A_FaceTarget
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-125)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-75)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,-25)
	REI4 G 0 A_CustomMissile("ReimuHomingAmulet",32,0,25)
	REI4 G 3 Fast A_CustomMissile("ReimuHomingAmulet",32,0,75)
	REI4 G 3 Fast A_CustomMissile("ReimuHomingAmulet",32,0,125)
	REI4 HIJ 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  YinYangOrb:
	REI4 ABCDEF 3 Fast A_FaceTarget
	REI4 GGGGGGGGGGGGGG 0 A_CustomMissile("ReimuYinYangOrb",32,0,random(-25,25),CMF_OFFSETPITCH,random(-45,45))
	REI4 GHIJ 3 Fast A_FaceTarget
	REIM A 0 A_Jump(192,"Missile")
	Goto See
  AirMissile:
	REIM A 0 A_Jump(255,"AirSeekerAmulet","AirHomingAmulet","AirSpreadAmulet","AirNeedles")
	Goto AirSeekerAmulet
  AirHomingAmulet:
	REI4 KLM 2 Fast A_FaceTarget
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-100)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-60)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,-20)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,20)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,60)
	REI4 N 0 A_CustomMissile("ReimuHomingAmulet",32,0,100)
	REI4 NOPQ 2 Fast A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastChaseState")
	Goto ChaseState
  AirSeekerAmulet:
	REI5 AB 3 Fast A_FaceTarget
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,0)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,10)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,20)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,30)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,40)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,50)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,60)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,70)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,80)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,90)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,100)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,110)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,120)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,130)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,140)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,150)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,160)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,170)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,180)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,190)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,200)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,210)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,220)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,230)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,240)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,250)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,260)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,270)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,280)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,290)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,300)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,310)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,320)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,330)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,340)
	REI2 E 0 A_CustomMissile("ReimuFantasySealBlinkAmulet2",32,0,350)
	REI5 CDE 3 Fast A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastChaseState")
	Goto ChaseState
  AirSpreadAmulet:
	REI5 AB 3 Fast A_FaceTarget
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuYoukaiBusterAmulet",sin(378)*128+32,cos(378)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*16,CMF_OFFSETPITCH,sin(90)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*16,CMF_OFFSETPITCH,sin(162)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*16,CMF_OFFSETPITCH,sin(234)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*16,CMF_OFFSETPITCH,sin(306)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*16,CMF_OFFSETPITCH,sin(378)*16)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*32+32,cos(90)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*32+32,cos(162)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*32+32,cos(234)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*32+32,cos(306)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*32+32,cos(378)*32,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*32,CMF_OFFSETPITCH,sin(90)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*32,CMF_OFFSETPITCH,sin(162)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*32,CMF_OFFSETPITCH,sin(234)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*32,CMF_OFFSETPITCH,sin(306)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*32,CMF_OFFSETPITCH,sin(378)*32)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*64+32,cos(90)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*64+32,cos(162)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*64+32,cos(234)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*64+32,cos(306)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*64+32,cos(378)*64,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*48,CMF_OFFSETPITCH,sin(90)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*48,CMF_OFFSETPITCH,sin(162)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*48,CMF_OFFSETPITCH,sin(234)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*48,CMF_OFFSETPITCH,sin(306)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*48,CMF_OFFSETPITCH,sin(378)*48)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*96+32,cos(90)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*96+32,cos(162)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*96+32,cos(234)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*96+32,cos(306)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*96+32,cos(378)*96,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0,CMF_AIMOFFSET)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(90)*64,CMF_OFFSETPITCH,sin(90)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(162)*64,CMF_OFFSETPITCH,sin(162)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(234)*64,CMF_OFFSETPITCH,sin(234)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(306)*64,CMF_OFFSETPITCH,sin(306)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",32,0,cos(378)*64,CMF_OFFSETPITCH,sin(378)*64)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(90)*128+32,cos(90)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(162)*128+32,cos(162)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(234)*128+32,cos(234)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(306)*128+32,cos(306)*128,0)
	REI5 C 0 A_CustomMissile("ReimuAirSpreadAmulet2",sin(378)*128+32,cos(378)*128,0)
	REI5 CDE 3 Fast A_FaceTarget
	REIM A 0 A_Jump(128,"AirMissile")
	REIM A 0 A_Jump(128,"Missile")
	REIM A 0 A_Jump(128,"FastChaseState")
	Goto ChaseState
  AirNeedles:
	REI5 IJK 2 Fast A_FaceTarget
	REI5 L 0 A_CustomMissile("ReimuPersuasionNeedle",32,-68,0,CMF_AIMOFFSET)
	REI5 L 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,68,0,CMF_AIMOFFSET)
	REI5 M 0 A_FaceTarget
	REI5 M 0 A_CustomMissile("ReimuPersuasionNeedle",32,-36,0,CMF_AIMOFFSET)
	REI5 M 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,36,0,CMF_AIMOFFSET)
	REI5 N 0 A_FaceTarget
	REI5 N 0 A_CustomMissile("ReimuPersuasionNeedle",32,-4,0,CMF_AIMOFFSET)
	REI5 N 2 Fast A_CustomMissile("ReimuPersuasionNeedle",32,4,0,CMF_AIMOFFSET)
	REIM A 0 A_Jump(3,"AirMissile")
	REIM A 0 A_Jump(6,"ChaseState")
	REIM A 0 A_Jump(12,"Missile")
	REIM A 0 A_Jump(24,"FastChaseState")
	Goto AirNeedles+3
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ReimuFantasySealBlinkAmulet2 : ReimuFantasySealBlinkAmulet
{
	Speed 60
	FastSpeed 80
}

ACTOR ExReimuFantasyNature : ExReimu
{
  +INVULNERABLE
  DropItem "None"
  Health 10000
  var int user_count;
  var int user_angle;
  var int user_increment;
  var int user_attack;
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	REI1 A 0 A_ChangeFlag("FLOAT",1)
	REI1 A 0 A_ChangeFlag("NOGRAVITY",1)
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartSurvivalAttack",0,1)
	TNT1 A 0 Thing_ChangeTID(0,6666)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6666,2,true)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb0",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb45",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb90",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb135",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb180",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb225",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb270",32,0,0)
	REI1 A 0 A_CustomMissile("ExReimuFantasyNatureYinYangOrb315",32,0,0)
	TNT1 A 0 A_SetTranslucent(1.0, 1)
	TNT1 A 0 ACS_Execute(607,0,169)
	TNT1 A 0 ACS_Execute(606,0,4)
	REI1 A 0 ThrustThingZ(0, 10, 0, 1)
	TNT1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	TNT1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	Goto Missile
  ChaseState:
	TNT1 A 0 A_ChangeFlag("FLOAT",1)
	TNT1 A 0 A_ChangeFlag("NOGRAVITY",1)
	TNT1 A 0 A_SetTranslucent(1.0, 1)
    REIM ABCDEFGHIJ 2 Fast A_Chase("Missile","Missile")
    Goto ChaseState
  Missile: //Clever hack job to avoid horrible amounts of attack spam
	TNT1 A 0 A_ChangeFlag("FLOAT",1)
	TNT1 A 0 A_ChangeFlag("NOGRAVITY",1)
	TNT1 A 0 A_SetTranslucent(1.0, 1)
	REIM A 0 A_SetUserVar("user_angle",random(0,360))
	REIM A 0 A_SetUserVar("user_count",random(7,8))
	REIM A 0 A_SetUserVar("user_increment",random(15,random(30,random(45,60))))
	REIM A 0 A_Jump(128,"Sweep1","Sweep2")
	REIM A 0 A_SetUserVar("user_count",random(7,9))
	REIM A 0 A_SetUserVar("user_increment",random(30,150))
	REIM A 0 A_Jump(128,"Sweep1","Sweep2")
	REIM A 0 A_SetUserVar("user_count",random(7,10))
	Goto ScatterShot
  Sweep1:
	REIM A 0 A_SetUserVar("user_attack",1)
	REIM A 0 A_SetUserVar("user_angle",user_angle+user_increment)
	REIM A 0 A_SetUserVar("user_count",user_count-1)
	REIM A 0 A_JumpIf(user_count <= 0, "See")
	Goto ShootTheAmulets
  Sweep2:
	REIM A 0 A_SetUserVar("user_attack",2)
	REIM A 0 A_SetUserVar("user_angle",user_angle-user_increment)
	REIM A 0 A_SetUserVar("user_count",user_count-1)
	REIM A 0 A_JumpIf(user_count <= 0, "See")
	Goto ShootTheAmulets
  ScatterShot:
	REIM A 0 A_SetUserVar("user_attack",3)
	REIM A 0 A_SetUserVar("user_angle",random(0,360))
	REIM A 0 A_SetUserVar("user_count",user_count-1)
	REIM A 0 A_JumpIf(user_count <= 0, "See")
	Goto ShootTheAmulets
  ShootTheAmulets: //The setup was a pain, but it means the attack is only defined once
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet10",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet12",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet14",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet16",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet18",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet20",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet22",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet24",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet26",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet28",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet30",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet32",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet34",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet36",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet38",32,0,user_angle)
	REIM A 0 A_CustomMissile("ExReimuFantasyNatureAmulet40",32,0,user_angle)
	REIM AB 2 A_FaceTarget
	REIM A 0 A_JumpIf(user_attack == 1, "Sweep1")
	REIM A 0 A_JumpIf(user_attack == 2, "Sweep2")
	REIM A 0 A_JumpIf(user_attack == 3, "ScatterShot")
	Goto ScatterShot
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 ACS_Execute(73,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ExReimuFantasyNatureAmulet10
{
  Radius 2
  Height 4
  Speed 20
  damage (8)
  Projectile
  +FORCEXYBILLBOARD
  +SEEKERMISSILE
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
	WAMU A 0
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 A_ScaleVelocity(0.9)
	WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	WAMU A 0 Bright A_Stop
	WAMU AAAAA 5 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetTranslucent(1.0, 1)
	WBL1 A 5 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RBL1 A 5 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetTranslucent(1.0, 0)
	RAMU AAAA 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,255,32)
	RAMU A 0 A_ChangeVelocity(80.0,0,0,CVF_RELATIVE)
	RAMU A 0
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 A_ScaleVelocity(0.9)
	RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RAMU A 0 Bright A_Stop
	RAMU AAAAA 5 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetTranslucent(1.0, 1)
	RBL1 A 5 Bright A_Stop
	VBL1 A 5 Bright A_Stop
	TNT1 A 0 A_SetTranslucent(1.0, 0)
	VAMU A 0 A_ChangeVelocity(80.0,0,0,CVF_RELATIVE)
	VAMU AAAA 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,255,32)
  LoopState:
	VAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    VAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuFantasyNatureAmulet12 : ExReimuFantasyNatureAmulet10 { Speed 24 }
ACTOR ExReimuFantasyNatureAmulet14 : ExReimuFantasyNatureAmulet10 { Speed 28 }
ACTOR ExReimuFantasyNatureAmulet16 : ExReimuFantasyNatureAmulet10 { Speed 32 }
ACTOR ExReimuFantasyNatureAmulet18 : ExReimuFantasyNatureAmulet10 { Speed 36 }
ACTOR ExReimuFantasyNatureAmulet20 : ExReimuFantasyNatureAmulet10 { Speed 40 }
ACTOR ExReimuFantasyNatureAmulet22 : ExReimuFantasyNatureAmulet10 { Speed 44 }
ACTOR ExReimuFantasyNatureAmulet24 : ExReimuFantasyNatureAmulet10 { Speed 48 }
ACTOR ExReimuFantasyNatureAmulet26 : ExReimuFantasyNatureAmulet10 { Speed 52 }
ACTOR ExReimuFantasyNatureAmulet28 : ExReimuFantasyNatureAmulet10 { Speed 56 }
ACTOR ExReimuFantasyNatureAmulet30 : ExReimuFantasyNatureAmulet10 { Speed 60 }
ACTOR ExReimuFantasyNatureAmulet32 : ExReimuFantasyNatureAmulet10 { Speed 64 }
ACTOR ExReimuFantasyNatureAmulet34 : ExReimuFantasyNatureAmulet10 { Speed 68 }
ACTOR ExReimuFantasyNatureAmulet36 : ExReimuFantasyNatureAmulet10 { Speed 72 }
ACTOR ExReimuFantasyNatureAmulet38 : ExReimuFantasyNatureAmulet10 { Speed 76 }
ACTOR ExReimuFantasyNatureAmulet40 : ExReimuFantasyNatureAmulet10 { Speed 80 }
ACTOR ExReimuFantasyNatureYinYangOrb0
{
  +MISSILE
  +NOINTERACTION

  Scale 0.5
  Renderstyle add

  var int user_warpangle;

  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 0)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  LoopState:
	RMYN I 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	RMYN I 0 Bright A_FaceTarget
	RMYN I 0 Bright A_SetUserVar("user_warpangle", user_warpangle+4)
	RMYN I 2 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	Loop
  Death:
    RMYN IIIIIIIIII 5 A_FadeOut
    Stop
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb45 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 45)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb90 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 90)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb135 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 135)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb180 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 180)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb225 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 225)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb270 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 270)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}
ACTOR ExReimuFantasyNatureYinYangOrb315 : ExReimuFantasyNatureYinYangOrb0
{
  States
  {
  Spawn:
    RMYN I 0
    RMYN I 0 Bright A_SetUserVar("user_warpangle", 315)
	RMYN I 0 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_warpangle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
	RMYN I 0 Bright A_SpawnItemEx("TeleportFog",0,0,-16,0,0,0,0,0,0)
	Goto LoopState
  }
}

ACTOR ExReimuTheUniverse : ExReimu
{
  +NOPAIN
  DropItem "ExReimuShrineMaidenOfIncidentResolution"
  Health 10000
  var int user_angle1;
  var int user_angle2;
  var int user_angle3;
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6667)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6667,1,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimerAlternative",0,6667,125)
	REI1 A 0 ACS_Execute(607,0,170)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	Goto Missile
  ChaseState:
	REIM ABCDEFGHIJ 3 A_Chase
	Goto See
  Missile:
	REI3 ABCDEFGHIJ 3 A_FaceTarget
	Goto MissileLoop1
  MissileLoop1:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 K 2 Fast A_JumpIfHealthLower(9000,"MissileLoop2")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop2:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+180)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 K 2 Fast A_JumpIfHealthLower(7500,"MissileLoop3")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+180)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop3:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle2+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle2+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+120)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+240)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 K 2 Fast A_JumpIfHealthLower(6000,"MissileLoop4")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle1+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle1+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+120)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+240)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop4:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3Y",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3G",32,0,user_angle1+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4Y",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4G",32,0,user_angle2+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+90)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+270)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 K 2 Fast A_JumpIfHealthLower(4500,"MissileLoop5")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3Y",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3G",32,0,user_angle1+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4Y",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4G",32,0,user_angle2+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+90)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+270)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop5:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+72,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+144,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1G",32,0,user_angle1+216,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1C",32,0,user_angle1+288,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+72,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+144,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2G",32,0,user_angle2+216,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2C",32,0,user_angle2+288,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+72)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+144)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+216)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+288)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 K 2 Fast A_JumpIfHealthLower(3000,"MissileLoop6")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+72,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+144,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1G",32,0,user_angle1+216,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1C",32,0,user_angle1+288,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+72,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+144,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2G",32,0,user_angle2+216,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2C",32,0,user_angle2+288,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+72)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+144)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+216)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+288)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop6:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+60,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3Y",32,0,user_angle1+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3G",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3C",32,0,user_angle1+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3B",32,0,user_angle1+300,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+60,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4Y",32,0,user_angle2+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4G",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4C",32,0,user_angle2+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4B",32,0,user_angle2+300,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+60)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+120)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+240)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+300)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 K 2 Fast A_JumpIfHealthLower(1500,"MissileLoop7")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+60,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3Y",32,0,user_angle1+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3G",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3C",32,0,user_angle1+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3B",32,0,user_angle1+300,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+60,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4Y",32,0,user_angle2+120,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4G",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4C",32,0,user_angle2+240,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4B",32,0,user_angle2+300,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+60)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+120)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+240)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+300)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop7:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+51,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+102,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1G",32,0,user_angle1+154,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1C",32,0,user_angle1+205,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1B",32,0,user_angle1+257,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1V",32,0,user_angle1+308,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+51,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+102,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2G",32,0,user_angle2+154,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2C",32,0,user_angle2+205,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2B",32,0,user_angle2+257,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2V",32,0,user_angle2+308,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+51)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+102)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+154)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+205)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+257)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletV",32,0,user_angle3+308)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 K 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+51,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+102,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1G",32,0,user_angle1+154,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1C",32,0,user_angle1+205,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1B",32,0,user_angle1+257,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1V",32,0,user_angle1+308,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+51,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+102,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2G",32,0,user_angle2+154,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2C",32,0,user_angle2+205,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2B",32,0,user_angle2+257,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2V",32,0,user_angle2+308,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+51)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+102)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+154)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+205)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+257)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletV",32,0,user_angle3+308)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3+7)
	REI3 L 2 Fast A_JumpIfInventory("BossTimerCheck30",1,"MissileLoop8")
	Loop
  MissileLoop8:
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1O",32,0,user_angle1+45,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1Y",32,0,user_angle1+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1G",32,0,user_angle1+135,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1C",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1B",32,0,user_angle1+225,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1V",32,0,user_angle1+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner1W",32,0,user_angle1+315,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2O",32,0,user_angle2+45,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2Y",32,0,user_angle2+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2G",32,0,user_angle2+135,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2C",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2B",32,0,user_angle2+225,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2V",32,0,user_angle2+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner2W",32,0,user_angle2+315,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+45)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+90)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+135)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+225)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletV",32,0,user_angle3+270)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletW",32,0,user_angle3+315)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 K 2 Fast
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3R",32,0,user_angle1+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3O",32,0,user_angle1+45,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3Y",32,0,user_angle1+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3G",32,0,user_angle1+135,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3C",32,0,user_angle1+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3B",32,0,user_angle1+225,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3V",32,0,user_angle1+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner3W",32,0,user_angle1+315,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle1",user_angle1+11)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4R",32,0,user_angle2+0,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4O",32,0,user_angle2+45,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4Y",32,0,user_angle2+90,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4G",32,0,user_angle2+135,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4C",32,0,user_angle2+180,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4B",32,0,user_angle2+225,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4V",32,0,user_angle2+270,CMF_AIMDIRECTION)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletSpawner4W",32,0,user_angle2+315,CMF_AIMDIRECTION)
	TNT1 A 0 A_SetUserVar("user_angle2",user_angle2-13)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletR",32,0,user_angle3+0)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletO",32,0,user_angle3+45)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletY",32,0,user_angle3+90)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletG",32,0,user_angle3+135)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletC",32,0,user_angle3+180)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletB",32,0,user_angle3+225)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletV",32,0,user_angle3+270)
	TNT1 A 0 A_CustomMissile("ExReimuTheUniverseAmuletW",32,0,user_angle3+315)
	TNT1 A 0 A_SetUserVar("user_angle3",user_angle3-7)
	REI3 L 2 Fast
	Loop
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM KKKKKKKKK 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR ExReimuTheUniverseYinYangEffectRed
{
  Radius 2
  Height 4
  Renderstyle Add
  Alpha 0.98
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    RMYN A 1 Bright A_FadeOut(0.14)
    Loop
  }
}
ACTOR ExReimuTheUniverseYinYangEffectBlue
{
  Radius 2
  Height 4
  Renderstyle Add
  Alpha 0.98
  +NOGRAVITY
  +NOINTERACTION
  States
  {
  Spawn:
    RMYN E 1 Bright A_FadeOut(0.14)
    Loop
  }
}
ACTOR ExReimuTheUniverseAmuletR
{
  Radius 2
  Height 4
  Speed 10
  FastSpeed 20
  damage (10)
  Projectile
  +FORCEXYBILLBOARD
  DamageType "ReimuDamage"
  //RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletO : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    OAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    OAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletY : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    YAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    YAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletG : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    GAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    GAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletC : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    CAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    CAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletB : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    BAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    BAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletV : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    VAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    VAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletW : ExReimuTheUniverseAmuletR
{
  States
  {
  Spawn:
    WAMU A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    WAMU AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1R
{
  Radius 2
  Height 4
  Speed 128
  FastSpeed 128
  damage (0)
  Projectile
  +NOINTERACTION
  DamageType "ReimuDamage"
  RenderStyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletR",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  Death:
	TNT1 A 0 Bright A_SpawnItemEx("ExReimuTheUniverseYinYangEffectRed",0,0,0,0,0,0,0,0,0)
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1O : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletO",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1Y : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletY",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1G : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletG",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1C : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletC",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1B : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletB",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1V : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletV",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner1W : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletW",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2R : ExReimuTheUniverseAmuletSpawner1R
{
  Speed 256
  FastSpeed 256
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletR",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2O : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletO",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2Y : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletY",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2G : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletG",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2C : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletC",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2B : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletB",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2V : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletV",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletV",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner2W : ExReimuTheUniverseAmuletSpawner2R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletW",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3R : ExReimuTheUniverseAmuletSpawner1R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletR",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  Death:
	TNT1 A 0 Bright A_SpawnItemEx("ExReimuTheUniverseYinYangEffectBlue",0,0,0,0,0,0,0,0,0)
    Stop
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3O : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletO",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3Y : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletY",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3G : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletG",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3C : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletC",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3B : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletB",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3V : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletV",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner3W : ExReimuTheUniverseAmuletSpawner3R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletW",0,0,-90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4R : ExReimuTheUniverseAmuletSpawner3R
{
  Speed 256
  FastSpeed 256
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletR",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4O : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletO",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4Y : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletY",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4G : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletG",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4C : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletC",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4B : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletB",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4V : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletV",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}
ACTOR ExReimuTheUniverseAmuletSpawner4W : ExReimuTheUniverseAmuletSpawner4R
{
  States
  {
  Spawn:
    TNT1 A 0 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 Bright A_Stop
	TNT1 A 0 Bright A_CustomMissile("ExReimuTheUniverseAmuletW",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
	Goto Death
  }
}

ACTOR ReimuScriptTrigger : Boolean {}
ACTOR ExReimuShrineMaidenOfIncidentResolution : ExReimu
{
  +INVULNERABLE
  +NOPAIN
  DropItem "None"
  Health 16000
  var int user_jump;
  States
  {
  Spawn:
    REIM A 0
	REIM A 0 A_SetTranslucent(0.1)
	REIM ABCDEFGHIJ 3 A_FadeIn(0.1)
  Idle:
	REIM ABCDEFGHIJ 3 A_Look
	Goto Idle
  See:
	REI1 A 0 A_SetTranslucent(1.0,0)
	REI1 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
    REI1 MNO 4 A_FaceTarget
	TNT1 A 0 Thing_ChangeTID(0,6668)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6668,0,true)
	TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimerAlternative",0,6668,150)
	REI1 A 0 ACS_Execute(607,0,171)
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 A 0 A_GiveInventory("SpellcardActive",1)
	REI1 PQRQRQRQRQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	REIM L 0 A_ChangeFlag("FLOAT",0)
	REIM L 0 A_ChangeFlag("NOGRAVITY",0)
	REIM A 0 A_Jump(32,"FastSee")
    REIM ABCDEFGHIJ 2 Fast A_Chase("Melee","Missile")
	REIM A 0 A_JumpIf(z-floorz > 96, "FastSee")
    Goto See+3
  FastSee:
	REIM L 0 ThrustThingZ(0,10,0,1)
	REIM L 0 A_ChangeFlag("FLOAT",1)
	REIM L 0 A_ChangeFlag("NOGRAVITY",1)
	REIM L 4 A_FaceTarget
	REIM A 0 A_Jump(32,"See")
	REIM MMNNOOPP 1 A_Chase("Melee2","AirMissile",CHF_FASTCHASE)
	REIM A 0 A_JumpIf(z-floorz < 32, "See")
    Goto FastSee+4
  Missile:
	TNT1 A 0 A_JumpIfInventory("BossTimerCheck30",1,"Spellcard")
	TNT1 A 0 A_ChangeFlag("NOPAIN", FALSE)
	REIM A 0 A_JumpIfInventory("ReimuScriptTrigger",1,"ContinueMissile")
	REIM A 0 A_JumpIfHealthLower(8000,"ActivateTheScripts")
	REIM A 0 A_SetUserVar("user_jump", (16384-health) / 64)
  ContinueMissile:
	REIM A 0 A_Jump(user_jump,"Spellcard") //Wait, what?
	Goto "Super::Missile"
  ActivateTheScripts:
	REIM A 0 ACS_Execute(137,0)
	REIM A 0 A_GiveInventory("ReimuScriptTrigger",1)
	Goto ContinueMissile
  Spellcard:
	TNT1 A 0 A_ChangeFlag("NOPAIN", TRUE)
    REI1 MNO 4 A_FaceTarget
	REI1 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	REI1 PQRQR 3 A_FaceTarget
    REI1 STU 4 A_FaceTarget
	REI1 A 0 A_Jump(255,"FantasySealSpread","FantasySealConcentrate","Prayer","OrbsOfLight","DivineSpiritOrbs","DemonBindingCircle","FantasySealCircle","FantasySealBlink")
	Goto FantasySealBlink
  FantasySealSpread:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,340)
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRRQQRR 1 A_CustomMissile("ReimuFantasySealSpreadOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI2 ST 3 Fast A_FaceTarget
	Goto See
  FantasySealConcentrate:
	REI3 PQRSTU 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateAmulet2",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 VW 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 XY 3 Fast A_FaceTarget
	REI3 A 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,random(0,360),CMF_OFFSETPITCH,random(-5,5))
	REI3 ZZ 3 Fast A_FaceTarget
	Goto See
  Prayer:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,0)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,45)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,90)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,135)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,180)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,225)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,270)
	REI2 P 0 A_CustomMissile("ExReimuPrayerAmuletSpawner",32,0,315)
	REI2 PQRQRQRQRQRQRQR 3 Fast A_FaceTarget
	REI2 ST 3 Fast A_FaceTarget
	Goto See
  OrbsOfLight:
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFFEEEFFFEEEFFF 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 EEEFFF 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb1",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLLKKKLLLKKKLLL 0 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 KKKLLL 1 A_CustomMissile("ReimuDancingYinYangOrbsOrb2",32,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	REI3 MNO 2 Fast
	Goto See
  DivineSpiritOrbs:
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 ABCD 2 Fast A_FaceTarget
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 EEEFFFEEEFFF 0 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,20))
	REI3 EEEFFF 1 A_CustomMissile("ExReimuDivineSpiritOrbsOrb",32,0,random(0,360),CMF_AIMDIRECTION,random(-5,10))
	REI3 GHIJ 2 Fast A_FaceTarget
	REI3 A 0 A_GiveInventory("ExReimuDivineSpiritOrbTrigger", 1)
	REI3 KLKLKLKLMNO 2 Fast
	REI3 A 0 A_TakeInventory("ExReimuDivineSpiritOrbTrigger", 1)
	Goto See
  DemonBindingCircle:
	REIM L 4 A_FaceTarget
	REIM L 0 A_FaceTarget
	REIM L 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
	REIM P 0 A_FaceTarget
	REIM P 0 ThrustThing(angle*256/360,30,0,0)
	REIM M 2 A_JumpIfCloser(128,"AttackState")
	REIM M 0 A_FaceTarget
	REIM M 0 ThrustThing(angle*256/360,30,0,0)
	REIM N 2 A_JumpIfCloser(128,"AttackState")
	REIM N 0 A_FaceTarget
	REIM N 0 ThrustThing(angle*256/360,30,0,0)
	REIM O 2 A_JumpIfCloser(128,"AttackState")
	REIM O 0 A_FaceTarget
	REIM O 0 ThrustThing(angle*256/360,30,0,0)
	REIM P 2 A_JumpIfCloser(128,"AttackState")
  AttackState:
	REIM A 0 A_Stop
	REIM A 0 A_PlaySound("touhou/charge3",0,1.0,0,ATTN_NONE)
	REI3 A 0 A_SpawnItemEx("ReimuEvilSealingCircleAttackUltra",0,0,0,0,0,0,0,0,0)
	REI3 ABCD 3 Fast A_FaceTarget
	REI3 EFEFEFEFGHIJ 3 Fast A_FaceTarget
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet2",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet3",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet4",32,0,350)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,0)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,10)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,20)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,30)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,40)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,50)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,60)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,70)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,80)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,90)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,100)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,110)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,120)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,130)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,140)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,150)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,160)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,170)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,180)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,190)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,200)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,210)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,220)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,230)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,240)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,250)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,260)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,270)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,280)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,290)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,300)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,310)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,320)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,330)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,340)
	REI3 A 0 A_CustomMissile("ReimuEvilSealingCircleBullet5",32,0,350)
	REI3 KLKLKLKLKLMNO 2 Fast A_FaceTarget
	Goto See
  FantasySealCircle:
	REI2 JKLMNO 3 Fast A_FaceTarget
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet1",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet2",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet3",32,0,340)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,20)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,40)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,60)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,80)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,100)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,140)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,160)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,180)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,200)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,220)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,260)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,280)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,300)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,320)
	REI2 P 0 A_CustomMissile("ReimuFantasySealSpreadAmulet4",32,0,340)
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP 0 A_CustomMissile("ReimuFantasySealSpreadAmulet5",32,0,random(0,360),CMF_OFFSETPITCH,random(-15,15))
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,0)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,24)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,48)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,72)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,96)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,120)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,144)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,168)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,192)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,216)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,240)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,264)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,288)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,312)
	REI2 P 0 A_CustomMissile("ReimuFantasySealConcentrateOrb",32,0,336)
	REI2 PQRQRQRQRQRQRQRQRST 3 Fast A_FaceTarget
	Goto See
  FantasySealBlink:
	REIM L 12 Fast A_SetAngle(random(0,360))
	REIM L 0 ThrustThing(angle*256/360+64,500,1,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-45,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,-15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,0,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,15,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,30,CMF_AIMDIRECTION)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkAmulet",32,0,45,CMF_AIMDIRECTION)
	REIM L 12 Fast A_Stop
	REIM LL 6 Fast A_SetAngle(random(0,360))
	REIM L 0 ThrustThing(angle*256/360+192,500,1,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM MMM 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageM",0,0,0,0,0,0,0,0,0)
	REIM NNN 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageN",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM OOO 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageO",0,0,0,0,0,0,0,0,0)
	REIM PPP 1 A_SpawnItemEx("ReimuFantasySealBlinkAfterimageP",0,0,0,0,0,0,0,0,0)
	REIM L 0 A_CustomMissile("ReimuFantasySealBlinkOrb",32,0,0)
	REIM L 12 Fast A_Stop
	Goto See
  Death:
	REIM K 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	REIM K 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	REIM K 0 ACS_Execute(609,0)
	REIM K 0 A_GiveInventory("BulletDeathTrigger",1)
    REIM K 0 A_NoBlocking
	REIM K 0 A_PlaySound("touhou/nuefire")
	REIM K 35
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	REIM K 35 A_Scream
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	REIM K 35 A_Scream
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 0 A_Scream
	TNT1 A 0 ACS_Execute(138,0)
	Stop
  }
}