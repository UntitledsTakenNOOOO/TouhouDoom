ACTOR TenshiIntro
{
  Speed 0
  VSpeed -32
  +NOGRAVITY
  +NOBLOCKMAP
  +THRUACTORS
  States
  {
  Spawn:
	TEN4 GGHH 1 A_CheckFloor("Death")
	Loop
  Death:
    TNT1 A 0 A_PlaySound("touhou/nuefire",0,1.0,0,ATTN_NONE)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
    TENS A 0 A_SpawnItemEx("Tenshi",0,0,0,0,0,0,0,0,0,14)
	Stop
  }
}

ACTOR Tenshi 31313
{
//$Category "Touhou Characters"
  Tag "Tenshi Hinanawi"
  Speed 12
  MONSTER
  Health 2500
  Radius 24
  Height 64
  Scale 0.7
  MinMissileChance 160
  Mass 10000
  MeleeThreshold 108
  MeleeRange 72
  Species "Tenshi"
  +THRUSPECIES //Wait what
  +LOOKALLAROUND
  +FLOORCLIP
  +DONTFALL
  +BOSS
  +NEVERRESPAWN
  +MISSILEMORE
  +NORADIUSDMG
  +DONTRIP
  +DONTMORPH
  +AMBUSH
  +NOICEDEATH
  DamageFactor "TenshiDamage", 0
  DamageFactor "PlayerSpellcard", 0.5
  Painchance 2
  Seesound ""
  Deathsound "touhou/defeat"
  Painsound "touhou/pain"
  Obituary "%o was grounded by Tenshi."
  HitObituary "%o was sliced through by Tenshi."
  DropItem "TenshiHeavensRock"
  States
  {
  Spawn:
    TENS ABCDEDCB 3 A_Look
    Loop
  See:
    TENS A 0 ACS_NamedExecute("BHI_StartTenshi",0)
	TENS A 0 A_SetTranslucent(1.0)
    TENS ABCDEDCB 3 A_Chase
    Loop
  Pain:
	TENS N 0 A_SetTranslucent(1.0)
    TENS N 3 A_Pain
    TENS OPQN 3
    Goto See
  Melee:
	TEN1 ABCDEF 2 A_FaceTarget
	TEN1 G 2 A_CustomMeleeAttack(80,"touhou/remi/hit","none")
	TEN1 HIJKL 2 A_FaceTarget
  Missile:
    TENS A 0 A_Jump(128,"Lasers","RockAttack1","RockAttack2")
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileNormal
  MissileEasy:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(0)*24+32,cos(0)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(30)*24+32,cos(30)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(60)*24+32,cos(60)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(90)*24+32,cos(90)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(120)*24+32,cos(120)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(150)*24+32,cos(150)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(180)*24+32,cos(180)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(210)*24+32,cos(210)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(240)*24+32,cos(240)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(270)*24+32,cos(270)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(300)*24+32,cos(300)*192,0,CMF_AIMOFFSET)
	TEN3 G 3 A_CustomMissile("TenshiNSBullet4",sin(330)*24+32,cos(330)*192,0,CMF_AIMOFFSET)
	TEN3 HIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileNormal:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(0)*18+32,cos(0)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(30)*18+32,cos(30)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(60)*18+32,cos(60)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(90)*18+32,cos(90)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(120)*18+32,cos(120)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(150)*18+32,cos(150)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(180)*18+32,cos(180)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(210)*18+32,cos(210)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(240)*18+32,cos(240)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(270)*18+32,cos(270)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(300)*18+32,cos(300)*160,0,CMF_AIMOFFSET)
	TEN3 G 3 A_CustomMissile("TenshiNSBullet3",sin(330)*18+32,cos(330)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(0)*24+32,cos(0)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(30)*24+32,cos(30)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(60)*24+32,cos(60)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(90)*24+32,cos(90)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(120)*24+32,cos(120)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(150)*24+32,cos(150)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(180)*24+32,cos(180)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(210)*24+32,cos(210)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(240)*24+32,cos(240)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(270)*24+32,cos(270)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(300)*24+32,cos(300)*192,0,CMF_AIMOFFSET)
	TEN3 H 3 A_CustomMissile("TenshiNSBullet4",sin(330)*24+32,cos(330)*192,0,CMF_AIMOFFSET)
	TEN3 IJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileHard:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(0)*12+32,cos(0)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(30)*12+32,cos(30)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(60)*12+32,cos(60)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(90)*12+32,cos(90)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(120)*12+32,cos(120)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(150)*12+32,cos(150)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(180)*12+32,cos(180)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(210)*12+32,cos(210)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(240)*12+32,cos(240)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(270)*12+32,cos(270)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(300)*12+32,cos(300)*128,0,CMF_AIMOFFSET)
	TEN3 G 3 A_CustomMissile("TenshiNSBullet2",sin(330)*12+32,cos(330)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(0)*18+32,cos(0)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(30)*18+32,cos(30)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(60)*18+32,cos(60)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(90)*18+32,cos(90)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(120)*18+32,cos(120)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(150)*18+32,cos(150)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(180)*18+32,cos(180)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(210)*18+32,cos(210)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(240)*18+32,cos(240)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(270)*18+32,cos(270)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(300)*18+32,cos(300)*160,0,CMF_AIMOFFSET)
	TEN3 H 3 A_CustomMissile("TenshiNSBullet3",sin(330)*18+32,cos(330)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(0)*24+32,cos(0)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(30)*24+32,cos(30)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(60)*24+32,cos(60)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(90)*24+32,cos(90)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(120)*24+32,cos(120)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(150)*24+32,cos(150)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(180)*24+32,cos(180)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(210)*24+32,cos(210)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(240)*24+32,cos(240)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(270)*24+32,cos(270)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(300)*24+32,cos(300)*192,0,CMF_AIMOFFSET)
	TEN3 I 3 A_CustomMissile("TenshiNSBullet4",sin(330)*24+32,cos(330)*192,0,CMF_AIMOFFSET)
	TEN3 JKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileLunatic:
	TEN3 ABCDEF 3 Fast A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(0)*6+32,cos(0)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(30)*6+32,cos(30)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(60)*6+32,cos(60)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(90)*6+32,cos(90)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(120)*6+32,cos(120)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(150)*6+32,cos(150)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(180)*6+32,cos(180)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(210)*6+32,cos(210)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(240)*6+32,cos(240)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(270)*6+32,cos(270)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet1",sin(300)*6+32,cos(300)*96,0,CMF_AIMOFFSET)
	TEN3 G 3 Fast A_CustomMissile("TenshiNSBullet1",sin(330)*6+32,cos(330)*96,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(0)*12+32,cos(0)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(30)*12+32,cos(30)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(60)*12+32,cos(60)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(90)*12+32,cos(90)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(120)*12+32,cos(120)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(150)*12+32,cos(150)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(180)*12+32,cos(180)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(210)*12+32,cos(210)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(240)*12+32,cos(240)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(270)*12+32,cos(270)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet2",sin(300)*12+32,cos(300)*128,0,CMF_AIMOFFSET)
	TEN3 H 3 Fast A_CustomMissile("TenshiNSBullet2",sin(330)*12+32,cos(330)*128,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(0)*18+32,cos(0)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(30)*18+32,cos(30)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(60)*18+32,cos(60)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(90)*18+32,cos(90)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(120)*18+32,cos(120)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(150)*18+32,cos(150)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(180)*18+32,cos(180)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(210)*18+32,cos(210)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(240)*18+32,cos(240)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(270)*18+32,cos(270)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet3",sin(300)*18+32,cos(300)*160,0,CMF_AIMOFFSET)
	TEN3 I 3 Fast A_CustomMissile("TenshiNSBullet3",sin(330)*18+32,cos(330)*160,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(0)*24+32,cos(0)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(30)*24+32,cos(30)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(60)*24+32,cos(60)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(90)*24+32,cos(90)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(120)*24+32,cos(120)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(150)*24+32,cos(150)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(180)*24+32,cos(180)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(210)*24+32,cos(210)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(240)*24+32,cos(240)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(270)*24+32,cos(270)*192,0,CMF_AIMOFFSET)
	TEN3 G 0 A_CustomMissile("TenshiNSBullet4",sin(300)*24+32,cos(300)*192,0,CMF_AIMOFFSET)
	TEN3 J 3 Fast A_CustomMissile("TenshiNSBullet4",sin(330)*24+32,cos(330)*192,0,CMF_AIMOFFSET)
	TEN3 KLMNO 3 Fast A_FaceTarget
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  ThrowTheDamnRock:
	TEN3 A 0 A_CustomMissile("TenshiNSRockBullet",32,0,0)
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  Lasers:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"LasersEasy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"LasersNormal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"LasersHard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"LasersLunatic")
	Goto LasersLunatic
  LasersEasy:
	TEN3 A 0 A_PlaySound("touhou/charge2",0,1.0,0,ATTN_NONE)
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomRailgun(0,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 GHIJKLMN 3
	TEN3 O 0 A_PlaySound("touhou/laser",0,1.0,0,ATTN_NONE)
	TEN3 O 0 A_CustomRailgun(40,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 3 A_CustomRailgun(40,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  LasersNormal:
	TEN3 A 0 A_PlaySound("touhou/charge2",0,1.0,0,ATTN_NONE)
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomRailgun(0,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 GHIJKLMN 3
	TEN3 O 0 A_PlaySound("touhou/laser",0,1.0,0,ATTN_NONE)
	TEN3 O 0 A_CustomRailgun(40,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 3 A_CustomRailgun(40,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  LasersHard:
	TEN3 A 0 A_PlaySound("touhou/charge2",0,1.0,0,ATTN_NONE)
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomRailgun(0,-60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 GHIJKLMN 3
	TEN3 O 0 A_PlaySound("touhou/laser",0,1.0,0,ATTN_NONE)
	TEN3 O 0 A_CustomRailgun(40,-60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 3 A_CustomRailgun(40,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  LasersLunatic:
	TEN3 A 0 A_PlaySound("touhou/charge2",0,1.0,0,ATTN_NONE)
	TEN3 ABCDEF 3 Fast A_FaceTarget
	TEN3 G 0 A_SpawnItemEx("TenshiNSRockEffect",64,0,32,0,0,0,0,0,0)
	TEN3 G 0 A_CustomRailgun(0,-84,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,84,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 G 0 A_CustomRailgun(0,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"IkuHarmlessLaserTrail",-8)
	TEN3 GHIJKLMN 3 Fast
	TEN3 O 0 A_PlaySound("touhou/laser",0,1.0,0,ATTN_NONE)
	TEN3 O 0 A_CustomRailgun(40,-84,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,84,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,60,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,36,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 0 A_CustomRailgun(40,-12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 O 3 A_CustomRailgun(40,12,"none","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,2048,0,12.0,0,"RemiRedLaserTrail",-8)
	TEN3 A 0 A_Jump(85,"ThrowTheDamnRock")
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack1:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"RockAttack1Easy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"RockAttack1Normal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"RockAttack1Hard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"RockAttack1Lunatic")
	Goto RockAttack1Lunatic
  RockAttack1Easy:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack1Easy",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack1Normal:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack1Normal",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack1Hard:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack1Hard",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack1Lunatic:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack1Lunatic",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack2:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"RockAttack2Easy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"RockAttack2Normal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"RockAttack2Hard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"RockAttack2Lunatic")
	Goto RockAttack2Lunatic
  RockAttack2Easy:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack2Easy",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack2Normal:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack2Normal",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack2Hard:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack2Hard",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  RockAttack2Lunatic:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiNSRockAttack2Lunatic",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  Death:
	TENS N 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TENS N 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TENS N 0 A_GiveInventory("BulletDeathTrigger",1)
    TENS N 0 A_NoBlocking
	TENS N 0 A_PlaySound("touhou/nuefire")
	TENS NNNOOOPPP 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR TenshiNS2 : Tenshi
{
  DropItem "TenshiThyViolenceNurturesUs"
  States
  {
  Spawn:
    TENS A 0
	TENS A 0 A_SetTranslucent(0.12)
	TENS ABCDEDCB 3 A_FadeIn(0.12)
  Idle:
    TENS A 1 Thing_ChangeTID(0,6212)
    TENS A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6212,2,false)
    TENS A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6212,70)
	TENS BCDEDCB 3 A_Look
	Goto Idle
  See:
    TNT1 A 0 Thing_ChangeTID(0,6212)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6212,2,false)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6212,70)
    TENS ABCDEDCB 3 A_Chase
    Loop
  }
}
ACTOR TenshiNS3 : TenshiNS2
{
  DropItem "TenshiEarthCalmingStone"
  States
  {
  Spawn:
    TENS A 0
	TENS A 0 A_SetTranslucent(0.12)
	TENS ABCDEDCB 3 A_FadeIn(0.12)
  Idle:
    TENS A 1 Thing_ChangeTID(0,6214)
    TENS A 1 ACS_NamedExecute("BHI_BossStartAttack",0,6214,1,false)
    TENS A 1 ACS_NamedExecute("BHI_BossStartTimer",0,6214,70)
	TENS BCDEDCB 3 A_Look
	Goto Idle
  See:
    TNT1 A 0 Thing_ChangeTID(0,6214)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6214,1,false)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6214,70)
    TENS ABCDEDCB 3 A_Chase
    Loop
  }
}
ACTOR TenshiNSRockEffect
{
  Damage (0)
  Scale 0.5
  +NOINTERACTION
  +NOGRAVITY
  +CLIENTSIDEONLY
  DeathSound ""
  States
  {
  Spawn:
    TNT1 A 0 Bright
	TNRK ABCDEFGHI 3 Bright
	Stop
  }
}
ACTOR TenshiNSRockBullet
{
  Radius 5
  Height 10
  Speed 24
  FastSpeed 20
  Damage (10)
  Scale 0.5
  DamageType "TenshiDamage"
  Species "Tenshi"
  +THRUSPECIES
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  Projectile
  States
  {
  Spawn:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSBullet1
{
  Radius 2
  Speed 12
  fastspeed 18
  Height 4
  damage (10)
  Projectile
  Species "Tenshi"
  +THRUSPECIES
  +FORCEXYBILLBOARD
  RenderStyle Add
  DamageType "TenshiDamage"
  SeeSound "touhou/fire"
  DeathSound "touhou/hit"
  States
  {
  Spawn:
    RBL4 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
    RBL4 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR TenshiNSBullet2 : TenshiNSBullet1
{
  Speed 16
  fastspeed 24
}
ACTOR TenshiNSBullet3 : TenshiNSBullet1
{
  Speed 20
  fastspeed 30
}
ACTOR TenshiNSBullet4 : TenshiNSBullet1
{
  Speed 24
  fastspeed 36
}
ACTOR TenshiNSRockAttack1Easy
{
  Radius 5
  Height 10
  Speed 16
  FastSpeed 20
  Damage (4)
  Scale 0.5
  DamageType "TenshiDamage"
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  Projectile
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack1Normal : TenshiNSRockAttack1Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack1Hard : TenshiNSRockAttack1Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack1Lunatic : TenshiNSRockAttack1Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AAAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK F 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK G 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK H 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360))
	TNRK I 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack2Easy
{
  Radius 5
  Height 10
  Speed 16
  FastSpeed 20
  Damage (4)
  Scale 0.5
  DamageType "TenshiDamage"
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  var int user_angle;
  Projectile
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack2Normal : TenshiNSRockAttack2Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack2Hard : TenshiNSRockAttack2Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiNSRockAttack2Lunatic : TenshiNSRockAttack2Easy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet4",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet3",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNRK FGHI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
  LoopState:
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}

ACTOR TenshiHeavensRock : Tenshi
{
  DropItem "TenshiNS2"
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    TENS A 0
	TENS A 0 A_SetTranslucent(0.12)
	TENS ABCDEDCB 3 A_FadeIn(0.12)
  Idle:
	TENS ABCDEDCB 3 A_Look
	Goto Idle
  See:
	TEN2 A 0 A_SetTranslucent(1.0,0)
	TEN2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TEN2 ABCDEFG 3 A_FaceTarget
    TNT1 A 0 Thing_ChangeTID(0,6211)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6211,3,true)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6211,70)
	TEN2 A 0 ACS_Execute(602,0,102)
	TEN2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	TEN2 A 0 A_GiveInventory("SpellcardActive",1)
	TEN2 HIHIHIHIHIHI 3 A_FaceTarget
    TEN2 KJLM 4 A_FaceTarget
	TEN2 A 0 A_UnSetInvulnerable
	TEN2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	TENS ABCDEDCB 3 A_Chase
	Goto See
  Missile:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileHard
  MissileEasy:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiHeavensRockAttackEasy",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileNormal:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiHeavensRockAttackNormal",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileHard:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiHeavensRockAttackHard",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileLunatic:
	TEN3 ABCDEF 3 Fast A_FaceTarget
	TEN3 G 0 A_CustomMissile("TenshiHeavensRockAttackLunatic",32,0,0)
	TEN3 GHIJKLMNO 3 Fast A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  Death:
	TENS N 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TENS N 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TENS N 0 ACS_Execute(603,0)
	TENS N 0 A_GiveInventory("BulletDeathTrigger",1)
    TENS N 0 A_NoBlocking
	TENS N 0 A_PlaySound("touhou/nuefire")
	TENS NNNOOOPPP 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR TenshiHeavensRockAttackEasy
{
  Radius 5
  Height 10
  Speed 25
  FastSpeed 30
  Damage (8)
  Scale 0.7
  DamageType "TenshiDamage"
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  var int user_angle;
  Projectile
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Stop
  LoopState:
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Jump(85,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiHeavensRockAttackNormal : TenshiHeavensRockAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Stop
  LoopState:
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Jump(64,"Death")
	Loop
  }
}
ACTOR TenshiHeavensRockAttackHard : TenshiHeavensRockAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Stop
  LoopState:
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet1",0,0,user_angle+330)
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK FFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Jump(42,"Death")
	Loop
  }
}
ACTOR TenshiHeavensRockAttackLunatic : TenshiHeavensRockAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK FG 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_ScaleVelocity(0.8)
	TNRK HI 3 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Stop
  LoopState:
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
	TNT1 A 0 A_Jump(32,"Death")
    TNRK FFFGGGHHHIIIFFFGGG 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_SetUserVar("user_angle",random(0,30))
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+30)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+60)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+90)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+120)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+150)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+180)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+210)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+240)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+270)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+300)
	TNT1 A 0 A_CustomMissile("TenshiNSBullet2",0,0,user_angle+330)
    TNRK HHHIIIFFFGGGHHHIII 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 A 0 A_Jump(32,"Death")
	Loop
  }
}

ACTOR TenshiThyViolenceNurturesUs : Tenshi
{
  DropItem "TenshiNS3"
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    TENS A 0
	TENS A 0 A_SetTranslucent(0.12)
	TENS ABCDEDCB 3 A_FadeIn(0.12)
  Idle:
	TENS ABCDEDCB 3 A_Look
	Goto Idle
  See:
	TEN2 A 0 A_ChangeFlag("NOGRAVITY",0)
	TEN2 A 0 A_SetTranslucent(1.0,0)
	TEN2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TEN2 ABCDEFG 3 A_FaceTarget
    TNT1 A 0 Thing_ChangeTID(0,6213)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6213,2,true)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6213,70)
	TEN2 A 0 ACS_Execute(602,0,103)
	TEN2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	TEN2 A 0 A_GiveInventory("SpellcardActive",1)
	TEN2 HIHIHIHIHIHI 3 A_FaceTarget
    TEN2 KJLM 4 A_FaceTarget
	TEN2 A 0 A_UnSetInvulnerable
	TEN2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	TENS ABCDEDCB 3 A_Chase
	Goto See
  Missile:
	TENS P 3 ThrustThingZ(0,32,0,0)
	TENS Q 3 A_ChangeFlag("NOGRAVITY",1)
	TENS RSTUVXYXY 3 A_FaceTarget
	TENS F 0 A_Stop
	TENS F 0 A_FaceTarget
	TENS F 3 ThrustThing(angle*256/360,32,1,0)
	TENS G 0 A_FaceTarget
	TENS G 3 ThrustThing(angle*256/360,32,1,0)
	TENS H 0 A_FaceTarget
	TENS H 3 ThrustThing(angle*256/360,32,1,0)
  MissileLoop:
	TENS IJIJIJIJIJIJIJIJIJ 2 A_JumpIfCloser(z+192,"AttackMode")
  AttackMode:
	TEN4 A 0 A_Stop
	TEN4 ABCDEDEF 3 A_FaceTarget
	TEN4 A 0 A_ChangeFlag("NOGRAVITY",0)
	TEN4 A 0 ThrustThingZ(0,64,1,0)
  AttackLoop:
	TEN4 GGHH 1 A_CheckFloor("MissileAttack")
	Loop
  MissileAttack:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileLunatic
  MissileEasy:
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet2",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 I 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet1",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 J 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet2",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 K 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet3",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 L 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet4",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 M 3 A_FaceTarget
	TEN4 N 6 A_FaceTarget
	Goto See
  MissileNormal:
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet2",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 I 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet1",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 J 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet2",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 K 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet3",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 L 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet4",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 M 3 A_FaceTarget
	TEN4 N 6 A_FaceTarget
	Goto See
  MissileHard:
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet2",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 I 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet1",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 J 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet2",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 K 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet3",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 L 3 A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet4",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 M 3 A_FaceTarget
	TEN4 N 6 A_FaceTarget
	Goto See
  MissileLunatic:
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet2",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiFloorSlamBullet",0,0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 I 3 Fast A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet1",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 J 3 Fast A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet2",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 K 3 Fast A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet3",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 L 3 Fast A_FaceTarget
	TEN4 IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 0 A_CustomMissile("TenshiNSBullet4",random(32,48),0,frandom(0,360),CMF_AIMDIRECTION,frandom(-90,90))
	TEN4 M 3 Fast A_FaceTarget
	TEN4 N 6 Fast A_FaceTarget
	Goto See
  Death:
	TENS N 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TENS N 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TENS N 0 ACS_Execute(603,0)
	TENS N 0 A_GiveInventory("BulletDeathTrigger",1)
    TENS N 0 A_NoBlocking
	TENS N 0 A_PlaySound("touhou/nuefire")
	TENS NNNOOOPPP 2 A_FadeOut(0.1)
	Stop
  }
}
ACTOR TenshiFloorSlamBullet
{
  Radius 4
  Speed 25
  FastSpeed 35
  Height 8
  damage (10)
  Projectile
  Species "Tenshi"
  +THRUSPECIES
  +FORCEXYBILLBOARD
  -NOGRAVITY
  BounceType "Doom"
  BounceCount 5
  RenderStyle Add
  DeathSound "touhou/hit2"
  States
  {
  Spawn:
	WBL1 A 0
	WBL1 A 0 Bright A_ScaleVelocity(frandom(0.25,1.0))
  LoopState:
    WBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
	WBL1 A 0 A_Jump(252,"XDeath")
	WBL1 A 0 A_SpawnItemEx("TenshiThyViolenceNurturesUsObstacle",0,0,0,0,0,0,0,0,0)
  Crash:
  XDeath:
    WBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR TenshiFloorSlamBullet2 : TenshiFloorSlamBullet
{
  BounceCount 4
  States
  {
  Spawn:
	YBL1 A 0
	YBL1 A 0 Bright A_ScaleVelocity(frandom(0.5,1.0))
  LoopState:
    YBL1 A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    Loop
  Death:
    YBL1 AAAAAAAAAA 1 Bright A_FadeOut
    Stop
  }
}
ACTOR TenshiThyViolenceNurturesUsObstacle //MUAHAHAHAHAHAHAHAHA
{
  Radius 16
  Height 48
  Species "Tenshi"
  +THRUSPECIES
  +SOLID
  States
  {
  Spawn:
	SMT2 A 0
    SMT2 A 500
	SMT2 AAAAAAAAAAAAAAAAAAAAAAAAA 1 A_FadeOut(0.04)
    Stop
  }
}

ACTOR TenshiEarthCalmingStone : Tenshi
{
  DropItem "None"
  +INVULNERABLE
  +NOPAIN
  States
  {
  Spawn:
    TENS A 0
	TENS A 0 A_SetTranslucent(0.12)
	TENS ABCDEDCB 3 A_FadeIn(0.12)
  Idle:
	TENS ABCDEDCB 3 A_Look
	Goto Idle
  See:
	TEN2 A 0 A_SetTranslucent(1.0,0)
	TEN2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TEN2 ABCDEFG 3 A_FaceTarget
    TNT1 A 0 Thing_ChangeTID(0,6215)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6215,1,true)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimer",0,6215,60)
	TEN2 A 0 ACS_Execute(602,0,104)
	TEN2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	TEN2 A 0 A_GiveInventory("SpellcardActive",1)
	TEN2 HIHIHIHIHIHI 3 A_FaceTarget
    TEN2 KJLM 4 A_FaceTarget
	TEN2 A 0 A_UnSetInvulnerable
	TEN2 A 0 A_ChangeFlag("NOPAIN",0)
	Goto Missile
  ChaseState:
	TENS ABCDEDCB 3 A_Chase
	Goto See
  Missile:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"MissileEasy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"MissileNormal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"MissileHard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"MissileLunatic")
	Goto MissileHard
  MissileEasy:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomBulletAttack(0,0,3,0,"TenshiEarthCalmingStoneRockSpawnerPuff")
	TEN3 G 0 A_CustomMissile("TenshiEarthCalmingStoneAttackEasy",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileNormal:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomBulletAttack(0,0,4,0,"TenshiEarthCalmingStoneRockSpawnerPuff")
	TEN3 G 0 A_CustomMissile("TenshiEarthCalmingStoneAttackNormal",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileHard:
	TEN3 ABCDEF 3 A_FaceTarget
	TEN3 G 0 A_CustomBulletAttack(0,0,5,0,"TenshiEarthCalmingStoneRockSpawnerPuff")
	TEN3 G 0 A_CustomMissile("TenshiEarthCalmingStoneAttackHard",32,0,0)
	TEN3 GHIJKLMNO 3 A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  MissileLunatic:
	TEN3 ABCDEF 3 Fast A_FaceTarget
	TEN3 G 0 A_CustomBulletAttack(0,0,6,0,"TenshiEarthCalmingStoneRockSpawnerPuff")
	TEN3 G 0 A_CustomMissile("TenshiEarthCalmingStoneAttackLunatic",32,0,0)
	TEN3 GHIJKLMNO 3 Fast A_FaceTarget
	TEN3 A 0 A_Jump(170,"Missile")
	Goto See
  Death:
	TENS N 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TENS N 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TENS L 0 ACS_Execute(603,0)
	TENS L 0 A_GiveInventory("BulletDeathTrigger",1)
	TENS LMN 15
	TENS N 0 A_ScreamAndUnblock
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 0 ACS_Execute(123,0)
	Stop
  }
}
ACTOR TenshiEarthCalmingStoneAttackEasy
{
  Radius 5
  Height 10
  Speed 0
  FastSpeed 0
  Damage (4)
  Scale 0.5
  DamageType "TenshiDamage"
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  Projectile
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("EnemyCounter4",12,"Death")
	TNT1 A 0 A_GiveInventory("EnemyCounter4",1)
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiEarthCalmingStoneAttackNormal : TenshiEarthCalmingStoneAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("EnemyCounter4",12,"Death")
	TNT1 A 0 A_GiveInventory("EnemyCounter4",1)
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiEarthCalmingStoneAttackHard : TenshiEarthCalmingStoneAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("EnemyCounter4",12,"Death")
	TNT1 A 0 A_GiveInventory("EnemyCounter4",1)
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiEarthCalmingStoneAttackLunatic : TenshiEarthCalmingStoneAttackEasy
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("EnemyCounter4",12,"Death")
	TNT1 A 0 A_GiveInventory("EnemyCounter4",1)
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK F 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK G 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK H 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-90,90))
	TNRK I 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiEarthCalmingStoneRockSpawnerPuff
{
  -NOGRAVITY
  +NOBLOCKMAP
  +ALWAYSPUFF
  +PUFFONACTORS
  +PUFFGETSOWNER
  +BLOODLESSIMPACT
  +FLOORHUGGER
  VSpeed 0
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 35 A_SetTics(random(10,60))
	TNT1 A 0 A_SpawnItemEx("TenshiEarthCalmingStonerRockSpawnerBullet",random(-1024,1024),random(-1024,1024),ceilingz-z-32,0,0,-8.0,0,0,0)
	TNT1 A 35 A_SetTics(random(10,60))
	TNT1 A 0 A_SpawnItemEx("TenshiEarthCalmingStonerRockSpawnerBullet",random(-1024,1024),random(-1024,1024),ceilingz-z-32,0,0,-8.0,0,0,0)
	TNT1 A 35 A_SetTics(random(10,60))
	TNT1 A 0 A_SpawnItemEx("TenshiEarthCalmingStonerRockSpawnerBullet",random(-1024,1024),random(-1024,1024),ceilingz-z-32,0,0,-8.0,0,0,0)
	TNT1 A 35 A_SetTics(random(10,60))
	TNT1 A 0 A_SpawnItemEx("TenshiEarthCalmingStonerRockSpawnerBullet",random(-1024,1024),random(-1024,1024),ceilingz-z-32,0,0,-8.0,0,0,0)
	TNT1 A 35 A_SetTics(random(10,60))
	TNT1 A 0 A_SpawnItemEx("TenshiEarthCalmingStonerRockSpawnerBullet",random(-1024,1024),random(-1024,1024),ceilingz-z-32,0,0,-8.0,0,0,0)
	Stop
  }
}
ACTOR TenshiEarthCalmingStonerRockSpawnerBullet
{
  Radius 5
  Height 10
  Speed 10
  FastSpeed 20
  Damage (8)
  DamageType "TenshiDamage"
  +RIPPER
  +FORCEXYBILLBOARD
  +SKYEXPLODE
  Renderstyle Add
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  Projectile
  States
  {
  Spawn:
    WBUB A 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	WBUB A 0 Bright A_CustomMissile("TenshiEarthCalmingStonerRockBullet",0,0,0,CMF_AIMDIRECTION,90)
	WBUB AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}
ACTOR TenshiEarthCalmingStonerRockBullet
{
  Radius 5
  Height 10
  Speed 12
  FastSpeed 12
  Damage (4)
  Scale 1.0
  DamageType "TenshiDamage"
  +RIPPER
  SeeSound "touhou/fire"
  DeathSound "touhou/hit2"
  Projectile
  States
  {
  Spawn:
	TNRK NNNOOPPPQQQNNNOOOPPPQQQ 1 Bright A_ScaleVelocity(0.75)
	TNRK A 0 Bright A_Stop
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	TNRK NOPQNOPQNOPQNOPQNOPQNOPQ 3 ThrustThingZ(0,3,0,1)
  LoopState:
    TNRK NNNOOOPPPQQQNNNOOOPPPQQQNNNOOOPPPQQQ 1 Bright A_JumpIfInTargetInventory("BulletDeathTrigger",1,"Death")
	Loop
  Death:
	TNRK AAAAAAAAAA 3 Bright A_FadeOut
	Stop
  }
}

ACTOR TenshiScarletWeatherRhapsody : Tenshi
{
//$Category "Touhou Characters"
  Health 10000
  +NOPAIN
  +INVULNERABLE
  Painchance 0
  Obituary "%o was blasted by Tenshi's Scarlet Weather Rhapsody."
  DropItem "StateOfFreedomFromWorldlyThoughts"
  var int user_angle;
  States
  {
  Spawn:
    TENS A 0
  Idle:
	TENS ABCDEDCB 3 A_Look
	Goto Idle
  See:
	TEN2 A 0 A_SetTranslucent(1.0,0)
	TEN2 A 0 A_JumpIfInventory("SpellcardActive",1,"ChaseState")
	TEN2 ABCDEFG 3 A_FaceTarget
    TNT1 A 0 Thing_ChangeTID(0,6216)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartAttack",0,6216,0,true)
    TNT1 A 0 ACS_NamedExecute("BHI_BossStartTimerAlternative",0,6216,120)
	TEN2 A 0 ACS_Execute(602,0,105)
	TEN2 A 0 A_PlaySound("touhou/spellcard",0,1.0,0,ATTN_NONE)
	TEN2 A 0 A_GiveInventory("SpellcardActive",1)
	TEN2 HIHIHIHIHIHI 3 A_FaceTarget
    TEN2 KJLM 4 A_FaceTarget
	TEN2 A 0 A_UnSetInvulnerable
	Goto Missile
  ChaseState:
	TENS ABCDEDCB 3 A_Chase
	Goto See
  Melee:
  Missile:
	TEN5 ABCDEFGHI 3 A_FaceTarget
  Missile0:
	TENS A 0 A_CheckSight("See")
	TENS A 0 A_JumpIfInventory("BossTimerCheck30",1,"Missile4")
	TENS A 0 A_JumpIfHealthLower(2500,"Missile4")
	TENS A 0 A_JumpIfInventory("BossTimerCheck60",1,"Missile3")
	TENS A 0 A_JumpIfHealthLower(5000,"Missile3")
	TENS A 0 A_JumpIfInventory("BossTimerCheck90",1,"Missile2")
	TENS A 0 A_JumpIfHealthLower(7500,"Missile2")
  Missile1:
	TENS A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile1Easy")
	TENS A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile1Normal")
	TENS A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile1Hard")
	TENS A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile1Lunatic")
	Goto Missile1Hard
  Missile1Easy:
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 JKJK 3 A_FaceTarget
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 JKJKJKJKJKJK 3 A_FaceTarget
	Goto Missile0
  Missile1Normal:
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 JKJK 3 A_FaceTarget
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 JKJKJKJKJKJK 3 A_FaceTarget
	Goto Missile0
  Missile1Hard:
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+340)
	TEN5 JKJK 3 A_FaceTarget
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+340)
	TEN5 JKJKJKJKJKJK 3 A_FaceTarget
	Goto Missile0
  Missile1Lunatic:
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+340)
	TEN5 JKJK 3 A_FaceTarget
	TEN5 K 0 A_SetUserVar("user_angle",random(0,20))
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet1",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet2",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet3",32,0,user_angle+340)
	TEN5 K 0 A_SetUserVar("user_angle",user_angle+2)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+0)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+20)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+40)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+60)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+80)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+100)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+120)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+140)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+160)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+180)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+200)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+220)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+240)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+260)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+280)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+300)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+320)
	TEN5 K 0 A_CustomMissile("TenshiNSBullet4",32,0,user_angle+340)
	TEN5 JKJKJKJKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile2:
	TEN5 A 0 A_Jump(128,"Missile1")
	TEN5 A 0 A_FaceTarget
	TEN5 K 0 A_SetAngle(angle-45)
    TEN5 K 0 A_PlaySound("touhou/laser")
  Missile2Loop:
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",90,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",270,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TEN5 J 1 Bright A_SetAngle(angle+1)
	TEN5 A 0 A_JumpIfInventory("EnemyCounter1",90,"EndMissile2")
	TEN5 A 0 A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",90,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",270,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TEN5 J 1 Bright A_SetAngle(angle+1)
	TEN5 A 0 A_JumpIfInventory("EnemyCounter1",90,"EndMissile2")
	TEN5 A 0 A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",90,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",270,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TEN5 K 1 Bright A_SetAngle(angle+1)
	TEN5 A 0 A_JumpIfInventory("EnemyCounter1",90,"EndMissile2")
	TEN5 A 0 A_GiveInventory("EnemyCounter1",1)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",0,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",90,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",180,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TNT1 A 0 A_CustomRailgun(10,0,"red","white",RGF_SILENT|RGF_FULLBRIGHT|RGF_EXPLICITANGLE,0,0,"BulletPuff",270,0,0,0,6.0,0,"PatchyRedLaserTrail",-8)
	TEN5 K 1 Bright A_SetAngle(angle+1)
	TEN5 A 0 A_JumpIfInventory("EnemyCounter1",90,"EndMissile2")
	TEN5 A 0 A_GiveInventory("EnemyCounter1",1)
	Loop
  EndMissile2:
	TEN5 L 0 A_TakeInventory("EnemyCounter1",200)
	TEN5 JKJKJKJKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile3:
	TEN5 A 0 A_Jump(170,"Missile2")
	TEN5 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile3Easy")
	TEN5 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile3Normal")
	TEN5 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile3Hard")
	TEN5 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile3Lunatic")
	Goto Missile3Hard
  Missile3Easy:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JKJKJK 3 Fast A_FaceTarget
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletEasy",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 JKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile3Normal:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JKJKJK 3 Fast A_FaceTarget
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletNormal",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 JKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile3Hard:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JKJKJK 3 Fast A_FaceTarget
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletHard",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 JKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile3Lunatic:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JKJKJK 3 Fast A_FaceTarget
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletLunatic",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 JKJKJK 3 Fast A_FaceTarget
	Goto Missile0
  Missile4:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JKJKJK 3 Fast A_FaceTarget
	TEN5 A 0 A_JumpIfInTargetInventory("EasyMode",1,"Missile4Easy")
	TEN5 A 0 A_JumpIfInTargetInventory("NormalMode",1,"Missile4Normal")
	TEN5 A 0 A_JumpIfInTargetInventory("HardMode",1,"Missile4Hard")
	TEN5 A 0 A_JumpIfInTargetInventory("LunaticMode",1,"Missile4Lunatic")
	Goto Missile4Lunatic
  Missile4Easy:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletEasy",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 LLLLLL 3 Fast A_FaceTarget
	Goto Missile0
  Missile4Normal:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletNormal",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 LLLL 3 Fast A_FaceTarget
	Goto Missile0
  Missile4Hard:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletHard",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	TEN5 LL 3 Fast A_FaceTarget
	Goto Missile0
  Missile4Lunatic:
	TEN5 K 0 A_FaceTarget
	TEN5 K 0 A_PlaySound("touhou/masterspark",0,1.0,0,ATTN_NONE)
	TEN5 JJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKKJJJKKK 1 A_CustomMissile("TenshiSWRLaserBulletLunatic",32,0,frandom(-4,4),CMF_AIMDIRECTION,frandom(-2.5,2.5))
	Goto Missile0
  Death:
	TENS N 1 ACS_NamedTerminate("BHI_BossStartAttack",0)
	TENS N 1 ACS_NamedExecute("BHI_BossStopAttack",0)
	TENS L 0 ACS_Execute(603,0)
	TENS L 0 A_GiveInventory("BulletDeathTrigger",1)
	TENS LMN 25
	TENS N 0 A_ScreamAndUnblock
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("TouhouFireWhite",frandom(4,-4),frandom(4,-4),frandom(4,-4),frandom(8,-8),frandom(8,-8),frandom(8,-8),frandom(0,360),0,0)
	TNT1 A 175
	TNT1 A 0 ACS_Execute(124,0)
	Stop
  }
}
actor TenshiSWRLaserBulletEasy
{
    Projectile
    +DONTREFLECT
    +FORCERADIUSDMG
    +THRUACTORS
    +BLOODLESSIMPACT
    +FOILINVUL
    +DONTBLAST
    +NODAMAGETHRUST
    Speed 50
    Radius 2
    Height 2
    Decal BigScorch
    DamageType "TenshiDamage"
    Obituary "%o was blasted by Tenshi's Scarlet Weather Rhapsody."
    States
    {
    Spawn:
        TNT1 A 1 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_Explode(10,40,0)
        Loop
    Death:
        TNT1 A 0
        TNT1 AA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 A 0 A_Explode(20,128,0)
        TNT1 AAAAA 0 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),0,32)
        TNT1 A 35 Radius_Quake(5,35,0,20,0)
        Stop
    }
}
actor TenshiSWRLaserBulletNormal
{
    Projectile
    +DONTREFLECT
    +FORCERADIUSDMG
    +THRUACTORS
    +BLOODLESSIMPACT
    +FOILINVUL
    +DONTBLAST
    +NODAMAGETHRUST
    Speed 50
    Radius 2
    Height 2
    Decal BigScorch
    DamageType "TenshiDamage"
    Obituary "%o was blasted by Tenshi's Scarlet Weather Rhapsody."
    States
    {
    Spawn:
        TNT1 A 1 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_Explode(10,40,0)
        Loop
    Death:
        TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 A 0 A_Explode(24,128,0)
        TNT1 AAAAA 0 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),0,32)
        TNT1 A 35 Radius_Quake(5,35,0,20,0)
        Stop
    }
}
actor TenshiSWRLaserBulletHard
{
    Projectile
    +DONTREFLECT
    +FORCERADIUSDMG
    +THRUACTORS
    +BLOODLESSIMPACT
    +FOILINVUL
    +DONTBLAST
    +NODAMAGETHRUST
    Speed 50
    Radius 2
    Height 2
    Decal BigScorch
    DamageType "TenshiDamage"
    Obituary "%o was blasted by Tenshi's Scarlet Weather Rhapsody."
    States
    {
    Spawn:
        TNT1 A 1 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_Explode(10,40,0)
        Loop
    Death:
        TNT1 AAAAAAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 A 0 A_Explode(28,128,0)
        TNT1 AAAAA 0 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),0,32)
        TNT1 A 35 Radius_Quake(5,35,0,20,0)
        Stop
    }
}
actor TenshiSWRLaserBulletLunatic
{
    Projectile
    +DONTREFLECT
    +FORCERADIUSDMG
    +THRUACTORS
    +BLOODLESSIMPACT
    +FOILINVUL
    +DONTBLAST
    +NODAMAGETHRUST
    Speed 35
    Radius 2
    Height 2
    Decal BigScorch
    DamageType "TenshiDamage"
    Obituary "%o was blasted by Tenshi's Scarlet Weather Rhapsody."
    States
    {
    Spawn:
        TNT1 A 1 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_Explode(10,40,0)
        Loop
    Death:
        TNT1 AAAAAAAAAAAA 0 A_CustomMissile("TenshiNSBullet1",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAAAAAA 0 A_CustomMissile("TenshiNSBullet2",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAAAAAA 0 A_CustomMissile("TenshiNSBullet3",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 AAAAAAAAAAAA 0 A_CustomMissile("TenshiNSBullet4",0,0,random(0,360),CMF_AIMDIRECTION,random(-15,15))
        TNT1 A 0 A_Explode(32,128,0)
        TNT1 AAAAA 0 A_SpawnItemEx("TenshiSWRLaserTrailSpawner",0,0,0,random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),random(6,-6)/(2*1.05),0,32)
        TNT1 A 35 Radius_Quake(5,35,0,20,0)
        Stop
    }
}
actor TenshiSWRLaserTrailSpawner
{
    PROJECTILE
    +NOINTERACTION
    +CLIENTSIDEONLY
    Speed 30
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 AAAAA 2 A_CustomMissile("TenshiSWRLaserTrail",0,random(-5,5),random(0,360),2,random(80,-80))
        stop
    }
}
Actor TenshiSWRLaserTrail
{
    Projectile
    +NOINTERACTION
    +CLIENTSIDEONLY
    Alpha 0.7
    Speed 10
    Scale 2
    RenderStyle Add
    States
    {
    Spawn:
        RBL4 A 2 A_FadeOut(0.1)
        Loop
    Death:
        TNT1 A 0
        Stop
    }
}
